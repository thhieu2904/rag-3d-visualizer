(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["chunk-1a354d56","chunk-3f845608","chunk-7cd4ab60","chunk-2d5010c3","chunk-172a34fa","chunk-af413294","chunk-593766b7","chunk-0469da18"],{"010c":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"privacy-statement-div"},[e("div",[e("span",{staticClass:"privacy-statement-text"},[t._v($t("v0odcqi","以上内容均由AI生成,仅供参考和借鉴","lang"))]),t._v("   "),t._m(0),e("el-popover",{attrs:{placement:"top",width:"240",trigger:"hover","popper-class":"bottom-tips-popover"}},[e("div",{staticClass:"flex flex-col"},[e("span",[e("a",{attrs:{href:"https://beian.cac.gov.cn",target:"_blank"}},[t._v($t("vwgrlvs"," 网信算备510116480389901240013号 ","lang"))])]),e("span",[e("a",{attrs:{href:"https://dxzhgl.miit.gov.cn",target:"_blank"}},[t._v($t("7qbm7zc","川B2-20231476","lang"))])]),e("span",[e("a",{attrs:{href:"https://beian.miit.gov.cn/",target:"_blank"}},[t._v($t("ovq38oi"," 蜀ICP备16012621号-8 ","lang"))])]),e("span",[e("a",{attrs:{href:"https://www.cac.gov.cn/2024-04/02/c_1713729983803145.htm",target:"_blank"}},[t._v(" Sichuan-MT-WorkGpt-20240424 ")])])]),e("i",{staticClass:"iconfont icon-a-fangxiangshangyansefalse",attrs:{slot:"reference"},slot:"reference"})]),t._v("   "),t._m(1),t._v("  |  "),t._m(2),t._v("  |  "),t._m(3),t._v("  |  "),t._m(4)],1)])},a=[function(){var t=this,e=t._self._c;return e("span",[e("a",{staticStyle:{display:"inline-block","text-decoration":"none"},attrs:{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=51019002005780"}},[t._v($t("av7861m"," 川公网安备51019002005780号 ","lang"))])])},function(){var t=this,e=t._self._c;return e("span",[e("a",{attrs:{href:"https://workbrain.cn/user_agreement.html",target:"_blank"}},[t._v($t("f6rg5q4","用户协议","lang"))])])},function(){var t=this,e=t._self._c;return e("span",[e("a",{attrs:{href:"https://workbrain.cn/privacy_policy.html",target:"_blank"}},[t._v($t("jhz6y04","隐私政策","lang"))])])},function(){var t=this,e=t._self._c;return e("span",[e("a",{attrs:{href:"https://workbrain.cn/usage_guidelines.html",target:"_blank"}},[t._v($t("aiuyvn4","使用须知","lang"))])])},function(){var t=this,e=t._self._c;return e("span",[e("a",{attrs:{href:"https://workbrain.cn/filing_publicity.html",target:"_blank"}},[t._v($t("xkw2gxb","算法及模型备案公示说明","lang"))])])}],n={},o=n,l=(i("a8d4"),i("e620"),i("36f1")),r=Object(l["a"])(o,s,a,!1,null,"12606fea",null);e["a"]=r.exports},"017f":function(t,e,i){},"01c8":function(t,e,i){t.exports=i.p+"11a8f273e1cfe723c71ae7c664bfbb75.png"},"026e":function(t,e,i){},"03a7":function(t,e,i){t.exports=i.p+"36113001cd70da24ed2f29d4f8a14d97.png"},"0474":function(t,e,i){t.exports=i.p+"static/img/t_open.6f6ef1b5.svg"},"047a":function(t,e,i){},"071c":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.shareUserInfo?e("div",{staticClass:"contentSharing-page"},[e("div",{staticClass:"contentSharing-page-content"},[e("div",{staticClass:"videoExplanation-content-name"},[t._v(t._s(t.btnName))]),e("div",{staticClass:"contentSharing-dialogue-listBox"},[e("div",{staticClass:"contentSharing-dialogue-list"},t._l(t.messageList,(function(t,i){return e("div",{key:i,staticClass:"contentSharing-dialogue-item"},[e("room-dialogue-item",{attrs:{"item-detail":t}})],1)})),0)]),e("div",{staticClass:"contentSharing-dialogue-inputBox"},[e("div",{staticClass:"bottom-tips"},[e("div",{staticClass:"bottom-tips-type"},[e("div",{staticClass:"tips-list",staticStyle:{width:"calc(100% - 30px)","overflow-x":"auto",display:"flex"},on:{wheel:t.handleScroll}},t._l(t.tipsData,(function(i,s){return e("div",{key:s,staticClass:"bottom-tips-btn",style:-1==i.type?"color:#C4CADC":"",on:{click:function(e){return e.stopPropagation(),t.sendTipsMessage(s)}}},[t._v(" "+t._s(i.tip)+" ")])})),0)])]),e("div",{staticStyle:{width:"100%"}},[t.sysInput?t._e():e("div",{staticStyle:{height:"32px"}}),t.sysInput?e("div",{staticClass:"bottom-stopBox",on:{click:t.stopSysInput}},[e("div",{staticClass:"bottom-stop"},[e("img",{staticClass:"bottom-stop-logo",attrs:{src:i("d422")}}),e("div",{staticClass:"bottom-stop-text"},[t._v($t("al0wa54","停止响应","lang"))])])]):t._e(),e("div",{staticClass:"flex y_center",staticStyle:{width:"100%"}},[e("el-input",{attrs:{placeholder:$t("qe5379f","输入你想要了解文档的问题...","lang")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.seachEnter.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),e("div",{staticClass:"send-btn",style:"zh_CN"==t.languageType?`background: url(${i("d824")}) no-repeat;`:`background: url(${i("f565")}) no-repeat;`,on:{click:t.doSendMessage}})],1)])])]),e("div",{staticClass:"contentSharing-page-list"},[e("div",{staticClass:"contentSharing-page-name"},[t._v($t("d8opb54","文档分享","lang"))]),e("div",{staticClass:"dataList"},t._l(t.dataList,(function(s,a){return e("div",{key:a,staticClass:"contentSharing-page-item",on:{click:function(e){return t.selectContent(a)}}},[e("div",{staticClass:"contentSharing-page-item-left"},[e("img",{attrs:{src:t._f("fileTypeIcon")(s.fileType)}}),e("div",{class:t.dataIndex==a?"contentSharing-page-item-contentActive":"contentSharing-page-item-content"},[e("div",{staticClass:"item-content-name"},[t._v(t._s(s.title))]),e("div",{staticClass:"item-content-info"},[t._v(t._s(s.createTime))])])]),e("div",{staticClass:"contentSharing-page-item-right"},[e("img",{staticClass:"previewImg",attrs:{src:i("4606"),alt:""},on:{click:function(e){return e.stopPropagation(),t.previewBtn(s)}}}),e("img",{staticClass:"downImg",attrs:{src:i("7acd"),alt:""},on:{click:function(e){return e.stopPropagation(),t.downloadFileItem(s)}}})])])})),0)]),e("questionTemplate",{attrs:{showDialog:t.showQuestionTemplate,dialogData:t.questionTemplateData},on:{closeDialog:t.showQuestionTemplateHide}}),e("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"980px",height:"884px",top:"5%","close-on-click-modal":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dataList.length>0?e("div",{staticClass:"contentSharing-dialogue-photo"},[t.fileUrl?e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.fileUrl}}):e("div",{staticStyle:{color:"#fff",display:"flex","align-items":"center","justify-content":"center",height:"100%"}},[t._v($t("94oc25a"," 不支持预览的附件 ","lang"))])]):t._e(),0==t.dataList.length?e("div",{staticClass:"contentSharing-dialogue-photo"},[e("div",{staticStyle:{color:"#fff",display:"flex","align-items":"center","justify-content":"center",height:"100%"}},[t._v($t("yxo9gsb"," 没有可以预览的附件 ","lang"))])]):t._e()])],1):t._e()},a=[],n=(i("6e0d"),i("13b1"),i("eb9e"),i("832b")),o=i("d3f4"),l=i("81c3"),r=i("5742"),c=i("ed08"),d=i("d761"),u=i("010c"),h=i("73e3"),p=i("e726"),g=i("f88f"),m=i("8be0"),f={components:{BackBtns:d["a"],RoomDialogueItem:o["a"],LeftButtons:n["a"],questionTemplate:r["a"],Footer:u["a"]},mixins:[m["a"]],data(){return{content:"",shareUserInfo:null,chatId:"",sendMessageParam:{dialogId:"",content:"",type:"1",timer:"",shareId:""},sendClick:null,messageTimeLine:[],messageList:[],dataList:[],dataIndex:0,tipsData:[],applyId:"",showQuestionTemplate:!1,questionTemplateData:null,filePreviewStatus:-1,companyAbilityId:null,dialogVisible:!1,fileUrl:"",isReadText:!1,stopId:null,sysInput:!1,languageType:"",timer:null}},watch:{filePreviewStatus(t){if(1==t){let t=this;this.timer=setTimeout((function(){1==t.filePreviewStatus&&(t.filePreviewStatus=-1)}),2e3)}},sysInput(t){this.$emit("flushSysInput",t)}},props:{itemId:{type:String,default:null},applyIds:{type:String,default:null},btnName:{type:String,default:null}},filters:{fileTypeIcon(t){return c["a"].fileTypeIcon(t)}},mounted(){let t=this;this.languageType=localStorage.getItem("lang"),this.applyId=this.applyIds,this.companyAbilityId=this.itemId;let e=window.localStorage.getItem("shareUserInfo-"+this.applyId);e&&(this.shareUserInfo=JSON.parse(e)),t.chatId=(Math.floor(999999999*Math.random())+1).toString(),window.localStorage.getItem("dialogId")&&(t.chatId=window.localStorage.getItem("dialogId")),this.sendMessageParam.dialogId=t.chatId,this.getDocumentListFun()},methods:{stopSysInput(){let t=this;Object(h["m"])({chatRecordId:t.stopId}).then(t=>{}),t.sysInput=!1;let e=-1;for(let i=0;i<t.messageList.length;i++)if(-1==t.messageList[i].type){e=i;break}e>-1&&(t.messageList=c["a"].deleteArrByIndex(t.messageList,e))},handleClose(){this.dialogVisible=!1},previewBtn(t){if("pdf"==t.suffix){let e="http://172.168.80.30:30177/onlinePreview?url=";e="https://mingto.ai/preview/onlinePreview?url=",e+=g["a"].encode(t.viewUrl),this.fileUrl=t.previewUrl?t.previewUrl:e}else this.fileUrl=t.previewUrl;this.dialogVisible=!0},selectContent(t){let e=this;if(e.dataIndex!=t){e.filePreviewStatus=1,e.dataIndex=t;let i=window.localStorage.getItem("message-list-doc-"+e.applyId+"-"+(e.dataList&&e.dataList.length>0?e.dataList[e.dataIndex].id:0));if(i)e.messageList=JSON.parse(i);else{e.messageList=[];let t={content:$t("hfbrryn","针对该文档中的内容，你可以通过对话进行咨询了解","lang"),isSender:!1,type:1};e.messageList.push(t)}e.messageList.length>0&&e.$nextTick((function(){let t=e.messageList[e.messageList.length-1],i=document.getElementById(t.chatRecordId+"_item");i&&i.scrollIntoView(!1)}))}},getShareList(){let t=this;Object(l["j"])({userId:t.applyId,companyAbilityId:this.companyAbilityId}).then(e=>{if(e&&200==e.code){t.dataList=e.data,t.filePreviewStatus=1;let i=window.localStorage.getItem("message-list-doc-"+t.applyId+"-"+(t.dataList&&t.dataList.length>0?t.dataList[t.dataIndex].id:0));if(i&&i.length>0&&(t.messageList=JSON.parse(i)),0==t.messageList.length&&t.dataList.length>0){let e={content:$t("hfbrryn","针对该文档中的内容，你可以通过对话进行咨询了解","lang"),isSender:!1,type:1};t.messageList.push(e)}t.messageList.length>0&&t.$nextTick((function(){let e=t.messageList[t.messageList.length-1],i=document.getElementById(e.chatRecordId+"_item");i&&i.scrollIntoView(!1)}))}else t.$message.error(e.msg?e.msg:e.errMsg)})},getDocumentListFun(){const t=this;let e={pageNum:1,pageSize:500,toUserId:t.companyAbilityId,applyId:t.applyId};Object(p["u"])(e).then(e=>{if(200==e.code){t.dataList=e.data.list.map(t=>({...t,fileType:t.suffix}))||[],t.filePreviewStatus=1;let i=window.localStorage.getItem("message-list-doc-"+t.applyId+"-"+(t.dataList&&t.dataList.length>0?t.dataList[t.dataIndex].id:0));if(i&&i.length>0&&(t.messageList=JSON.parse(i)),0==t.messageList.length&&t.dataList.length>0){let e={content:$t("hfbrryn","针对该文档中的内容，你可以通过对话进行咨询了解","lang"),isSender:!1,type:1};t.messageList.push(e)}t.messageList.length>0&&t.$nextTick((function(){let e=t.messageList[t.messageList.length-1],i=document.getElementById(e.chatRecordId+"_item");i&&i.scrollIntoView(!1)}))}})},seachEnter(t){var e=window.event?t.keyCode:t.which;13==e&&this.doSendMessage()},handleScroll(){event.preventDefault();const t=event.currentTarget;t.scrollLeft+=event.deltaY},goShowRoom(){this.$router.push({path:"/showRoom",query:{applyId:this.shareUserInfo.applyId}})},receiveMessage(t){let e=this;t.content&&t.content.endsWith("\n\n")&&(t.content=t.content.replace(/\n\n$/,""));let i=-1;for(let n=0;n<e.messageList.length;n++)if(-1==e.messageList[n].type){i=n;break}if(i>-1&&(e.messageList=c["a"].deleteArrByIndex(e.messageList,i)),e.spellTipsData=null,e.tipsData=null,e.sendClick=null,t["openRecord"]=!1,t["openTips"]=!1,t["hasLoading"]=1==t.type,t["extend"]){let e=t["extend"];"string"===typeof e&&(t["extend"]=JSON.parse(e))}if(t["tips"]&&(e.tipsData=JSON.parse(t["tips"])),t["spellTips"]&&(e.spellTipsData=JSON.parse(t["spellTips"])),t["createTime"]){if(e.messageTimeLine.length>0){let i=e.messageTimeLine[e.messageTimeLine.length-1],s=new Date(i),a=new Date(t.createTime),n=a.getTime()-s.getTime();n>3e5&&(t["showTime"]=!0)}else t["showTime"]=!0;t.createTime&&-1==e.messageTimeLine.indexOf(t.createTime)&&(t.createTime=t.createTime.replace(/-/g,"/"),e.messageTimeLine.push(t.createTime))}102==t.type&&t.isRefresh&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel(),108==t.type&&(t["showAll"]=!1),2!=t.type&&3!=t.type&&109!=t.type||(t["isRecive"]=!0);let s=!1,a=-1;for(let n=0;n<e.messageList.length;n++)if(e.messageList[n].chatRecordId==t.chatRecordId){s=!0,a=n;break}if(t.extend&&t.extend.hasOwnProperty("wordIndex")){let e={content:t.content,wordIndex:t.extend["wordIndex"]};t.letter=e,t.letters=[e]}if(s||-1!=a||114==t.type||202==t.type||(t.dialogId==e.chatId&&e.messageList.push(t),113!=t.type&&t.type,-3==t.type&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()),s&&a>-1&&112==t.type&&t.dialogId==e.chatId)if(t.letter&&t.letter["wordIndex"]||0===t.letter["wordIndex"]){let i=e.messageList[a],s=i.letters.filter(e=>e.wordIndex==t.letter.wordIndex);s.length<1&&i.letters.push(t.letter),i.letters.sort((function(t,e){return t.wordIndex-e.wordIndex}));let n=i.letters.map(t=>t.content).join("");i.content=n}else e.messageList[a].content=e.messageList[a].content+t.content;114==t.type&&(localStorage.setItem("message-list-doc-"+this.applyId+"-"+(e.dataList&&e.dataList.length>0?e.dataList[e.dataIndex].id:0),JSON.stringify(e.messageList)),e.sysInput=!1,t["state"]=1,t["chatRecordId"]=(new Date).getTime(),e.messageList.push(t),setTimeout((function(){let t=-1;for(let i=0;i<e.messageList.length;i++)if(114==e.messageList[i].type&&1==e.messageList[i].state){t=i;break}if(t>-1){let i=JSON.parse(JSON.stringify(e.messageList[t]));i.state=-1,e.$set(e.messageList,t,i)}}),3e3)),112!=t.type&&113!=t.type&&114!=t.type&&202!=t.type&&(e.sysInput=!1,localStorage.setItem("message-list-doc-"+this.applyId+"-"+(e.dataList&&e.dataList.length>0?e.dataList[e.dataIndex].id:0),JSON.stringify(e.messageList))),e.$nextTick((function(){let e=document.getElementById(t.chatRecordId+"_item");e&&e.scrollIntoView(!1)}))},doSendMessage(){let t=this;if(""==t.content)return void this.$message.error($t("7z4sop8","发送消息不能为空","lang"));if(0==t.dataList.length)return void t.$message.error($t("ydt3c16","分享文档为空","lang"));if(t.sysInput)return void t.$message.error($t("3dvwff7","系统正在回复中","lang"));let e=(new Date).getTime();if(t.sendClick){const i=Object.keys(t.sendClick),s=i[i.length-1],a=t.sendClick[s];let n=e-a;if(n<1e3)return;t.sendClick[e]=e}else t.sendClick={},t.sendClick[e]=e;const i=e+"_my";t.messageList.push({type:1,chatRecordId:i,content:t.content,isSender:!0}),t.stopId=i.slice(0,-3),t.sysInput=!0;let s=!1;for(let n=0;n<t.messageList.length;n++)if(-1==t.messageList[n].type){s=!0;break}if(t.messageList.push(t.messageList.splice(t.messageList.findIndex(t=>-1==t.type),1)[0]),!s){let i=e+"_temp";t.messageList.push({content:$t("r320196","输入中...","lang"),chatRecordId:i,isSender:!1,type:"-1"}),t.$nextTick((function(){let t=document.getElementById(i+"_item");t&&t.scrollIntoView(!0)}))}t.sendMessageParam.timer=e,t.sendMessageParam["content"]=t.content,t.sendMessageParam["shareId"]=t.dataList[t.dataIndex].id;let a=JSON.parse(JSON.stringify(t.sendMessageParam));c["a"].ajax({url:"/chat/company/word/send",type:"post",data:a},(function(e,i){if(e&&e.length>0){let i=-1;for(let e=0;e<t.messageList.length;e++)if(202==t.messageList[e].type){i=e;break}for(let a=0;a<e.length;a++){if(e[a].hasOwnProperty("wordIndex")){let t={wordIndex:e[a].wordIndex};if(e[a].hasOwnProperty("extend")){let i=JSON.parse(e[a]["extend"]);for(let e in i)t[e]=i[e];e[a]["extend"]=t}else e[a]["extend"]=t}if(i>-1&&202==e[a].type)try{e[a].chatRecordId=t.messageList[i].chatRecordId}catch(s){}t.receiveMessage(e[a])}}})),t.content=""},sendTipsMessage(t){let e=this;if(e.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));let i=this.tipsData[t];if(-1!=i.type){if(1==i.type){let t=i.tip;e.isInputVal=!1,e.content=t,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}2==i.type&&(this.showQuestionTemplate=!0,i["applyId"]=this.applyId,this.questionTemplateData=i),3==i.type&&(this.content=i.tip)}},showQuestionTemplateHide(t){this.showQuestionTemplate=!1},changePage(t){this.$router.push({path:t.path,query:{applyId:this.applyId}})},rendered(t){this.filePreviewStatus=2},renderError(t){this.filePreviewStatus=-1}}},v=f,y=(i("087f"),i("36f1")),b=Object(y["a"])(v,s,a,!1,null,"07d0dcf0",null);e["default"]=b.exports},"087f":function(t,e,i){"use strict";i("72b5")},"0c74":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return o}));var s=i("b775");function a(t){return Object(s["b"])({url:"/tts/cognitiveservices/v1",method:"post",responseType:"blob",data:t})}function n(t){return Object(s["b"])({url:"/file/downloadQa",method:"get",responseType:"blob",data:t})}function o(t){return Object(s["b"])({url:"/knowledge/qa/update/image",method:"post",data:t})}},"0fef":function(t,e,i){"use strict";i("c60c")},"108f":function(t,e,i){t.exports=i.p+"944dbedd5c9e06568913161110ffa059.png"},"112a":function(t,e,i){},"13e1":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[e("swiper",{staticClass:"swiper-container",attrs:{options:{slidesPerView:"auto",slideToClickedSlide:!0,freeMode:!0,mousewheel:!0}}},t._l(t.folderRouter,(function(i,s){return e("swiper-slide",{key:s},[e("el-breadcrumb-item",{class:{"is-active":s===t.folderRouter.length-1},nativeOn:{click:function(e){return t.handleClick(s)}}},[t._v(" "+t._s(i.name)+" ")])],1)})),1)],1)},a=[],n={name:"folder-router",props:{folderRouter:{type:Array,default:()=>[]}},methods:{handleClick(t){t!==this.folderRouter.length-1&&this.$emit("click",t)}}},o=n,l=(i("2488"),i("36f1")),r=Object(l["a"])(o,s,a,!1,null,"147b8978",null);e["a"]=r.exports},1462:function(t,e,i){},"15ad":function(t,e,i){t.exports=i.p+"2dc7453305fb774ca7b87493632b5456.gif"},"16e8":function(t,e,i){t.exports=i.p+"8403c6f07f9ad0d750b70ad4e0e774d4.png"},1817:function(t,e,i){"use strict";i("a1c6")},"199c":function(t,e,i){"use strict";i("57e8")},"19ad":function(t,e,i){"use strict";i("bbde")},"1a0c":function(t,e,i){"use strict";i("3fdf")},"1aca":function(t,e,i){t.exports=i.p+"63828847110805fad30b6b5ad2efaede.png"},"1ca6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEISURBVHgBjVJBbsJADLSdkPM+YfuAquTQQ2/0CX1Bv8APaJ/Sl8CNSqjaSG3v9Ac5VoXa2AGCgYBiabOWPRN77AW4YIv0PXn/+BpfymNXcJ5SJC6mABIKWt2UZVmfYqiLmEPxrKSobvhd5+NeFV21uAvVXVVxvvgcAWEkgjtgNPDQkfawpX4qIFn+r+FHBGZ5luFEnRGwAQS6rflRNEym4hBhRgNcPWnDFfQ0JVXGaTSmlMKfDKZacNiD9Gh62+E0ZC7Sub7WjobUrmMbkABXzE+WfEW9rhHDDnNM1EV7fTWzvNrxTI85vBzdpV0GNi0P97cvdlh9Fn6zHAKeD8/a8K2cmr0on98A0KZ1wr5VGOcAAAAASUVORK5CYII="},"1d7b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.shareUserInfo&&t.noData404&&t.applyId?e("div",{staticClass:"show-page",style:`background: url('${t.shareUserInfo.backIcon}') no-repeat;`},[e("div",{staticClass:"show-page-avatar",on:{click:t.toIndex}},[t.liveList.length>0?e("div",{staticClass:"use-live-box"},[e("div",{staticClass:"use-img-live"}),e("div",{staticClass:"userImg"},[e("img",{attrs:{src:t.shareUserInfo.personalCenterImg}})]),e("div",{staticClass:"live-icon"},[t._v($t("oinl2","讲解","lang"))])]):e("div",{staticClass:"userImg"},[e("img",{attrs:{src:t.shareUserInfo.personalCenterImg}})]),e("div",{staticClass:"avatar-box"},[e("div",{staticClass:"avatar-name"},[e("span",{staticClass:"userNameCen"},[t._v(t._s(t.shareUserInfo.name))])]),e("div",{staticClass:"avatar-option"},[e("div",{staticClass:"option-item"},[e("img",{attrs:{src:i("c841"),alt:""}}),e("span",[t._v(t._s(t.shareUserInfo.accesses))])]),t.userInfo&&t.userInfo.futureId&&t.userInfo.futureId!=t.shareUserInfo.userId&&!t.shareUserInfo.sys?e("div",{staticClass:"option-item",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.followFn()}}},[e("img",{attrs:{src:t.follow?i("b877"):i("1ca6"),alt:""}}),e("span",{attrs:{title:t.follow?t.t($t("e5tmv3","已关注","lang")):t.t($t("eg9h2","关注","lang"))}},[t._v(t._s(t.follow?t.t($t("e5tmv3","已关注","lang")):t.t($t("eg9h2","关注","lang"))))])]):t._e()])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.sendMessageParam.applyId&&t.showMenuSide,expression:"sendMessageParam.applyId != '' && showMenuSide"}],staticClass:"btnList"},[e("div",{staticClass:"btnList-scroll"},[e("left-buttons",{ref:"leftBtns",attrs:{applyId:t.sendMessageParam.applyId,"data-list":t.btnList,active:t.active},on:{changePage:t.changePage,handleLogin:t.handleLogin}})],1)]),e("div",{staticClass:"header-right flex justify-end align-center"},[t.liveList.length>0?e("div",{staticClass:"live-box",on:{click:t.touchLive}},[e("img",{attrs:{src:"https://1-future-tuzai.obs.cn-southwest-2.myhuaweicloud.com/web_image/%E8%AF%AD%E9%9F%B3%E7%9F%AD%E7%99%BD.gif",alt:"",width:"20"}}),t._v($t("k87on96"," 进入讲解 ","lang"))]):t._e(),e("div",{staticClass:"share-btn switching"},[e("img",{attrs:{src:i("108f"),alt:""},on:{mouseover:t.handleMouseOver}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLangs,expression:"isShowLangs"}],staticClass:"change-btn",on:{mouseleave:t.handleMouseLeave}},t._l(t.langs,(function(s,a){return e("div",{key:a,staticClass:"flex between",class:{"active-bg":s.check},on:{click:function(e){return t.handleLangs(s,a)}}},[e("div",{staticClass:"flex"},[e("div",{staticClass:"text"},[t._v(t._s(s.name))])]),e("div",{staticClass:"rig"},[s.check?e("img",{attrs:{src:i("3409"),alt:""}}):e("img",{attrs:{src:i("5c29"),alt:""}})])])})),0)]),e("el-tooltip",{attrs:{content:t.isFullScreen?$t("ii96jl4","退出全屏","lang"):$t("ecpz2","全屏","lang")}},[e("div",{staticClass:"share-btn",on:{click:t.doFullScreen}},[e("i",{staticClass:"iconfont",class:t.isFullScreen?"icon-Frame7":"icon-quanping"})])]),e("el-tooltip",{attrs:{value:!t.isOpenVoice,content:t.isOpenVoice?t.t($t("en4fpi8","点击关闭语音播报","lang")):t.t($t("l7828f8","点击开启语音播报","lang"))}},[e("div",{staticClass:"share-btn",on:{click:t.doVoice}},[e("i",{staticClass:"iconfont",class:t.isOpenVoice?"icon-shengyin":"icon-volume-x"})])]),e("el-tooltip",{attrs:{content:t.t($t("edt12","分享","lang"))}},[e("div",{staticClass:"share-btn",on:{click:t.doShareUrl}},[e("i",{staticClass:"iconfont icon-fenxiang"})])]),e("el-tooltip",{attrs:{content:$t("pw132","链接","lang")}},[e("div",{staticClass:"share-btn",on:{click:t.doShareStroke}},[e("i",{staticClass:"iconfont icon-a-IconStroke1"})])])],1),e("div",{staticClass:"page-center"},[t.shareUserInfo?e("lay-out",{ref:"dialogLayout",attrs:{itemId:t.btnCheck.id,applyIds:t.sendMessageParam.applyId,abilityId:t.btnCheck.abilityId,btnList:t.btnList,shareUserInfo:t.shareUserInfo,btnActive:t.active,companyTaskTem:t.tipsData,isEduPrologue:t.isEduPrologue,hasEduTaskFlag:t.hasEduTaskFlag},on:{"update:abilityId":function(e){return t.$set(t.btnCheck,"abilityId",e)},"update:ability-id":function(e){return t.$set(t.btnCheck,"abilityId",e)},changeVisible:e=>t.showMenuSide=e,postknowledge:t.postknowledge,recommendshowEmit:t.recommendshowEmit,setHome:t.toIndex,changeMenu:e=>t.showMenuRight=e,handleSendTip:t.handleSendTip,changeVoiceMute:t.handleChangeVoiceMute,"update:isEduPrologue":function(e){t.isEduPrologue=e},"update:is-edu-prologue":function(e){t.isEduPrologue=e}}}):t._e()],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenuSide&&-1==t.btnCheck.abilityId,expression:"showMenuSide && btnCheck.abilityId == -1"}],staticClass:"customerService-box"},[e("RightList",{ref:"rightListRef",attrs:{showMenu:t.showMenuRight,applyId:t.applyId,sysInput:t.sysInput,sendMessageParam:t.sendMessageParam,tipsData:t.tipsData,userId:t.shareUserInfo.userId,isMy:t.userInfo&&t.userInfo.tuzaiInfo&&t.userInfo.tuzaiInfo.applyId==t.applyId},on:{"update:showMenu":function(e){t.showMenuRight=e},"update:show-menu":function(e){t.showMenuRight=e},sendTipsMessage:t.doSendTipsMessage,setTipData:t.setTipDataFn}})],1),e("questionTemplate",{attrs:{showDialog:t.showQuestionTemplate,dialogData:t.questionTemplateData},on:{closeDialog:t.showQuestionTemplateHide}}),e("el-dialog",{staticClass:"videoDialog",attrs:{title:t.t($t("fpcxd54","知识推荐","lang")),visible:t.videoShow,width:"70%","before-close":t.handleClose,"destroy-on-close":!0},on:{"update:visible":function(e){t.videoShow=e}}},[3==t.fileFrom.feedType?e("div",{staticStyle:{padding:"20px"}},[e("video",{attrs:{controls:"",height:"500px",width:"100%",src:t.fileFrom.viewUrl}})]):t._e(),0==t.fileFrom.feedType?e("div",{staticStyle:{padding:"20px",height:"500px"}},[e("Contentshow",{attrs:{keyWordsListItem:t.fileFrom}})],1):t._e()]),t._e(),e("shareCode",{attrs:{show:t.isDialogVisibleShare,name:t.shareUserInfo.name,logoUrl:t.shareUserInfo.personalCenterImg},on:{handleShare:t.handleShare}}),e("loginPoster",{attrs:{show:t.isDialogVisible},on:{handleLogin:t.handleLogin}})],1):e("div",{staticClass:"noData"},[t.noData404?t._e():e("el-empty",{attrs:{image:i("16e8"),description:t.description,"image-size":400}})],1)},a=[],n=(i("6e0d"),i("13b1"),i("264f"),i("eb9e"),i("e0f4")),o=i("8327"),l=i("7069"),r=i("832b"),c=i("d3f4"),d=i("5742"),u=i("2c40"),h=i("7bd6f"),p=i("071c"),g=i("3e74"),m=i("d761"),f=i("010c"),v=i("bb56"),y=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"share-poster",attrs:{visible:t.show,"before-close":t.handleClose},on:{"update:visible":function(e){t.show=e},close:t.handleClose}},[e("div",{staticClass:"mian-poster"},[e("div",{staticClass:"name"},[t._v(t._s(t.name))]),e("canvas",{ref:"canvas",staticClass:"qRCode_header",attrs:{id:"QRCode_header"}}),e("div",{staticClass:"btn",on:{click:t.saveCode}},[t._v($t("aft4634","下载图片","lang"))])])])},b=[],w=i("a330"),I=i.n(w),C=i("25e1"),k=i.n(C),S=i("ed08"),x={props:{show:{type:Boolean,default:!1},name:{type:String,default:!1},logoUrl:{type:String,default:""}},data(){return{timer:null,logo:"",base64Image:""}},watch:{logoUrl:{handler(t,e){this.logo=t},deep:!0,immediate:!0}},mounted(){this.timer=setInterval(()=>{let t=this.$refs.canvas;t&&(this.getQRCode(),clearInterval(this.timer))},1e3);const t=S["a"].getQueryVariable(window.location.href,"applyId");if(this.isMobile()){const e="https://mingto.ai/mobile/?applyId="+t;window.location.href=e}},methods:{getQRCode(){let t=this,e=window.location.href,i={errorCorrectionLevel:"H",type:"image/png",quality:.3,margin:2,width:300,height:300,color:{dark:"#000",light:"#fff"}};I.a.toCanvas(t.$refs.canvas,e,i,(function(e){e||t.base64Img(`${t.logo}?t=${Date.now()}`).then(e=>{t.setLogo(e)})}))},setLogo(t){let e=this;const i=e.$refs.canvas;i.style.backgroundColor="#fff";const s=i.getContext("2d");s.fillStyle="#f0f0f0",s.fillRect(112.5,112.5,80,80);const a=new Image;s.imageSmoothingEnabled=!1,a.src=t,a.onload=()=>{let t=108,e=108;s.drawImage(a,t,e,90,90)}},async base64Img(t){const e=await fetch(t),i=await e.blob();return new Promise(t=>{const e=new FileReader;e.readAsDataURL(i),e.onloadend=()=>{t(e.result)}})},saveCode(){let t=this;k()(t.$refs.canvas,{backgroundColor:"#fff",useCORS:!0,allowTaint:!1}).then(t=>{let e=t.toDataURL("image/jpg");if(""!==e){var i=document.createElement("a");i.crossOrigin="*",i.href=e,i.download=$t("c4ffd3","二维码","lang"),i.click(),i.remove()}})},isMobile(){let t=navigator.userAgent.match(/(phone|iPhone|Android|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t},handleClose(){this.$emit("handleShare",!1)}}},A=x,L=(i("f9bc"),i("36f1")),T=Object(L["a"])(A,y,b,!1,null,null,null),O=T.exports,_=function(){var t=this,e=t._self._c;return e("el-dialog",{staticClass:"login-poster",attrs:{"show-close":!1,visible:t.show,"before-close":t.handleClose},on:{"update:visible":function(e){t.show=e},close:t.handleClose}},[e("div",{staticClass:"mian-poster"},[e("div",{staticClass:"login-poster__content"},[e("div",{staticClass:"flex w-full title-img"},[e("img",{staticClass:"layout-logo__img",attrs:{src:i("3728")}})]),e("div",{staticClass:"login-poster__form"},[e("div",{staticClass:"login-poster__form_google",on:{click:t.handleGoogle}},[e("img",{attrs:{src:i("f3fa")}}),e("div",{staticClass:"txt"},[t._v("Sign in with Google")])]),e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v($t("padf2","邮箱","lang"))]),e("div",{staticClass:"login-poster__form-input"},[e("el-input",{staticClass:"login-poster__form-account",attrs:{placeholder:$t("2j1oau5","请输入账号","lang")},on:{input:t.handlePhoneInput},model:{value:t.loginForm.account,callback:function(e){t.$set(t.loginForm,"account",e)},expression:"loginForm.account"}})],1)]),"register"===t.loginWay?e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v($t("g9ob2","密码","lang"))]),e("div",{staticClass:"login-poster__form-input"},[e("el-input",{staticClass:"login-poster__form-account",attrs:{type:"password",placeholder:$t("k0rohrt","密码需8-16 位，包含大写字母、小写字母、数字或特殊字符","lang"),"show-password":""},on:{input:t.handlePassordInput},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),"register"!==t.loginWay||t.validatePsw?t._e():e("div",{staticClass:"password-erro"},[t._v($t("8tq8khv"," 密码需8-16 位，包含大写字母、小写字母、数字或特殊字符 ","lang"))])]):t._e(),"register"===t.loginWay?e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v($t("frqaup4","确认密码","lang"))]),e("div",{staticClass:"login-poster__form-input"},[e("el-input",{staticClass:"login-poster__form-account",attrs:{type:"password",placeholder:$t("hrcq067","请输入确认密码","lang"),"show-password":""},on:{input:t.handleCheckInput},model:{value:t.loginForm.copyPassword,callback:function(e){t.$set(t.loginForm,"copyPassword",e)},expression:"loginForm.copyPassword"}})],1),"register"!==t.loginWay||t.checkPassword?t._e():e("div",{staticClass:"password-erro"},[t._v($t("gu66be9"," 需要和密码相同 ","lang"))])]):t._e(),e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v(" "+t._s("login"===t.loginWay?$t("g9ob2","密码","lang"):$t("nbcoc3","验证码","lang"))+" ")]),e("div",{staticClass:"login-poster__form-input"},["register"===t.loginWay||"forgot"===t.loginWay?e("el-input",{staticClass:"input",attrs:{placeholder:$t("7b32n16","请输入验证码","lang")},scopedSlots:t._u([{key:"append",fn:function(){return[e("el-button",{staticClass:"cursor-pointer",attrs:{type:"primary"},on:{click:t.sendVerifyCode}},[t._v(t._s(60===t.verifyCodeTime?$t("8mg9yc5","发送验证码","lang"):`${t.verifyCodeTime}${$t("fpuvs44","秒后再试","lang")}`))])]},proxy:!0}],null,!1,168165752),model:{value:t.loginForm.verifyCode,callback:function(e){t.$set(t.loginForm,"verifyCode",e)},expression:"loginForm.verifyCode"}}):e("el-input",{staticClass:"input",attrs:{type:"password",placeholder:$t("2j9vj05","请输入密码","lang"),"show-password":""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1)]),"forgot"===t.loginWay?e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v($t("g9ob2","密码","lang"))]),e("div",{staticClass:"login-poster__form-input"},[e("el-input",{staticClass:"login-poster__form-account",attrs:{type:"password","show-password":"",placeholder:$t("k0rohrt","密码需8-16 位，包含大写字母、小写字母、数字或特殊字符","lang")},on:{input:t.handlePassordInput},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),"forgot"!==t.loginWay||t.validatePsw?t._e():e("div",{staticClass:"password-erro"},[t._v($t("8tq8khv"," 密码需8-16 位，包含大写字母、小写字母、数字或特殊字符 ","lang"))])]):t._e(),"forgot"===t.loginWay?e("div",{staticClass:"login-poster__form-item"},[e("div",{staticClass:"login-poster__form-label"},[t._v($t("frqaup4","确认密码","lang"))]),e("div",{staticClass:"login-poster__form-input"},[e("el-input",{staticClass:"login-poster__form-account",attrs:{type:"password",placeholder:$t("hrcq067","请输入确认密码","lang"),"show-password":""},on:{input:t.handleCheckInput},model:{value:t.loginForm.copyPassword,callback:function(e){t.$set(t.loginForm,"copyPassword",e)},expression:"loginForm.copyPassword"}})],1),"register"!==t.loginWay||t.checkPassword?t._e():e("div",{staticClass:"password-erro"},[t._v($t("gu66be9"," 需要和密码相同 ","lang"))])]):t._e(),e("div",{staticClass:"login-flex"},[e("div",{staticClass:"login-or-register",on:{click:t.switchLoginWay}},[t._v(" "+t._s("login"===t.loginWay?$t("iyzo2","注册","lang"):$t("koca2","登录","lang"))+" ")]),"login"===t.loginWay?e("div",{staticClass:"forgot",on:{click:t.handleForgot}},[t._v($t("co3ob74","忘记密码","lang"))]):t._e()])]),e("div",{staticClass:"login-poster__btns"},[e("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disabled},on:{click:t.loginClick}},[t._v(" "+t._s("login"===t.loginWay?$t("koca2","登录","lang"):"register"===t.loginWay?$t("iyzo2","注册","lang"):$t("l9122","确认","lang")))])],1),e("div",{staticClass:"login-poster__links"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"login-poster__check",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:function(e){var i=t.checked,s=e.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=t._i(i,n);s.checked?o<0&&(t.checked=i.concat([n])):o>-1&&(t.checked=i.slice(0,o).concat(i.slice(o+1)))}else t.checked=a}}}),e("div",{staticClass:"login-poster__text"},[t._v($t("5ltzc"," 勾选既代表您同意并接受","lang")),e("a",{attrs:{href:`https://mingto.ai/tos/tos_${t.langs}.html`,target:"_blank"}},[t._v($t("f6rg5q4","用户协议","lang"))]),t._v("、"),e("a",{attrs:{href:`https://mingto.ai/pp/pp_${t.langs}.html`,target:"_blank"}},[t._v($t("jhz6y04","隐私政策","lang"))])])])]),e("Vcode",{attrs:{"slider-text":$t("u7z1du8","拖动滑块完成拼图","lang"),"success-text":$t("k2omx04","验证成功","lang"),"fail-text":$t("tgazdw8","验证失败，请重试","lang"),show:t.isShow},on:{success:t.onSuccess,close:t.onClose}})],1)])},$=[],D=i("4920"),j=i("34d3");const R="MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBSYtNb6neLrrwsuPBsIFjpZBrffdkA8bpp2S35o2TCdhfdxS0nc4pkv9cJLkUvFa+gdQ5nLifnK9B1XoVbIQwY212QAftTDbl77bcHu7GAbv2TZr9pelSeUm1SrtMK5HDr/LzxTutGr4DovVHiDgEn45GQ1X5U+zC0Jp4Awn6ZwIDAQAB";function F(t){const e=new j["a"];return e.setPublicKey(R),e.encrypt(t)}var E=i("470d"),P=i.n(E),N=i("7bd6"),M={props:{show:{type:Boolean,default:!1}},components:{Vcode:P.a},data(){return{dialogVisible:!0,loginForm:{phone:null,verifyCode:null,account:null,password:null,copyPassword:null},disabled:!0,loginWay:"login",verifyCodeTimer:null,verifyCodeTime:60,checked:!1,isShow:!1,checkPassword:!0,validatePsw:!0,verifyImg:i("2591"),loading:!1,langs:localStorage.getItem("lang")}},methods:{...Object(o["d"])(["setToken","setUserInfo"]),handlePhoneInput(){this.loginForm.phone||this.loginForm.account?this.disabled=!1:this.disabled=!0},handlePassordInput(){if("register"===this.loginWay||"forgot"===this.loginWay){const t=this.loginForm.password,e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d~!@#$%^&*-]{8,16}$/;t&&e.test(t)?this.validatePsw=!0:this.validatePsw=!1}},handleCheckInput(){this.loginForm.copyPassword===this.loginForm.password?this.checkPassword=!0:this.checkPassword=!1},switchLoginWay(){this.loginWay="login"===this.loginWay?"register":"login",this.loginForm={phone:null,verifyCode:null,account:null,password:null,copyPassword:null}},sendVerifyCode(){if(this.verifyCodeTimer)this.$message.warning($t("m7sdeu6","请勿频繁点击","lang"));else if(this.loginForm.account)if("register"===this.loginWay){if(!this.loginForm.password)return void this.$message.warning($t("2j9vj05","请输入密码","lang"));if(!this.loginForm.copyPassword)return void this.$message.warning($t("hrcq067","请输入确认密码","lang"));const t=this.loginForm.password,e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d~!@#$%^&*-]{8,16}$/;if(!t||!e.test(t))return void this.$message.warning($t("k0rohrt","密码需8-16 位，包含大写字母、小写字母、数字或特殊字符","lang"));if(this.validatePsw=!0,this.loginForm.password!==this.loginForm.copyPassword)return void this.$message.warning($t("t3gqu47","请确认密码一致","lang"));this.isShow=!0}else this.isShow=!0;else this.$message.warning($t("2j0utw5","请输入邮箱","lang"))},loginClick(){let t=this;if("register"===t.loginWay){if(!t.checked)return void t.$message.warning($t("9x7s5b5","请勾选协议","lang"));t.loading=!0,t.disabled=!0;const e={email:t.loginForm.account,code:t.loginForm.verifyCode,userPass:t.loginForm.password};setTimeout(()=>{t.loading=!1,t.disabled=!1},1e3),Object(D["c"])(e).then(e=>{if(200===e.code){t.$message.success($t("e2x6wj4","注册成功","lang"));let i=e.data;t.setToken(e.data.token),t.setUserInfo(i),t.getUserInfo(i)}else t.$message.error(e.errMsg||$t("e2w0544","注册失败","lang"))})}else"forgot"===t.loginWay?t.gorgotPsd():t.accountLogin()},gorgotPsd(){if(!this.loginForm.verifyCode)return void this.$message.warning($t("7b32n16","请输入验证码","lang"));if(!this.loginForm.password)return void this.$message.warning($t("2j9vj05","请输入密码","lang"));if(!this.loginForm.copyPassword)return void this.$message.warning($t("hrcq067","请输入确认密码","lang"));const t=this.loginForm.password,e=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d~!@#$%^&*-]{8,16}$/;if(!t||!e.test(t))return void this.$message.warning($t("k0rohrt","密码需8-16 位，包含大写字母、小写字母、数字或特殊字符","lang"));if(this.validatePsw=!0,this.loginForm.password!==this.loginForm.copyPassword)return void this.$message.warning($t("t3gqu47","请确认密码一致","lang"));if(!this.checked)return void this.$message.warning($t("9x7s5b5","请勾选协议","lang"));let i=this;i.loading=!0,i.disabled=!0,Object(D["d"])({email:i.loginForm.account,userPass:F(i.loginForm.password),verificationCode:i.loginForm.verifyCode}).then(t=>{if(200===t.code){t.data;i.setToken(t.data.token),i.setUserInfo(t.data),i.getUserInfo(t.data),i.$message.success($t("fcewjt4","登录成功","lang"))}else this.$message.error(t.msg||$t("fcdpse4","登录失败","lang")),this.loading=!1,this.disabled=!1})},accountLogin(){let t=this;this.checked?this.loginForm.account.length?this.loginForm.password.length?(this.loading=!0,this.disabled=!0,Object(D["a"])({email:t.loginForm.account,userPass:F(t.loginForm.password)}).then(e=>{if(200===e.code){let i=e.data;t.setToken(e.data.token),t.setUserInfo(i),t.getUserInfo(i),t.$message.success($t("fcewjt4","登录成功","lang")),t.loading=!1,t.disabled=!1}else t.$message.error(e.errMsg||$t("fcdpse4","登录失败","lang")),t.loading=!1,t.disabled=!1})):this.$message.warning($t("wgpz7g9","请输入正确的验证码","lang")):this.$message.warning($t("zexvcx8","请输入正确的账号","lang")):this.$message.warning($t("9x7s5b5","请勾选协议","lang"))},getUserInfo(t){Object(D["f"])().then(e=>{let i=JSON.parse(localStorage.getItem("user"));i.token=t.token,i.userInfo=e.data,localStorage.setItem("user",JSON.stringify(i)),this.handleClose(),location.reload()})},onSuccess(){let t=this;"register"===t.loginWay?Object(D["h"])({email:t.loginForm.account,smsStatusEnum:"5"}).then(e=>{200===e.code&&(t.onClose(),t.$message.success($t("nclo397","验证码发送成功","lang")),t.verifyCodeTimer=setInterval(()=>{t.verifyCodeTime=t.verifyCodeTime-1,t.verifyCodeTime<=0&&(t.verifyCodeTime=60,clearInterval(t.verifyCodeTimer),t.verifyCodeTimer=null)},1e3),Object(D["b"])({email:t.loginForm.account,smsStatusEnum:"5",key:F(e.data)}).then(e=>{200!==e.code&&t.$message.error(e.msg)}))}):Object(D["e"])({email:t.loginForm.account,smsStatusEnum:1}).then(e=>{200===e.code&&(t.onClose(),Object(D["j"])({smsStatusEnum:"1",key:F(e.data),email:t.loginForm.account}).then(e=>{200===e.code?(t.$message.success($t("nclo397","验证码发送成功","lang")),t.verifyCodeTimer=setInterval(()=>{t.verifyCodeTime=t.verifyCodeTime-1,t.verifyCodeTime<=0&&(t.verifyCodeTime=60,clearInterval(t.verifyCodeTimer),t.verifyCodeTimer=null)},1e3)):t.$message.error(e.msg)}))})},onClose(){this.isShow=!1},handleClose(){this.$emit("handleLogin",!1)},handleForgot(){this.loginWay="forgot"},handleGoogle(){let t=this;Object(N["b"])().then(e=>{const{access_token:i}=e;Object(D["g"])({accessToken:i}).then(e=>{if(200===e.code){console.log(e,"res");let i=e.data;t.setToken(e.data.token),t.setUserInfo(i),t.getUserInfo(i),t.$message.success($t("fcewjt4","登录成功","lang"))}})})}}},B=M,U=(i("dc64"),Object(L["a"])(B,_,$,!1,null,null,null)),V=U.exports,z=i("35d6"),Q=i("73e3"),q=i("e726"),W=i("33bb"),J=i("7765"),G=i("39a7"),H=i("e40e"),Y=(i("0c74"),i("81c3")),Z=i("9bd9"),X=i("2a05"),K=(i("1881"),i("5f87")),tt=i("47c5");const et=new BroadcastChannel(window.location.origin),it="xun-fei-room";var st={provide(){return{active:this.active,getApplyId:()=>this.applyId,eduTaskListRef:this}},components:{classTest:l["a"],PhotoShare:W["default"],RoomDialogueItem:c["a"],LeftButtons:r["a"],questionTemplate:d["a"],Footer:f["a"],videoExplanation:u["default"],expertAssistant:h["default"],contentSharing:p["default"],websiteServices:g["default"],BackBtns:m["a"],CustomerService:J["a"],RightList:G["a"],LayOut:X["a"],Contentshow:H["a"],bottomFooter:v["a"],shareCode:O,loginPoster:V},data(){return{isDialogVisibleShare:!1,isDialogVisible:!1,voiceInstance:null,isEduPrologue:!1,eduTaskList:[],hasEduTaskFlag:!1,messageList:[],sendMessageParam:{dialogId:"",content:"",type:"1",applyId:"",timer:""},chatId:"",tipsData:[],showQuestionTemplate:!1,questionTemplateData:null,share:!0,rightSta:!0,icon:"",name:"",messageTimeLine:[],applyId:"",initPage:!1,isReadText:!1,welcomeMessageIndex:-1,btnList:[],backGround:"",btnCheck:{abilityId:-1},shareUserInfo:null,stopId:null,changeIndex:null,previewName:"",btnName:"",isOpenPage:!1,sysInput:!1,languageType:"",active:null,noData404:!0,description:$t("8hyuuab","很抱歉,未找到该数字人","lang"),follow:!1,cancelRecommendQuesRequest:null,weatherData:{weaImg:null,minTem:null,maxTem:null,city:null,wea:null},showMenuSide:!0,recommendshow:!1,videoShow:!1,keyWordsListlist:[],websiteShow:!1,fileFrom:{},isFullScreen:!1,showMenuRight:!1,userInfo:null,liveList:[],langs:[{name:$t("dure2","中文","lang"),check:!0,lang:"zh-cn"},{name:"English",check:!1,lang:"en"},{name:"Malaysia",check:!1,lang:"ms"},{name:$t("aaggtp4","中文繁體","lang"),check:!1,lang:"zh-tw"},{name:"Tiếng Việt",check:!1,lang:"vi"},{name:"Indonesia",check:!1,lang:"id"},{name:"한국인",check:!1,lang:"ko"},{name:"Japanese",check:!1,lang:"ja"},{name:"แบบไทย",check:!1,lang:"th"},{name:"عربي",check:!1,lang:"ar"}],isShowLangs:!1}},computed:{...Object(o["c"])(["isOpenVoice"])},watch:{},filters:{fileIconFilter(t){return S["a"].fileTypeIcon(t.suffix)},truncate(t){return t.length>10?t.substring(0,10)+"...":t},webtruncate(t){return t.length>20?t.substring(0,20)+"...":t}},created(){this.previewName=S["a"].getQueryVariable(window.location.href,"previewName"),this.userInfo=Object(K["b"])()},async mounted(){let t,e=localStorage.getItem("lang");e&&this.langs.map(t=>{t.lang===e.toLowerCase()?t.check=!0:t.check=!1}),this.$bus.$on("hidenLeftMenu",t=>{this.showMenuSide=t}),this.$bus.$on("taskClickModule",async({detail:e,task:i})=>{this.toIndex(),this.$nextTick(()=>{this.$refs.dialogLayout.optionsStop.value&&(this.$refs.dialogLayout.optionsStop.value=null),this.$refs.dialogLayout.compontentShow=!0,this.$refs.dialogLayout.tipsData&&(this.$refs.dialogLayout.tipsData=[])}),t=e,this.isEduPrologue=!0;let s=sessionStorage.getItem("exeMode");if(e.prologue){const{data:t,code:i}=await Object(z["e"])(l);var a,o;if(!this.voiceInstance)this.voiceInstance=n["a"].create({voice_type:null===(a=t.apply)||void 0===a||null===(a=a.voice)||void 0===a?void 0:a.timbre,provider:null===(o=t.apply)||void 0===o||null===(o=o.voice)||void 0===o?void 0:o.voiceProvider});const r=await new Promise((t,i)=>{this.$refs.dialogLayout.optionsStop.isShow=!0,this.voiceInstance.start(),this.voiceInstance.send(e.prologue),this.voiceInstance.end(),this.voiceInstance.on("appFinish",()=>{t(!0),this.$refs.dialogLayout.optionsStop.isShow=!1})});r&&0==s&&this.autoStartComFn()}e.prologue||0!=s||this.autoStartComFn()}),this.$bus.$on("eduStartTask",async e=>{var i;let s={91:10,92:8,93:9,94:11,47:12};s[t.abilityType]?this.btnCheck.abilityId=s[t.abilityType]:(this.btnCheck.abilityId=-1,this.isEduPrologue=!0,this.$refs.dialogLayout.touchAbilityEdu(t)),null===(i=this.voiceInstance)||void 0===i||i.finish()});let i=this;window.onorientationchange=i.readDeviceOrientation,this.handleThirdAppLogin(),this.websiteShow=S["a"].getQueryVariable(window.location.href,"website"),this.changeIndex=null,i["audio"]=new Audio,i.audio.addEventListener("timeupdate",(function(t){console.log("timeupdate:"+t)})),i.audio.addEventListener("playing",(function(t){console.log("playing:"+t),i.isReadText=!0})),i.audio.addEventListener("play",(function(t){console.log("play:"+t)})),i.audio.addEventListener("pause",(function(t){i.isReadText=!1,i.initPage=!1})),i.audio.addEventListener("ended",(function(t){i.isReadText=!1,i.initPage=!1})),i.audio.addEventListener("loadstart",(function(t){console.log("loadstart:"+t)})),i.audio.addEventListener("loadedmetadata",(function(t){console.log("loadedmetadata:"+t),i.audio.play()})),i.audio.addEventListener("error",(function(t){console.log("error:"+t)})),et.onmessage=function(t){if(t.data){let e=JSON.parse(t.data);e.name==i.previewName&&"openPage"==e.eventType&&window.localStorage.getItem("openPage")&&(window.localStorage.removeItem("openPage"),window.open("javascript:;",e.name))}},i.voicePlay(),i.chatId=(Math.floor(999999999*Math.random())+1).toString(),window.localStorage.getItem("dialogId")&&(i.chatId=window.localStorage.getItem("dialogId")),this.sendMessageParam.dialogId=i.chatId;const s=S["a"].getQueryVariable(window.location.href,"applyId"),a=S["a"].getQueryVariable(window.location.href,"phone"),o=S["a"].getQueryVariable(window.location.href,"openId");if(s)this.sendMessageParam.applyId=s,this.applyId=s;else if(o){const{data:t,code:e}=await Object(z["c"])({openId:o});200==e&&(this.sendMessageParam.applyId=t.id,this.applyId=t.id)}else if(a){const{data:t,code:e}=await Object(z["d"])({phone:a});200==e&&(this.sendMessageParam.applyId=t.id,this.applyId=t.id)}else this.sendMessageParam.applyId="",this.applyId="";if(i.isMobile())window.location.href="https://mingto.ai/mobile/"+this.objectToQueryParams(this.$route.query);else if(!i.isMobile()){var l={applyId:this.sendMessageParam.applyId,path:this.$route.fullPath};Object(z["e"])(l).then(t=>{if(200==t.code&&!i.userInfo){this.setUserMathInfo(t.data);let e={};e["tuzaiInfo"]=t.data}2001==t.code&&(i.noData404=!1);let e=[];if(e&&e.length>0&&(this.messageList=JSON.parse(e)),t.data.companyTaskTem&&t.data.companyTaskTem.length>0&&(i.tipsData=t.data.companyTaskTem),i.btnList=[...t.data.abilitys,...i.btnList],t.data.apply&&(i.shareUserInfo={selfIntroductionContent:t.data.selfIntroductionContent,...t.data.apply},this.getEduComponent(),window.localStorage.setItem("shareUserInfo-"+i.applyId,JSON.stringify({name:t.data.apply.name,image:t.data.apply.logoIcon,applyId:this.sendMessageParam.applyId,backGround:t.data.apply.backIcon}))),0==this.messageList.length){var s={extend:{tip:{title:t.data.selfIntroductionTitle,content:t.data.selfIntroductionContent}},type:-4,chatRecordId:(new Date).getTime()};i.messageList.push(s),i.previewName?i.messageList=i.messageList.concat([{type:300,extend:[{tip:$t("swz1jn8","什么是企业数字人","lang"),type:4,answer:$t("q9fa42e","企业数字人是通过生动的虚拟数字人形象，为企业提供品牌营销推广，数字人通过不断的知识增强学习提高自己的服务能力，企业数字人提升企业的品牌形象，增加用户对企业的兴趣和记忆深度。","lang")},{tip:$t("o8wxadf","企业数字人能给企业带来什么价值","lang"),type:4,answer:$t("9wvjkv2l","为企业打造数字人智能服务，改变传统的企业品牌营销方式，基于企业自身知识库为企业提供定制化数字人智能服务。帮助中小企业低成本的在数字商业变现环节提高效率，进而提升经营效率，创造新业态服务。","lang")},{tip:$t("ohbrcz9","什么是企业知识增强","lang"),answer:$t("3w670b35","企业可以上传自己的企业文档，如企业的相关基本情况介绍、企业的产品介绍文档或者是企业的其他文档，数字人通过对文档的学习后，能够拥有更强的对话问答能力，数字人在回答部分专业问题时，可以参考文档进行回答，让你的企业数字人更加的专业。","lang"),type:4,btn:{name:$t("7gxepn6","配置企业知识","lang"),openType:"two"}},{tip:$t("r67or9d","企业菜单栏目配置有什么作用","lang"),answer:$t("6viq2v5w","通过企业菜单栏目配置，企业可以配置数字人的服务板块，如针对企业的产品介绍、客户案例、荣誉资质、企业新闻等等，在菜单栏目配置的时候，我们支持不同的菜单栏目里展示视频、文档、图片、网站链接，你可以根据的企业的需求进行自主选择配置。在配置的服务里，我们还提供了很多AI能力，如数字人视频讲解能力、基于文档的理解的问答能力、自动生成图片描述的能力等等。通过配置不同的菜单栏目，丰富企业数字人对外提供的内容服务，提升企业数字人的能力。","lang"),type:4,btn:{name:$t("e5m20p6","配置菜单栏目","lang"),openType:"four"}},{tip:$t("8q1yxfg","企业服务能力能为企业带来什么价值","lang"),type:4,answer:$t("lrp0p52a","通过自定义配置表单信息采集，企业通过数字人可直接收集线索商机，同时收集的线索商机，能够同步转换成任务进行后续的跟踪管理，确保每个商机落实到人，提升销售客户管理能力。","lang")},{tip:$t("m0k8tli","怎么让别人快速体验我搭建的企业数字人","lang"),type:4,answer:$t("cvjpoo2s","点击数字人界面中的分享按钮，即可快速生成分享链接复制后发送给其他人进行体验，同时如果你想嵌入到你的其他网站中提供服务，也可以选择我们的网页嵌入方式，直接复制嵌入代码，即可实现数字人嵌入到网站中的应用。","lang")}]}]):this.messageList.length}let a=-1;for(let n=0;n<i.messageList.length;n++)if(-4==i.messageList[n].type){a=n;break}i.welcomeMessageIndex=a,i.$nextTick((function(){if(i.messageList.length>0){let t=i.messageList[i.messageList.length-1],e=document.getElementById(t.chatRecordId+"_item");e&&e.scrollIntoView(!1)}i["mainVideoContext"]=document.getElementById("mainVideoContext"),i["mainVideoContext"]&&i["mainVideoContext"].addEventListener("timeupdate",(function(t){t.target.currentTime>2&&!i.isReadText&&(i["mainVideoContext"].currentTime=0,i["mainVideoContext"].play()),(t.target.currentTime<3&&i.isReadText||t.target.currentTime>7&&i.isReadText)&&(i["mainVideoContext"].currentTime=5,i["mainVideoContext"].play())}))})),i.userInfo&&i.userInfo.id&&i.userInfo.tuzaiInfo.applyId&&Object(z["h"])(i.userInfo.id||i.userInfo.tuzaiInfo.applyId,i.applyId).then(t=>{t.data?this.follow=!0:this.follow=!1}),this.hotPlus(),window.document.title=this.shareUserInfo.name})}this.addFullscreenChangeListener(),Object(tt["e"])({id:this.applyId}).then(t=>{if(200==t.code&&t.data){this.liveList.push(t.data);let e=this.$route.query["isEnter"];t.data.explanationMode&&0!=e&&(this.stopVoice(),this.$refs.dialogLayout&&this.$refs.dialogLayout.stopMessage(),this.$router.push({path:`/virtualExplanation?applyId=${this.applyId}&language=${S["a"].getLanguage()} `,query:{id:this.liveList[0].id}}))}})},methods:{...Object(o["d"])(["setToken","setUserInfo","setOpenVoice"]),...Object(o["b"])(["setUserMathInfo"]),objectToQueryParams(t){if("object"!==typeof t||null===t||Array.isArray(t))throw new Error("Input must be an object");var e=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}));return"?"+e.join("&")},getEduComponent(){const{fileId:t,applyId:e}=this.$route.query;let i={fileId:t,applyId:e};Object(q["H"])(i).then(t=>{t.data.length&&(this.eduTaskList=t.data,this.hasEduTaskFlag=!0,this.eduTaskList.forEach((t,e)=>{this.$set(this.eduTaskList[e],"menuShow",!0),this.$set(this.eduTaskList[e],"configList",t.configList)}))})},autoStartComFn(){this.$refs.dialogLayout.taskPrologueSpeak=!0,this.$refs.dialogLayout.autoModuleStart()},async handleThirdAppLogin(){const t=S["a"].getQueryVariable(window.location.href,"appToken"),e=S["a"].getQueryVariable(window.location.href,"openId"),s=S["a"].getQueryVariable(window.location.href,"nickname"),a=S["a"].getQueryVariable(window.location.href,"phone");if([t,e,s,a].every(Boolean)){const{code:n,data:o}=await Object(D["i"])({appToken:t,openId:e,nickname:s,phone:a,isClient:1});200==n&&(this.setToken(o.token),this.setUserInfo(o.user),this.btnList.push({buttonNotSelectedIcon:i("f982"),menuName:$t("rdhqyo5","我的数字人","lang"),key:"myDigitalPerson"}))}},postknowledge(t){t&&t.length>0&&(this.keyWordsList=t,this.recommendshow=!0,this.$forceUpdate())},recommendshowEmit(t){this.recommendshow=t},videoPlay(t){const e=this.$refs.dialogLayout,i=document.getElementById("videoRef");if(this.fileFrom=t,4==t.feedType&&(""!==e.isCanPlay||null!==i&&!i.paused))return this.$message.warning(this.t($t("a33yh4c","音频被占用，请稍后再试！","lang")));this.videoShow=!0},handleClose(){this.videoShow=!1},downDoc(){var t=document.createElement("a");t.setAttribute("href",this.keyWordsListItem.viewUrl),t.setAttribute("download","this.keyWordsListItem.fileName"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},boxJump(){window.open(this.keyWordsListItem.viewUrl)},stopVoice(){this.$root.$emit("xunFeiPost",{eventType:"xun-fei-stop",eventName:it})},voicePlay(){let t=this;window.addEventListener(it,(function(e){let{eventType:i,status:s}=e.detail.data;"xun-fei"==i&&("play"==s&&(t.isReadText=!0),"endPlay"==s&&(t.isReadText=!1))}))},readDeviceOrientation(){Math.abs(window.orientation)},listenWebglProgress(t,e){},toIndex(){this.sysInput?this.$message.error(this.t($t("3dvwff7","系统正在回复中","lang"))):(this.$refs.leftBtns&&(this.$refs.leftBtns.btnActive=null,this.active=null),this.btnCheck.abilityId=-1,this.$nextTick(()=>{this.$refs.dialogLayout&&this.$refs.dialogLayout.setCrHome(),this["mainVideoContext"]=document.getElementById("mainVideoContext"),this["mainVideoContext"]&&this["mainVideoContext"].addEventListener("timeupdate",t=>{t.target.currentTime>2&&!this.isReadText&&(this["mainVideoContext"].currentTime=0,this["mainVideoContext"].play()),(t.target.currentTime<3&&this.isReadText||t.target.currentTime>7&&this.isReadText)&&(this["mainVideoContext"].currentTime=5,this["mainVideoContext"].play())})}))},flushSysInput(t){this.sysInput=t},openReadText(){if(!this.initPage&&!this.isReadText){let t=-1;for(let e=0;e<this.messageList.length;e++)if(-4==this.messageList[e].type){t=e;break}if(t>-1){this.welcomeMessageIndex=t;let e=this.messageList[t];this.playText(e.extend.tip.content)}}this.isReadText&&this.audio.pause()},sendMessageList(t,e){let i=this,s=this.messageList[t],a=s.extend[e];a["content"]=a.tip,i.sendToolsMessage(a)},sendMessageItem(t,e){let i=this,s=i.messageList[t],a=s.extend;window.localStorage.setItem("openPage","openPage"),et.postMessage(JSON.stringify({eventType:"openPage",openName:a.openType})),setTimeout((function(){window.localStorage.getItem("openPage")&&(window.localStorage.removeItem("openPage"),window.open("/room/#/chat"))}),500)},sendToolsMessage(t){let e=this;if("qa"==t.code);else if("tools"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("ib1n72g","你好，我能提供以下工具辅助办公～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("bp6nl44","天气查询","lang")},{tip:$t("vylj2i5","火车票查询","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else if("gen"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("2tnlz6g","你好，我能提供以下图形绘制工具～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("arf2r74","创意作画","lang")},{tip:$t("bjl8g84","图表绘制","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else{if(-1==t.type)return;if(3==t.type){let e=t.content;this.content=e}if(1==t.type){if(this.sysInput)return void e.$message.error(this.t($t("3dvwff7","系统正在回复中","lang")));e.isInputVal=!1,e.sendMessageParam.content=t.content,e.content=t.content,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}if(4==t.type){let i=(new Date).getTime();e.messageList.push({chatRecordId:i+"_my",type:1,content:t.content,isSender:!0}),e.messageList.push({chatRecordId:i+"_self",type:1,content:t.answer,extend:t.btn,isSender:!1}),e.$nextTick((function(){let t=e.messageList[e.messageList.length-1],i=document.getElementById(t.chatRecordId+"_item");i&&i.scrollIntoView(!1)}))}}},doSendMessage(t=null){var e=this;if(e.messageList=e.messageList.filter(t=>102!==t.type),this.cancelRecommendQuesRequest&&this.cancelRecommendQuesRequest(),""==this.sendMessageParam.content)return void this.$message.error(this.t($t("7z4sop8","发送消息不能为空","lang")));if(this.sysInput)return void e.$message.error(this.t($t("3dvwff7","系统正在回复中","lang")));this.sysInput=!0;let i=(new Date).getTime();if(e.sendClick){const t=Object.keys(e.sendClick),s=t[t.length-1],a=e.sendClick[s];let n=i-a;if(n<1e3)return;e.sendClick[i]=i}else e.sendClick={},e.sendClick[i]=i;this.sendMessageParam.timer=(new Date).getTime();const s=(new Date).getTime()+"_";e.messageList.push({type:1,chatRecordId:s,content:e.sendMessageParam.content,isSender:!0}),e.stopId=s.slice(0,-1);let a=!1;for(let r=0;r<e.messageList.length;r++)if(-1==e.messageList[r].type){a=!0;break}if(e.messageList.push(e.messageList.splice(e.messageList.findIndex(t=>-1==t.type),1)[0]),!a){let t=i+"_temp";e.messageList.push({content:this.t($t("r320196","输入中...","lang")),chatRecordId:t,isSender:!1,type:"-1"}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!0)}))}let n=JSON.parse(JSON.stringify(t||this.sendMessageParam)),o={headers:{Authorization:S["a"].getToken(),"Cache-Control":"no-cache",Connection:"keep-alive","Content-type":"application/json","x-platform":"pc",Language:S["a"].getLanguage()},method:"POST",body:JSON.stringify(n)},l="/backend-api/tuzai/chat/company/send/v2";this.sendMessageParam.content="",Object(Z["b"])(l,o,(async function(t){if(t.data){if(t=JSON.parse(t.data),console.log("handleSSE",JSON.stringify(t)),t){e.chatId=t.dialogId;let s=-1;for(let t=0;t<e.messageList.length;t++)if(202==e.messageList[t].type){s=t;break}if(t.hasOwnProperty("wordIndex")){let e={wordIndex:t.wordIndex};if(t.hasOwnProperty("extend")){let i=JSON.parse(t["extend"]);for(let t in i)e[t]=i[t];t["extend"]=e}else t["extend"]=e}if(s>-1&&202==t.type)try{t.chatRecordId=e.messageList[s].chatRecordId}catch(i){}e.receiveMessage(JSON.parse(JSON.stringify(t))),localStorage.setItem("message-list-index-"+e.applyId,JSON.stringify(e.messageList)),e.isReadText=!1}if(e.sendMessageParam.content="","114"==t.type){const i=(new Date).getTime();e.messageList.push({content:this.t($t("r320196","输入中...","lang")),chatRecordId:i,isSender:!1,type:"-1"});let s={recordId:t.chatRecordId,type:"36"};const a=await Object(Q["g"])(s,e);let n={chatRecordId:i,content:"",extend:a.data,showChangeBtn:!1,type:102};e.messageList[e.messageList.length-1]=n,e.$nextTick((function(){let t=document.getElementById(i+"_item");t&&t.scrollIntoView(!0)}))}}}))},receiveMessage(t){let e=this;t.content&&t.content.endsWith("\n\n")&&(t.content=t.content.replace(/\n\n$/,""));let i=-1;for(let n=0;n<e.messageList.length;n++)if(-1==e.messageList[n].type){i=n;break}if(i>-1&&(e.messageList=S["a"].deleteArrByIndex(e.messageList,i)),e.spellTipsData=null,e.sendClick=null,t["openRecord"]=!1,t["openTips"]=!1,t["hasLoading"]=1==t.type,t["extend"]){let e=t["extend"];"string"===typeof e&&(t["extend"]=JSON.parse(e))}if(t["tips"]&&(e.tipsData=JSON.parse(t["tips"])),t["spellTips"]&&(e.spellTipsData=JSON.parse(t["spellTips"])),t["createTime"]){if(e.messageTimeLine.length>0){let i=e.messageTimeLine[e.messageTimeLine.length-1],s=new Date(i),a=new Date(t.createTime),n=a.getTime()-s.getTime();n>3e5&&(t["showTime"]=!0)}else t["showTime"]=!0;t.createTime&&-1==e.messageTimeLine.indexOf(t.createTime)&&(t.createTime=t.createTime.replace(/-/g,"/"),e.messageTimeLine.push(t.createTime))}102==t.type&&t.isRefresh&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel(),108==t.type&&(t["showAll"]=!1),2!=t.type&&3!=t.type&&109!=t.type||(t["isRecive"]=!0);let s=!1,a=-1;for(let n=0;n<e.messageList.length;n++)if(e.messageList[n].chatRecordId==t.chatRecordId){s=!0,a=n;break}if(t.extend&&t.extend.hasOwnProperty("wordIndex")){let e={content:t.content,wordIndex:t.extend["wordIndex"]};t.letter=e,t.letters=[e]}if(s||-1!=a||114==t.type||202==t.type||(t.dialogId==e.chatId&&e.messageList.push(t),113!=t.type&&t.type,-3==t.type&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()),s&&a>-1&&112==t.type&&t.dialogId==e.chatId)if(t.letter&&t.letter["wordIndex"]||0===t.letter["wordIndex"]){let i=e.messageList[a],s=i.letters.filter(e=>e.wordIndex==t.letter.wordIndex);s.length<1&&i.letters.push(t.letter),i.letters.sort((function(t,e){return t.wordIndex-e.wordIndex}));let n=i.letters.map(t=>t.content).join("");i.content=n}else e.messageList[a].content=e.messageList[a].content+t.content;if(202==t.type&&t.dialogId==e.chatId)if(t.extend["section"]["sectionIndex"]=t.extend["sectionIndex"],a>-1){let i=e.messageList[a].writeContent.sections,s=-1;for(let e=0;e<i.length;e++)if(i[e].sectionIndex==t.extend["section"].sectionIndex){s=e;break}s>-1?e.messageList[a].writeContent.sections.splice(s,1,t.extend["section"]):e.messageList[a].writeContent.sections.push(t.extend["section"])}else{t["writeContent"]={sections:[]};let e={sections:[]};if(this.$refs.templatePreview){let t=this.$refs.templatePreview.getAttribute("template");e["id"]=t}t["writeContent"]=e,t["isCanEdit"]=!0,t["writeContent"]["sections"].push(t.extend["section"]),this.messageList.push(t)}114==t.type&&(localStorage.setItem("message-list-index-"+this.applyId,JSON.stringify(e.messageList)),e.sysInput=!1,t["state"]=1,t["chatRecordId"]=(new Date).getTime(),a>-1&&!e.messageList[a]["isEnd"]&&(e.messageList[a]["isEnd"]=!0,e.playText(e.messageList[a].content)),setTimeout((function(){let t=-1;for(let i=0;i<e.messageList.length;i++)if(114==e.messageList[i].type&&1==e.messageList[i].state){t=i;break}if(t>-1){let i=JSON.parse(JSON.stringify(e.messageList[t]));i.state=-1,e.$set(e.messageList,t,i)}}),3e3)),112!=t.type&&113!=t.type&&114!=t.type&&202!=t.type&&(e.sysInput=!1),e.$nextTick((function(){if(202==t.type){let t=document.querySelector(".writing-template-container");t&&(t.scrollTop=99999999999)}else{let i=document.getElementById(t.chatRecordId+"_item");i&&i.scrollIntoView(!1),5!=t.type&&6!=t.type&&2!=t.type||e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()}}))},seachEnter(t){var e=window.event?t.keyCode:t.which;13==e&&this.doSendMessage()},handleScroll(){event.preventDefault();const t=event.currentTarget;t.scrollLeft+=event.deltaY},sendTipsMessage(t){let e=this;if(e.sysInput)return void e.$message.error(this.t($t("3dvwff7","系统正在回复中","lang")));let i=this.tipsData[t];if(-1!=i.type){if(1==i.type){let t=i.tip;e.isInputVal=!1,e.content=t,e.sendMessageParam.content=t,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}2==i.type&&("Form"==i["answer"]?(this.showQuestionTemplate=!0,i["applyId"]=this.sendMessageParam.applyId,this.questionTemplateData=i):(this.sendMessageParam["content"]=i.tip,this.sendMessageParam["processId"]=i.qaId,this.doSendMessage(),delete this.sendMessageParam["processId"])),3==i.type&&(this.content=i.tip)}},stopSysInput(){let t=this;t.sysInput=!1,t.isReadText&&(t.audio.pause(),t.isReadText=!1),this.stopVoice(),Object(Z["a"])(),Object(Q["n"])({chatRecordId:+t.stopId}).then(t=>{});let e=-1;for(let i=0;i<t.messageList.length;i++)if(-1==t.messageList[i].type){e=i;break}e>-1&&(t.messageList=S["a"].deleteArrByIndex(t.messageList,e))},showQuestionTemplateHide(t){this.showQuestionTemplate=!1},isMobile(){let t=navigator.userAgent.match(/(phone|iPhone|Android|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t},playText(t){let e=this;e.isReadText&&(e.audio.pause(),e.isReadText=!1),e.$root.$emit("xunFeiPost",{text:t,voiceName:this.shareUserInfo.xunfeiVoice,eventType:"xun-fei-read",eventName:it})},changePage(t,e){this.active!==e&&("myDigitalPerson"!==t.key?this.sysInput?this.$message.error($t("3dvwff7","系统正在回复中","lang")):(this.isReadText&&this.audio.pause(),this.shareUserInfo?(this.btnCheck=JSON.parse(JSON.stringify(t)),this.btnName=t.menuName,this.active=e,-1!=this.btnCheck.id&&(this.$set(this.$refs.dialogLayout,"customDataList",[]),this.$nextTick(()=>{this.$refs.dialogLayout&&(this.$refs.dialogLayout.optionsStop.value="",this.$refs.dialogLayout.refreshData(),"5"===this.btnCheck.abilityId&&this.$set(this.$refs.dialogLayout.components,5,"FolderShare"))}))):this.$message.error($t("koph2b9","未拿到分享用户信息","lang"))):location.href="/chat")},doShareUrl(){let t=this;t.isDialogVisibleShare=!0},handleShare(t){this.isDialogVisibleShare=t},handleLogin(t){this.isDialogVisible=t},changeActive(t,e){this.sysInput?this.$message.error(this.t($t("3dvwff7","系统正在回复中","lang"))):(this.btnCheck.abilityId=2,this.changeIndex=t,this.btnName=e)},followFn(){let t={applyId:this.applyId,follow:!this.follow};Object(z["b"])(t).then(t=>{200==t.code&&Object(z["h"])(this.userInfo.id,this.applyId).then(t=>{this.follow?(this.$message.success(this.t($t("h30viu6","取消关注成功","lang"))),this.follow=!1):(this.$message.success(this.t($t("aq99no4","关注成功","lang"))),this.follow=!0)})})},getLocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{Object(Y["f"])({lat:t.coords.latitude,lng:t.coords.longitude}).then(t=>{200==t.code&&(this.weatherData=t.data)})},t=>{}):(this.$message.error(this.t($t("5qi67db","浏览器不支持地理定位。","lang"))),document.getElementById("location").innerHTML=this.t($t("5qi67db","浏览器不支持地理定位。","lang")))},setTipDataFn(){this.$refs.dialogLayout&&this.$refs.dialogLayout.setTipDataPrFn()},handleSendTip(t){this.$refs.rightListRef.sendTipsMessage(t)},doSendTipsMessage(t){1==t.type?(this.content=t.data.content,this.sendMessageParam.content=t.data,this.doSendMessage()):2==t.type?(this.sendMessageParam=t.data,this.$refs.dialogLayout.openDialogCollection({...this.sendMessageParam,dialogId:void 0}),delete this.sendMessageParam["processId"]):3==t.type?this.content=t.data:4==t.type&&(this.showQuestionTemplate=!0,this.questionTemplateData=t.data,this.content=t.data)},doFullScreen(){if(this.isFullScreen)document.exitFullscreen();else{let t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},checkFullscreen(){this.isFullScreen=!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},addFullscreenChangeListener(){const t=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];t.forEach(t=>{document.addEventListener(t,this.checkFullscreen)})},async doVoice(){this.setOpenVoice(!this.isOpenVoice);const{voiceInstance:t,handleOpenTalk:e,closeOpenTalk:i}=this.$refs.dialogLayout;this.isOpenVoice?(null===t||void 0===t||t.unmute(),e(this.shareUserInfo.introduction)):(null===t||void 0===t||t.mute(),i())},handleChangeVoiceMute(t){this.setOpenVoice(!t);const{voiceInstance:e}=this.$refs.dialogLayout;t?null===e||void 0===e||e.mute():null===e||void 0===e||e.unmute()},hotPlus(){var t;const{futureId:e}=(null===(t=this.userInfo)||void 0===t?void 0:t.tuzaiInfo)||{};e&&e!==this.shareUserInfo.futureId&&Object(z["a"])({companyId:this.shareUserInfo.futureId,fromUserId:e}).then(()=>{sessionStorage.setItem("addedHot",!0)})},touchLive(){this.$refs.dialogLayout&&this.$refs.dialogLayout.stopMessage(),this.$router.push({path:`/virtualExplanation?applyId=${this.applyId}&language=${S["a"].getLanguage()} `,query:{id:this.liveList[0].id}})},handleLangs(t,e){this.langs.map(t=>{t.check=!1}),this.langs[e].check=!0,localStorage.setItem("lang",t.lang),S["a"].setLanguage(t.lang);let i=this;i.$nextTick(()=>{window.$changeLang(t.lang),location.reload()})},handleMouseOver(){this.isShowLangs=!0},handleMouseLeave(){this.isShowLangs=!1},doShareStroke(){let t=this,e=window.location.href;e=e.replace("&previewName="+t.previewName,""),S["a"].copyText(e).then(e=>{t.$message.success(this.t($t("bkv2mw4","复制成功","lang")))})}},beforeDestroy(){this.stopVoice();const t=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];t.forEach(t=>{document.removeEventListener(t,this.checkFullscreen)})},destroyed(){et.close()}},at=st,nt=(i("657c"),i("51e0"),Object(L["a"])(at,s,a,!1,null,"332231c5",null));e["default"]=nt.exports},"1e36":function(t,e,i){"use strict";e["a"]={tryTalkPath:"M0.7 4.38034C0.7 3.77688 0.700572 3.36746 0.727075 3.05116C0.752847 2.74357 0.799445 2.58705 0.856559 2.47775C0.99475 2.21328 1.21703 1.99501 1.49448 1.85716C1.61267 1.79844 1.77982 1.75202 2.0992 1.72657C2.42624 1.70052 2.84868 1.7 3.46667 1.7H9.53333C10.1513 1.7 10.5738 1.70052 10.9008 1.72657C11.2202 1.75202 11.3873 1.79844 11.5055 1.85716C11.783 1.99501 12.0053 2.21329 12.1434 2.47775C12.2006 2.58705 12.2472 2.74357 12.2729 3.05116C12.2994 3.36746 12.3 3.77688 12.3 4.38034V8.18322C12.3 8.78668 12.2994 9.1961 12.2729 9.5124C12.2472 9.81999 12.2006 9.97651 12.1434 10.0858C12.0053 10.3503 11.783 10.5685 11.5055 10.7064C11.3873 10.7651 11.2202 10.8115 10.9008 10.837C10.5738 10.863 10.1513 10.8636 9.53333 10.8636H4.82715C4.80676 10.8636 4.78665 10.8636 4.76679 10.8635C4.37434 10.8634 4.08305 10.8633 3.79818 10.9203C3.54656 10.9707 3.30271 11.054 3.07328 11.1683C2.81315 11.2979 2.5845 11.4764 2.27847 11.7153C2.26285 11.7275 2.24703 11.7399 2.23099 11.7524L0.7 12.9467V4.38034Z",tryTalkControllerPath:Object.freeze({outSide:"M0 16.1803C0 12.3926 2.14002 8.92999 5.52786 7.23607L20 0V68L5.52787 60.7639C2.14003 59.07 0 55.6074 0 51.8197V16.1803Z",inside:"M7 27.9375L7.88889 27L13.6953 33.1239C14.4268 33.8955 14.4268 35.1045 13.6953 35.8761L7.88889 42L7 41.0625L13.2222 34.5L7 27.9375Z"})}},"1ecf":function(t,e,i){"use strict";i("112a")},"1fd9":function(t,e,i){t.exports=i.p+"f595a4a33153720ca1e9751f4a44bf1b.png"},"1fed":function(t,e,i){"use strict";i.d(e,"a",(function(){return tt}));var s=i("b775");function a(){return Object(s["b"])({url:"edu/course/listCourse",method:"get"})}function n(t){return Object(s["b"])({url:"edu/course/saveOrUpdate",method:"post",data:t})}function o(t){return Object(s["b"])({url:"/edu/course/delete",method:"get",params:t})}function l(t){return Object(s["b"])({url:"/edu/course/sort",method:"post",data:t})}function r(t){return Object(s["b"])({url:"/edu/course/aiOptimize",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/edu/knowledgePointConfig/saveOrUpdate",method:"post",data:t})}function d(t){return Object(s["b"])({url:"/edu/knowledgePoint/saveOrUpdate",method:"post",data:t})}function u(t){return Object(s["b"])({url:"/edu/knowledgePoint/page",method:"get",params:t})}function h(t){return Object(s["b"])({url:"/edu/knowledgePoint/delete",method:"get",params:t})}function p(t){return Object(s["b"])({url:"/edu/knowledgePoint/deleteBatch",method:"post",data:t})}function g(t){return Object(s["b"])({url:"/edu/knowledgePointConfig/abilitySearch",method:"post",data:t})}function m(t){return Object(s["b"])({url:"/edu/knowledgePointConfig/list",method:"get",params:t})}function f(t){return Object(s["b"])({url:"/edu/knowledgePointConfig/saveOrUpdate",method:"post",data:t})}function v(t){return Object(s["b"])({url:"/edu/studyManager/page",method:"get",params:t})}function y(t){return Object(s["b"])({url:"/edu/studyManager/export",method:"get",params:t,responseType:"blob"})}function b(t){return Object(s["b"])({url:"/edu/barrage/barrage_list",method:"get",params:t})}function w(t){return Object(s["b"])({url:"/edu/barrage/barrage_update",method:"put",data:t})}function I(t){return Object(s["b"])({url:"/edu/barrage/barrage_delete",method:"get",params:t})}function C(t){return Object(s["b"])({url:"/edu/ques/classify/list",method:"get",params:t})}function k(t){return Object(s["b"])({url:"/edu/ques/classify/saveOrUpdate",method:"post",data:t})}function S(t){return Object(s["b"])({url:"/edu/ques/classify/delete",method:"get",params:t})}function x(t){return Object(s["b"])({url:"/edu/ques/classify/deleteBatch",method:"post",data:t})}function A(t){return Object(s["b"])({url:"/edu/ques/page",method:"get",params:t})}function L(t){return Object(s["b"])({url:"/edu/ques/saveOrUpdate",method:"post",data:t})}function T(t){return Object(s["b"])({url:"/edu/ques/getQuesType",method:"get"})}function O(t){return Object(s["b"])({url:"/edu/ques/downloadTemplate",method:"get",responseType:"blob"})}function _(t){return Object(s["b"])({url:"/edu/ques/export",method:"get",params:t,responseType:"blob"})}function $(t){return Object(s["b"])({url:"/edu/ques/quesImport",method:"post",data:t})}function D(t){return Object(s["b"])({url:"/edu/ques/delete",method:"get",params:t})}function j(t){return Object(s["b"])({url:"/edu/knowledgePoint/dropDown",method:"get",params:t})}function R(t){return Object(s["b"])({url:"/edu/eva/page",method:"get",params:t})}function F(t){return Object(s["b"])({url:"/edu/eva/saveOrUpdateEva",method:"post",data:t})}function E(t){return Object(s["b"])({url:"/edu/eva/deleteBatch",method:"post",data:t})}function P(t){return Object(s["b"])({url:"/edu/eva/pub",method:"get",params:t})}function N(t){return Object(s["b"])({url:"/itd/add",method:"post",data:t})}function M(t){return Object(s["b"])({url:"/itd/page",method:"get",params:t})}function B(t){return Object(s["b"])({url:"/itd/edit",method:"post",data:t})}function U(t){return Object(s["b"])({url:"/itd/remove",method:"get",params:t})}function V(t){return Object(s["b"])({url:"/tuzai/itd/export",method:"get",params:t,responseType:"blob"})}function z(t){return Object(s["b"])({url:"/edu/company/getRoomId",method:"get",params:t})}function Q(t){return Object(s["b"])({url:"itd/step/abilityResource",method:"get",params:t})}function q(t){return Object(s["b"])({url:"/edu/resource/getResource",method:"get",params:t})}function W(t){return Object(s["b"])({url:"/edu/resource/saveOrUpdate",method:"post",data:t})}function J(t){return Object(s["b"])({url:"/edu/resource/listAgent",method:"get",params:t})}function G(t){return Object(s["b"])({url:"/edu/resource/deleteResource",method:"post",data:t})}function H(t){return Object(s["b"])({url:"/edu/resource/listLabels",method:"get",params:t})}function Y(t){return Object(s["b"])({url:"/task/autoExe/"+t.applyId,method:"get"})}function Z(t){return Object(s["b"])({url:"/agent/packet/list",method:"get"})}function X(t){return Object(s["b"])({url:"/itd/update/sort",method:"post",data:t})}function K(t){return Object(s["b"])({url:"/task/do/wait",method:"post",data:t})}const tt={packetList:Z,autoExe:Y,listLabels:H,deleteResource:G,listAgent:J,saveOrUpdateResource:W,getResource:q,getAbilityResource:Q,getRoomId:z,exportTask:V,deleteSchedule:U,editSchedule:B,pageScheduleTemplate:M,saveSchedule:N,workExamPub:P,workExamDeleteBatch:E,saveOrUpdateEva:F,homeExameListPage:R,getKnowledgePointListDropDown:j,quesDelete:D,quesImport:$,export_1:_,downloadTemplate:O,getQuesType:T,saveOrUpdateQues:L,pageQues:A,deleteQuesClassifyBatch:x,deleteQuesClassify:S,saveOrUpdateQuesClassify:k,listQuesClassify:C,barrageDelete:I,barrageUpdate:w,barrageList:b,studyManagerExport:y,stuManagerPage:v,pointConfigSaveOrUpdate:f,knowledgePointConfigList:m,abilitySearch:g,knowledgePointDeleteBatch:p,knowledgePointDelete:h,knowledgePointPage:u,saveOrUpdatePointSet:c,saveOrUpdatePoint:d,aiOptimize:r,listCourse:a,saveOrUpdate:n,chapterDelete:o,sortChapterDetails:l,updateSort:X,flowWait:K}},"22dc":function(t,e,i){},2488:function(t,e,i){"use strict";i("047a")},"249d":function(t,e,i){"use strict";i("89c0")},2591:function(t,e,i){t.exports=i.p+"6a20d655958ae6be12c4b5eb5f4c0069.png"},"25b4":function(t,e,i){},"29cb":function(t,e,i){"use strict";i("8972")},"2a05":function(t,e,i){"use strict";i("6e0d"),i("13b1");var s=function(){var t,e,s,a,n,o,l,r,c,d,u=this,h=u._self._c;return h("div",{staticClass:"sr-center-layout"},[8==u.abilityId?h("div",{staticClass:"commentSection-style"},[h("commentSection",{attrs:{applyId:u.applyId}})],1):u._e(),h("div",{staticClass:"picture",staticStyle:{position:"relative"}},[u.mofaAppId?h("div",{staticStyle:{width:"500px",height:"800px"},attrs:{id:"sdk"}}):u._e(),u.info.apply&&!u.mofaAppId?h("Avatar",{attrs:{abilityId:u.abilityId,info:u.info,optionsStop:u.optionsStop,faceItemUrlV2:u.faceItemUrlV2}}):u._e()],1),u.isOpenTalk&&!u.optionsOn.isStart?h("div",{staticClass:"action-box",staticStyle:{"z-index":"9999"}},[h("button",{staticClass:"action-button",domProps:{innerHTML:u._s(`${u.t($t("jmg22","点击","lang"))}<div style='font-family: PangMenZhengDao;white-space:nowrap'>${null!==u.dialogCollectionData?u.t($t("gjin9h4","继续采集","lang")):u.t($t("ccysy74","开始对话","lang"))}</div>`)},on:{click:u.handleStart}})]):u._e(),h("main",{staticClass:"sr-main content-box"},[h("div",{ref:"scrollDiv",staticClass:"sr-main-t dialogue-list",class:{"small-w":-1===u.abilityId},staticStyle:{"overflow-y":"auto",height:"90%"}},[u.useAbility&&u.isOpenTalk&&-1==u.abilityId&&u.isShow?h("div",{staticClass:"use-ability mb-15",class:""!=u.optionsStop.value||u.compontentShow?"":"mb-10-b"},[h("div",[h("span",[u._v(u._s(u.t($t("dwrey64","正在使用","lang"))))]),h("img",{attrs:{src:u.currAbility.icon?u.currAbility.icon:i("1aca")}}),h("span",{staticClass:"active"},[u._v(u._s(u.currAbility.name))]),h("span")]),h("div",[h("img",{staticClass:"close-img",attrs:{src:i("7f70"),alt:""},on:{click:u.closeUseAbility}})])]):u._e(),u.compontentShow?h("section",{staticClass:"sr-main-box"},[h(u.currentComponent,{key:u.abilityId+u.currentComponent,ref:"componentRef",tag:"component",attrs:{onlyHidenEduPrologue:u.onlyHidenEduPrologue,startBtnShow:u.startBtnShow,isEduPrologue:u.isEduPrologue,selfDesc:u.info.selfIntroductionContent,eduPrologueData:u.eduPrologueData,tipsData:u.tipsData,itemId:u.$attrs.itemId,applyId:u.applyId,btnList:u.btnList,isCanPlay:u.isCanPlay,isOpenTalk:u.isOpenTalk,dialogCollectionData:u.dialogCollectionData,recommendshow:u.recommendshow,keyWordsList:u.keyWordsList,customDataList:u.customDataList,btnActive:u.btnActive},on:{"update:onlyHidenEduPrologue":function(t){u.onlyHidenEduPrologue=t},"update:only-hiden-edu-prologue":function(t){u.onlyHidenEduPrologue=t},changeAbilityId:u.changeAbilityId,tipsItemClick:u.tipsItemClick,stopListen:u.stopMessage,changeDialogId:u.changeDialogId,ediVitrueComp:u.ediVitrueComp,handleFolderPreview:u.handleFolderPreview,optionsStopShowFun:u.optionsStopShowFun}})],1):h("div",[h("ul",{directives:[{name:"show",rawName:"v-show",value:u.showRecord,expression:"showRecord"}],staticClass:"recored-list"},[u._l(u.recordList,(function(t,e){return["agent"===t.role&&e!==u.recordList.length-1?h("li",{key:"agent"+t.id,staticClass:"answer-box"},[h("markdown",{attrs:{value:t.content,showFeedBack:"",sessionId:t.dialogId,chatRecordId:t.chatRecordId}})],1):"user"===t.role?h("li",{key:"user"+t.id,staticClass:"question-item"},[h("span",{staticClass:"answer-box",staticStyle:{background:"#5D89F7",width:"fit-content"}},[u._v(u._s(t.content))])]):u._e()]}))],2),h("div",[u.optionsStop.reasoningContent||null!==(t=u.optionsStop)&&void 0!==t&&null!==(t=t.searchResult)&&void 0!==t&&t.length?h("div",{staticClass:"flex"},[u.optionsStop.reasoningContent?h("div",{staticClass:"reasoning-box",on:{click:function(t){return u.expendReason("reasoning")}}},[h("i",{staticClass:"iconfont icon-shendusikao"}),u._v(" "+u._s(u.reasoningStatus)+" "),u.isReasonClick?h("i",{staticClass:"iconfont",class:{"icon-a-fangxiangxiayansefalse":!u.optionsStop.isShowReasoning,"icon-a-fangxiangshangyansefalse":u.optionsStop.isShowReasoning}}):u._e()]):u._e(),null!==(e=u.optionsStop)&&void 0!==e&&null!==(e=e.searchResult)&&void 0!==e&&e.length?h("div",{staticClass:"reasoning-box",on:{click:function(t){return u.expendReason("search")}}},[h("i",{staticClass:"iconfont icon-lianwangsousuo"}),u._v($t("crfjh45"," 已搜索到","lang")+u._s(u.optionsStop.searchResult.length)+$t("aea5824","个网页 ","lang")),h("i",{staticClass:"iconfont",class:{"icon-a-fangxiangxiayansefalse":!u.optionsStop.isShowSearch,"icon-a-fangxiangshangyansefalse":u.optionsStop.isShowSearch}})]):u._e()]):u.optionsStop.value||u.optionsStop.reasoningContent?h("article",{staticClass:"answer-box"},[u.optionsStop.isShowReasoning?h("div",{staticClass:"reasoningContent"},[h("markdown",{attrs:{value:u.optionsStop.reasoningContent,showFeedBack:u.endStatus,sessionId:u.dialogId,chatRecordId:u.chatRecordId,showBottom:!1}})],1):u._e(),u.optionsStop.isShowSearch?h("div",{staticClass:"reasoningContent reasoningsearch"},[h("ul",{staticStyle:{width:"100%"}},u._l(u.optionsStop.searchResult,(function(t,e){return h("li",{key:t.title,staticStyle:{width:"100%",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},[u._v(" "+u._s(e+1)+". "),h("a",{staticStyle:{"max-width":"100%","text-overflow":"ellipsis","white-space":"nowrap"},attrs:{href:t.url,target:"_blank"},on:{click:function(e){return e.preventDefault(),u.linkclick(e,t)}}},[h("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:t.icon||"https://cdn.workbrain.cn/web_image/web_default.png",alt:"",width:"20px"},on:{error:function(e){t.icon="https://cdn.workbrain.cn/web_image/web_default.png"}}}),u._v(" "+u._s(t.title))])])})),0)]):u._e(),h("markdown",{attrs:{value:u.optionsStop.value,showFeedBack:u.endStatus,sessionId:u.dialogId,chatRecordId:u.chatRecordId,packageName:u.packageName}}),h("div",[u.writeEnd?u._e():h("i",{staticClass:"el-icon-loading"})]),h("div",{attrs:{id:"fullPageToBottom"}}),h("div",{directives:[{name:"show",rawName:"v-show",value:u.appendknowing&&(null===(s=u.fromQaFileList.filter(t=>"2"==t.feedType||"3"==t.feedType||7==t.fileType||7==t.feedType||"6"==t.feedType||"9"==t.feedType))||void 0===s?void 0:s.length)>0,expression:"appendknowing &&\n              fromQaFileList.filter(\n                item =>\n                  item.feedType == '2' ||\n                  item.feedType == '3' ||\n                  item.fileType == 7 ||\n                  item.feedType == 7 ||\n                  item.feedType == '6' ||\n                  item.feedType == '9',\n              )?.length > 0\n              "}],staticClass:"filerecommend-box"},u._l(u.fromQaFileList,(function(t){return h("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"itembox"},[7==t.fileType?h("div",{staticClass:"box2",on:{click:function(e){return u.boxJump(t)}}},[h("img",{attrs:{src:t.personalCenterImg}}),h("div",{staticClass:"website-middle"},[h("span",{staticClass:"box2-top"},[u._v(u._s(u._f("truncate")(t.fileName)))]),h("span",{staticClass:"box2-bot"},[u._v(u._s(u._f("webtruncate")(t.viewUrl)))])])]):u._e(),2==t.feedType?h("div",{staticClass:"box3"},[h("el-image",{staticClass:"img",attrs:{src:t.viewUrl,"preview-src-list":[t.viewUrl+""+(t.abilityId?"?x-image-process=style/ai-image":"")]}})],1):u._e(),3==t.feedType?h("div",{staticClass:"box4",on:{click:function(e){return u.videoPlay(t)}}},[h("video",{staticClass:"video",attrs:{src:t.viewUrl}}),h("div",{staticClass:"name"},[u._v(" "+u._s(u._f("truncate")(t.title))+" ")])]):u._e(),"6"===t.feedType?h("div",{staticClass:"box8",on:{click:function(e){return u.audioPlay(t)}}},[h("img",{staticClass:"img",attrs:{src:i("205c")}}),h("div",{staticClass:"name"},[u._v(" "+u._s(u._f("truncate")(t.title))+" ")])]):u._e(),7==t.feedType?h("div",{staticClass:"box8",on:{click:function(e){return u.audioPlay(t)}}},[h("img",{staticClass:"img",attrs:{src:t.previewUrl}}),h("div",{staticClass:"name"},[u._v(" "+u._s(u._f("truncate")(t.title))+" ")])]):u._e(),8==t.feedType?h("div",{staticClass:"box8",on:{click:function(e){return u.webopen(t)}}},[h("img",{staticClass:"img",attrs:{src:u._f("fileTypeIcon")(t.suffix)}}),h("div",{staticClass:"name"},[u._v(" "+u._s(u._f("truncate")(t.title))+" ")])]):u._e(),9==t.feedType?h("div",{staticClass:"box8",on:{click:function(e){return u.producttweets(t)}}},[h("img",{staticClass:"img",attrs:{src:t.viewUrl}}),h("div",{staticClass:"name"},[u._v(" "+u._s(u._f("truncate")(t.title))+" ")])]):u._e()])})),0),null!==(a=u.isEduPrologueTips)&&void 0!==a&&a.length?h("div",[u._v($t("pl0kegl"," 以下是一些关于人工智能相关的学习资源： ","lang")),h("div",{directives:[{name:"show",rawName:"v-show",value:(null===(n=u.isEduPrologueTips.filter(t=>"1"==t.fileType||"2"==t.fileType||"3"==t.fileType||"4"==t.fileType||"6"==t.fileType))||void 0===n?void 0:n.length)>0,expression:"isEduPrologueTips.filter(\n                item =>\n                  item.fileType == '1' ||\n                  item.fileType == '2' ||\n                  item.fileType == '3' ||\n                  item.fileType == '4' ||\n                  item.fileType == '6',\n              )?.length > 0\n                "}],staticClass:"filerecommend-box"},u._l(u.isEduPrologueTips,(function(t){return h("div",{staticClass:"itembox"},[3==t.fileType?h("div",{staticClass:"box3"},[h("el-image",{staticClass:"img",attrs:{src:t.viewUrl,"preview-src-list":[t.viewUrl+""+(t.abilityId?"?x-image-process=style/ai-image":"")]}})],1):u._e(),4==t.fileType?h("div",{staticClass:"box4",on:{click:function(e){return u.videoPlay(t)}}},[h("video",{staticClass:"video",attrs:{src:t.viewUrl}}),h("div",{staticClass:"name"},[u._v(" "+u._s(t.fileName)+" ")])]):u._e(),2==t.fileType||6==t.fileType||1==t.fileType?h("div",{staticClass:"box8",on:{click:function(e){return u.webopen(t)}}},[h("img",{staticClass:"img",attrs:{src:u._f("fileTypeIcon")(t.suffix)}}),h("div",{staticClass:"name"},[u._v(" "+u._s(t.fileName)+" ")])]):u._e()])})),0),h("div")]):u._e()],1):u._e()])]),u.tipsLoading?h("img",{staticClass:"loading-message",attrs:{src:i("6eba"),alt:""}}):u._e(),h("div",{directives:[{name:"show",rawName:"v-show",value:!u.compontentShow&&(null===(o=u.tipsData)||void 0===o?void 0:o.length)>0&&-1==u.abilityId,expression:"!compontentShow && tipsData?.length > 0 && abilityId == -1"}],staticClass:"recommend-box",attrs:{id:"recommendBox"}},u._l(u.tipsData,(function(t,e){return h("div",{directives:[{name:"show",rawName:"v-show",value:t,expression:"item"}],key:t.qaId+e,staticClass:"tips-item",attrs:{title:t.tip},on:{click:function(e){return u.tipsItemClick(t.tip,t.extend)}}},[h("i"),h("span",[u._v(u._s(t.tip))])])})),0),h("div",{attrs:{id:"toBottomBox"}}),u.isOpenTalk&&-1==u.abilityId&&!u.optionsStop.showText&&null===u.dialogCollectionData&&u.isShow&&!u.optionsOn.isStart?h("section",{class:0!=(null===(l=u.tipsData)||void 0===l?void 0:l.length)&&u.isShow?"section-t":"",staticStyle:{"margin-top":"10px"}},[u.useAbility?u._e():h("div",{staticClass:"flex ability-box ability-t"},u._l(u.abilitySortList,(function(t){return h("div",{key:t.id,staticClass:"ability-cell",on:{click:function(e){return e.stopPropagation(),u.touchAbility(t)}}},[h("div",{staticClass:"flex cell-name"},[h("img",{attrs:{src:t.icon?t.icon:i("1aca")}}),h("div",{attrs:{title:t.name}},[u._v(u._s(t.name))])]),h("div",{staticClass:"cell-desc",attrs:{title:t.describe}},[u._v(u._s(t.describe))])])})),0)]):u._e()]),h("section",{staticClass:"sr-main-bottom"},[h("ul",{directives:[{name:"show",rawName:"v-show",value:-1!==u.abilityId&&(null===(r=u.tipsData)||void 0===r?void 0:r.length)>0&&!u.optionsOff.isShowSend&&u.optionsOff.isShowInput,expression:"abilityId !== -1 &&\n        tipsData?.length > 0 &&\n        !optionsOff.isShowSend &&\n        optionsOff.isShowInput\n        "}]},[h("transition-group",{staticClass:"tips-list",attrs:{name:"fade",mode:"out-in"}},u._l(u.tipsData,(function(t,e){return h("li",{directives:[{name:"show",rawName:"v-show",value:t,expression:"item"}],key:t.qaId+e,staticClass:"tips-item",on:{click:function(e){return u.tipsItemClick(t.tip,t.extend)}}},[h("i"),h("span",{staticClass:"other-item",attrs:{title:t.tip}},[u._v(u._s(t.tip))])])})),0)],1),u.isOpenTalk?u._e():[null!==u.dialogCollectionData?h("div",{staticClass:"stop-collect",on:{click:u.stopMessage}},[u._v(" "+u._s(u.t($t("iikg9l4","退出采集","lang")))+" ")]):[h("div",{directives:[{name:"show",rawName:"v-show",value:u.optionsOff.isShowSend,expression:"optionsOff.isShowSend"}],staticClass:"send-message"},[h("div",{staticClass:"send-message-desc"},[u.uploadImg?h("img",{attrs:{src:u.uploadImg,alt:""}}):u._e(),h("div",[u._v(u._s(u.optionsOff.sendValue))])])])],-1==u.abilityId&&u.isShow&&"send"===u.optionsOff.stopState&&null===u.dialogCollectionData?[u.uploadImg?h("div",{staticClass:"upload-img"},[h("img",{attrs:{src:u.uploadImg,alt:""}}),h("i",{staticClass:"el-icon-error",on:{click:u.deleteLoadImg}})]):u._e(),u.useAbility?h("div",{staticClass:"use-ability"},[h("div",[h("span",[u._v(u._s(u.t($t("dwrey64","正在使用","lang"))))]),h("img",{attrs:{src:u.currAbility.icon?u.currAbility.icon:i("1aca")}}),h("span",{staticClass:"active"},[u._v(u._s(u.currAbility.name))]),h("span")]),h("div",[h("img",{staticClass:"close-img",attrs:{src:i("7f70"),alt:""},on:{click:u.closeUseAbility}})])]):h("div",{staticClass:"flex ability-box"},[u._l(u.abilitySortList,(function(t){return h("div",{key:t.id,staticClass:"ability-cell",on:{click:function(e){return e.stopPropagation(),u.touchAbility(t)}}},[h("div",{staticClass:"flex cell-name"},[h("img",{attrs:{src:t.icon?t.icon:i("1aca")}}),h("div",{attrs:{title:t.name}},[u._v(u._s(t.name))])]),h("div",{staticClass:"cell-desc",attrs:{title:t.describe}},[u._v(u._s(t.describe))])])})),h("div",{staticStyle:{"font-size":"14px",color:"#fff","background-color":"#07254080","border-radius":"4px",height:"fit-content",cursor:"pointer","backdrop-filter":"blur(8px)","margin-left":"10px"},attrs:{title:u.showRecord?u.t($t("eod62","关闭","lang")):u.t($t("gmcv2","开启","lang"))},on:{click:u.handleRocrdClick}},[h("p",{staticStyle:{padding:"8px 10px","white-space":"nowrap"}},[h("i",{staticClass:"iconfont",class:u.showRecord?"icon-wenbenkai":"icon-wenbenguan",staticStyle:{"vertical-align":"middle","margin-right":"5px"}}),h("span",[u._v($t("c6ru7d4","对话记录","lang"))])])])],2)]:u._e(),h("div",{directives:[{name:"show",rawName:"v-show",value:u.buttomShow,expression:"buttomShow"}],staticClass:"input-b"},[h("div",{directives:[{name:"show",rawName:"v-show",value:u.optionsOff.isShowInput,expression:"optionsOff.isShowInput"}],staticClass:"input-box",class:u.currAbility.abilityId?"input-b-radius":""},["-8522033720666025012"===u.currAbility.abilityId?h("el-upload",{ref:"uploadRef",staticClass:"import-btn",attrs:{action:u.doUpload,accept:".jpg,.jpeg,.png,.bmp",multiple:"",limit:1,"on-exceed":u.handleExceed,"show-file-list":!1,"on-success":u.handleSuccess}},[h("i",{staticClass:"iconfont icon-general_folder-1",staticStyle:{cursor:"pointer"}})]):u._e(),h("i",{staticClass:"iconfont icon-general-vo",staticStyle:{cursor:"pointer"},on:{click:function(t){return u.handleLatClick()}}}),h("el-input",{key:"textArea",ref:"textAreaRef",attrs:{id:"room-textarea",type:"textarea",autosize:{minRows:1,maxRows:2},resize:"none",placeholder:u.t($t("w4wzw1d","输入你想要了解的内容...","lang"))},nativeOn:{keydown:function(t){return u.changeDefaultAction.apply(null,arguments)}},model:{value:u.optionsOff.value,callback:function(t){u.$set(u.optionsOff,"value",t)},expression:"optionsOff.value"}}),h("div",{directives:[{name:"show",rawName:"v-show",value:"send"===u.optionsOff.stopState||null!==u.dialogCollectionData,expression:"optionsOff.stopState === 'send' || dialogCollectionData !== null"}],staticClass:"my-button",on:{click:u.handleSend}},[u._v(" "+u._s(u.t($t("f1ow2","发送","lang")))+" ")]),h("div",{directives:[{name:"show",rawName:"v-show",value:"stop"===u.optionsOff.stopState&&null===u.dialogCollectionData,expression:"optionsOff.stopState === 'stop' && dialogCollectionData === null"}],staticClass:"my-button button-circle",on:{click:u.stopMessage}},[h("i",{staticClass:"stop-icon"})])],1)])]],2)]),h("div",{directives:[{name:"show",rawName:"v-show",value:u.isEduPrologue,expression:"isEduPrologue"}],class:["top-back-task",{"top-back-task-show":(null===(c=u.$parent.liveList)||void 0===c?void 0:c.length)>0}]},[h("backTask",{on:{handleOutTask:u.handleOutTask}})],1),h("div",{staticClass:"right-meun"},[h("eduMenuComponent",{on:{autoModuleStart:u.autoModuleStart}})],1),h("div",{staticClass:"think-talk"},[u.isOpenTalk&&u.optionsOn.isStart?[h("div",{directives:[{name:"show",rawName:"v-show",value:"listen"===u.optionsOn.state,expression:"optionsOn.state === 'listen'"}],staticClass:"bottom-speak",class:u.isOpenTalk&&-1!==u.abilityId?"auto-list":""},[h("i",{staticClass:"listening-gif"}),h("div",{directives:[{name:"show",rawName:"v-show",value:""===u.optionsOn.value,expression:"optionsOn.value === ''"}]},[u._v(u._s(u.t($t("kn1wmx6","我在听...","lang"))))]),h("div",{directives:[{name:"show",rawName:"v-show",value:""!==u.optionsOn.value,expression:"optionsOn.value !== ''"}],staticClass:"gif-text"},[u._v(u._s(u.optionsOn.value))]),h("i",{staticClass:"el-icon-close",on:{click:u.stopMessage}})]),h("div",{directives:[{name:"show",rawName:"v-show",value:"think"===u.optionsOn.state,expression:"optionsOn.state === 'think'"}],staticClass:"bottom-speak",class:u.isOpenTalk&&-1!==u.abilityId?"auto-list":""},[h("i",{staticClass:"thinking-gif"}),h("div",[u._v(u._s(u.t($t("dx6ylj6","思考中...","lang"))))]),h("i",{staticClass:"el-icon-close",on:{click:u.stopMessage}})])]:u._e()],2),u.isOpenTalk||null===u.dialogCollectionData?[h("div",{directives:[{name:"show",rawName:"v-show",value:u.optionsStop.showText,expression:"optionsStop.showText"}],staticClass:"stop-talk"},[h("div",{staticClass:"stop-button",on:{click:u.stopMessage}},[h("i",{staticClass:"stop-icon"}),u._v(u._s(u.t($t("e9ae2","停止","lang"))))]),u.optionsStop.value&&u.abilityId>0?h("article",[h("p",{staticClass:"anwser-text-span",on:{wheel:u.wheel}},[u._v(u._s(u.optionsStop.value))])]):u._e()])]:u._e(),h("open-audio-dialog-vue",{ref:"audioDialogRef",attrs:{info:u.info},on:{openTalk:u.handleOpenTalk}}),h("limit-dialog-vue",{ref:"limitTalk",attrs:{info:u.info},on:{limitTalk:u.handlelimitTalk}}),h("el-dialog",{staticClass:"videoDialog",attrs:{title:u.t($t("fpcxd54","知识推荐","lang")),visible:u.videoShow,width:"60%","before-close":u.handleClose,"destroy-on-close":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){u.videoShow=t}}},[h("div",{staticStyle:{padding:"20px"}},[h("video",{attrs:{controls:"",height:"500px",width:"100%",src:u.fileFrom.previewUrl}})])]),h("mt-dialog-plain",{attrs:{title:u.t($t("d01pry4","推文详情","lang")),width:"688px",visible:u.productDialogShow,"custom-class":"write-detail","close-on-click-modal":!1,"modal-append-to-body":!1,"before-close":u.closeProductDialog},on:{"update:visible":function(t){u.productDialogShow=t}}},[h("div",{staticClass:"flex items-center",staticStyle:{"flex-direction":"column","align-items":"center"}},[h("div",{staticClass:"titleName"},[u._v(u._s(u.productDetail.titleName))]),u.productDetail.imgUrl?h("swiper",{key:u.symbolKey,ref:"swiperRef",staticClass:"videoSwiper",attrs:{options:u.swiperVideo}},[u._l(u.productDetail.imgUrl.split(","),(function(t,e){return h("swiper-slide",{key:e},[h("div",{staticClass:"imgLi",style:u.styleObject(t)},[u.productDetail.buyLink?h("div",{staticClass:"flex items-center buy-t",on:{click:function(t){return u.openBuyLink(u.productDetail)}}},[h("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"23",height:"22",viewBox:"0 0 23 22",fill:"none"}},[h("rect",{attrs:{x:"0.875",width:"22",height:"22",rx:"5.5873",fill:"#FFA046"}}),h("path",{attrs:{d:"M15.6758 17.7039C15.6758 18.0253 15.8034 18.3335 16.0307 18.5607C16.2579 18.788 16.5661 18.9156 16.8875 18.9156C17.2089 18.9156 17.5171 18.788 17.7443 18.5607C17.9716 18.3335 18.0992 18.0253 18.0992 17.7039C18.0992 17.3825 17.9716 17.0743 17.7443 16.8471C17.5171 16.6199 17.2089 16.4922 16.8875 16.4922C16.5661 16.4922 16.2579 16.6199 16.0307 16.8471C15.8034 17.0743 15.6758 17.3825 15.6758 17.7039Z",fill:"white"}}),h("path",{attrs:{d:"M8.41797 17.7039C8.41797 18.0253 8.54563 18.3335 8.77287 18.5607C9.00011 18.788 9.30832 18.9156 9.62969 18.9156C9.95106 18.9156 10.2593 18.788 10.4865 18.5607C10.7137 18.3335 10.8414 18.0253 10.8414 17.7039C10.8414 17.3825 10.7137 17.0743 10.4865 16.8471C10.2593 16.6199 9.95106 16.4922 9.62969 16.4922C9.30832 16.4922 9.00011 16.6199 8.77287 16.8471C8.54563 17.0743 8.41797 17.3825 8.41797 17.7039Z",fill:"white"}}),h("path",{attrs:{d:"M19.1297 6.34724L7.98786 6.43532L7.6699 4.84978L5.69548 4.19236C5.29158 4.057 4.85115 4.27615 4.71579 4.6822C4.58044 5.08825 4.79958 5.52654 5.20564 5.66189L6.32712 6.03572L8.15329 15.1687L8.16618 15.2289C8.28865 15.723 8.7656 16.0711 9.29841 16.0023L9.81833 15.9271L17.5506 14.7025C17.9996 14.6445 18.3584 14.3008 18.4357 13.856L19.6367 6.9531C19.6926 6.63728 19.4498 6.34724 19.1297 6.34724Z",fill:"white"}})]),h("span",[u._v(u._s(u.t($t("fughkb4","立即购买","lang"))))])]):u._e()])])})),(null===(d=u.productDetail.imgUrl.split(","))||void 0===d?void 0:d.length)>1?h("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}):u._e()],2):u._e(),h("div",{staticClass:"content-tweets",class:u.productDetail.imgUrl?"":"mt-15",domProps:{innerHTML:u._s(u.productDetail.tweets)}})],1)]),u.smartBusinessShow&&u.info?h("el-dialog",{staticClass:"smartDialog",attrs:{title:"",visible:u.smartBusinessShow,width:"370px","before-close":u.smartBusinessCloseFn,"show-close":!1,"close-on-click-modal":!1,"destroy-on-close":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){u.smartBusinessShow=t}}},[h("img",{staticClass:"cancel-img",attrs:{src:i("ddd5"),alt:""},on:{click:u.smartBusinessCloseFn}}),h("div",{staticClass:"smart-business-box",style:{backgroundImage:"url("+u.info.apply.appBackIcon+")"}},[h("img",{staticClass:"personal-img",attrs:{src:u.info.apply.personalCenterImg}}),h("div",{staticClass:"smart-business-t"},[h("div",{staticClass:"smart-business-detail"},[h("div",{staticClass:"business-detail-name"},[u._v(u._s(u.cardList.name))]),u.cardList.pyName?h("div",{staticClass:"english-name"},[u._v(u._s(u.cardList.pyName))]):u._e(),h("div",{staticClass:"business-detail-profession"},[u._v(u._s(u.cardList.positionRole))]),h("div",{staticClass:"business-border"}),h("div",{staticClass:"business-detail-post mt-15 flex"},[h("i",{staticClass:"iconfont icon icon-dianhua"}),h("span",[u._v(u._s(u.cardList.myPhone))])]),h("div",{staticClass:"business-detail-post flex"},[h("i",{staticClass:"iconfont icon icon-youxiang"}),h("span",[u._v(u._s(u.cardList.email))])]),h("div",{staticClass:"business-detail-post flex"},[h("i",{staticClass:"iconfont icon icon-gongsi"}),h("span",[u._v(u._s(u.cardList.corporateName))])]),h("div",{staticClass:"business-detail-post flex"},[h("i",{staticClass:"iconfont icon icon-dizhi"}),h("span",[u._v(u._s(u.cardList.corporateAddress))])]),h("div",{staticClass:"business-video"},[u._l(u.menuList,(function(t,e){var i,s;return[null!=t.files?[null!=t.files?h("div",{staticClass:"business-border"},[u._v(" "+u._s(t.menuName)+" ")]):u._e(),null!=t.files?h("div",{staticClass:"w-full flex business-video-list"},u._l(t.files,(function(t){return h("div",{staticClass:"flex flex-col business-video-d",on:{click:function(e){return u.previewFn(t.suffix,t)}}},["mp4"==t.suffix?h("video",{attrs:{"data-v-8f06f080":"",src:t.previewUrl,controls:"controls"}}):"png"==t.suffix||"jpg"==t.suffix||"jpeg"==t.suffix||"gif"==t.suffix?h("div",{staticClass:"imgbox"},[h("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:u.handleImageUrlFn(t),fit:u.fit}})],1):[h("folderSource",{key:t.id,attrs:{special:"1",name:t.title,type:t.suffix}})],h("div",{staticClass:"title",attrs:{title:t.title}},[u._v(" "+u._s(t.title)+" ")])],2)})),0):u._e(),(null===(i=u.menuListOrg[e].files)||void 0===i?void 0:i.length)>2&&!t.up?h("i",{staticClass:"iconfont icon icon-jiantou-xiangxia",on:{click:function(i){return u.openFiles(t,e)}}}):u._e(),(null===(s=t.files)||void 0===s?void 0:s.length)>0&&t.up?h("i",{staticClass:"iconfont icon icon-jiantou-xiangxia r-90",on:{click:function(i){return u.openFilesUp(t,e)}}}):u._e()]:u._e()]}))],2)])])])]):u._e(),h("el-dialog",{attrs:{title:"",visible:u.dialogVisible,width:"980px",height:"884px",top:"5%","close-on-click-modal":!0,"before-close":u.sureClose},on:{"update:visible":function(t){u.dialogVisible=t}}},[h("div",{staticClass:"contentSharing-dialogue-photo"},["mp4"==u.files.suffix?h("video",{attrs:{"data-v-8f06f080":"",autoplay:"autoplay",src:u.dataFile.previewUrl,controls:"controls"}}):"png"==u.files.suffix||"jpg"==u.files.suffix||"jpeg"==u.files.suffix||"gif"==u.files.suffix?h("img",{attrs:{src:(u.files.imgUrl,u.handleImageUrlFn(u.files)),alt:"11",title:"33"}}):h("iframe",{staticStyle:{width:"100%",height:"580px"},attrs:{src:u.files.previewUrl}})])]),u.classTestShow?h("classTest",{attrs:{anserList:u.anserList,classTestShow:u.classTestShow},on:{"update:classTestShow":function(t){u.classTestShow=t},"update:class-test-show":function(t){u.classTestShow=t}}}):u._e()],2)},a=[],n=(i("aa56"),i("264f"),i("eb9e"),i("2142"),i("7069")),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],class:"iconfont icon-quanping",on:{click:t.handleFullScreen}}),e("aside",[e("div",{staticClass:"my-video"},[e("div",{ref:"myVideoBox",staticStyle:{width:"100%",height:"100%"}},[e("div",{ref:"videoBox",staticClass:"video-box",staticStyle:{width:"100%",height:"100%"}},[e("span",{staticClass:"small-icon",on:{click:t.exitFullScreen}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.isClickFullScreen,expression:"isClickFullScreen"}],class:"iconfont icon-Frame7"})]),t.isFullscreen?e("div",{staticClass:"backTaskBtn"},[e("backTask",{on:{handleOutTask:function(e){return t.$parent.handleOutTask()}}})],1):t._e(),e("danmaku",{ref:"dmk",staticStyle:{height:"200px",width:"100%",position:"absolute",top:"34px","z-index":"1000"},attrs:{danmus:t.danmus,userId:t.userInfo&&t.userInfo.id,cureName:t.curentUser,autoplay:!1},on:{dmClick:t.showDanmu}}),e("video",{ref:"myVideo",attrs:{id:"videoRef",controls:"",autoplay:"",controlsList:"nodownload noremoteplayback nofullscreen",disablePictureInPicture:"",src:t.videoSrc,width:"100%",height:"100%"},on:{ended:t.handleVideoEnded}}),t.isFullscreen?e("div",{class:[{dmDetail_dire_click:t.allCloseFlag},"dmDetail_dire","dmDetailCom"]},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-left"},[t._v($t("dvye2","任务","lang"))]),e("div",{staticClass:"title-right",on:{click:t.allClose}},[e("i",{class:["iconfont",t.allCloseFlag?"icon-a-fangxiangyouyansefalse1":"icon-a-fangxiangxiayansefalse"]})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.allCloseFlag,expression:"!allCloseFlag"}]},t._l(t.taskList,(function(i){return e("div",{key:i.id,staticClass:"dmDetail_dire_content",on:{click:function(e){return t.taskDeatil(i)}}},[e("div",{staticClass:"task-panel"},[e("div",{staticClass:"header"},[e("div",{staticClass:"flex lien-top"},[e("span",{staticClass:"title_f"},[t._v(t._s(i.taskName))]),e("el-tag",{attrs:{size:"small",type:t.taskType[i.status],effect:"dark"}},[t._v(t._s(t._f("statusFilters")(i.status)))]),e("i",{class:[i.menuShow?"el-icon-caret-bottom":"el-icon-caret-right","open_"]})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuShow,expression:"task.menuShow"}],staticClass:"task-list"},t._l(i.configList,(function(i,s){return e("div",{key:s,class:["task-item",{"task-item-progress":2==i.processStatus,"task-item-end":4==i.processStatus}]},[e("div",{class:["task-left",{"task-left-progress":2==i.processStatus,"task-left-end":4==i.processStatus}]},[t._v(" "+t._s(i.configName))]),e("div",{staticClass:"task-right"},[e("div",{staticClass:"task-title"},[t._v(t._s(i.abilityName))]),e("div",{staticClass:"task-time"},[t._v(t._s(i.processTime))])])])})),0)])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.allCloseFlag,expression:"allCloseFlag"}]},[e("img",{staticClass:"piture",attrs:{src:i("c99c")}})])]):t._e(),e("div",[t.isFullscreen?e("iframe",{ref:"iframe_",staticStyle:{position:"absolute",bottom:"6%",right:"0%"},attrs:{width:"380",height:"550",allow:"camera *; microphone *",src:t.iframeSrc,frameborder:"0"}}):t._e()])],1),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.paused,expression:"paused"}],attrs:{xmlns:"http://www.w3.org/2000/svg",width:"39",height:"49",viewBox:"0 0 39 49",fill:"none"},on:{click:t.play}},[e("path",{attrs:{opacity:"0.8",d:t.svg.pause,fill:"white"}})]),e("svg",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"load-rotate",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"88",height:"88",viewBox:"0 0 88 88",fill:"none"}},[e("path",{attrs:{d:t.svg.loading,fill:"white"}}),e("defs",[e("radialGradient",{attrs:{id:"paint0_angular_11134_92881",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(31.9 44) rotate(-6.34019) scale(59.7655 49.981)"}},[e("stop",{attrs:{"stop-color":"white"}}),e("stop",{attrs:{offset:"0.595104","stop-color":"white"}}),e("stop",{attrs:{offset:"0.87025","stop-color":"white","stop-opacity":"0"}}),e("stop",{attrs:{offset:"1","stop-color":"white","stop-opacity":"0"}})],1)],1)])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length<=0,expression:"dataList.length <= 0"}],staticClass:"no-data"},[t._v($t("fctt826","暂无视频分享","lang"))])])])])},l=[],r=(i("d165"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"exit-button",on:{click:t.handleOut}},[e("span",[t._v(t._s(t.name))]),e("i",{staticClass:"iconfont icon-cha"})])}),c=[],d={name:"backTask",props:{name:{type:String,default:$t("ii8ps04","退出任务","lang")}},methods:{handleOut(){this.$emit("handleOutTask",!0)}}},u=d,h=(i("616f"),i("36f1")),p=Object(h["a"])(u,r,c,!1,null,"0e593288",null),g=p.exports,m=i("487d"),f=i.n(m),v=i("8327"),y=i("ed08"),b=i("e726"),w=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"vue-danmaku"},[e("div",{ref:"dmContainer",class:["danmus",{show:!t.hidden},{paused:t.paused}]}),t._t("default")],2)},I=[],C=i("a2e7"),k={props:{userId:{type:String,default:""},cureName:{type:String,default:""},danmus:{type:Array,required:!0,default:()=>[]},channels:{type:Number,default:5},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},useSlot:{type:Boolean,default:!1},debounce:{type:Number,default:100},speeds:{type:Number,default:100},randomChannel:{type:Boolean,default:!1},fontSize:{type:Number,default:12},top:{type:Number,default:4},right:{type:Number,default:0},isSuspend:{type:Boolean,default:!0},extraStyle:{type:String,default:""}},data(){return{$container:null,$dmContainer:null,container:{width:0,height:0},calcChannels:0,danmuHeight:0,danmuList:[],timer:null,index:0,hidden:!1,paused:!1,danChannel:{}}},computed:{danmu(){return{height:this.danmuHeight,fontSize:this.fontSize,speeds:this.speeds,top:this.top,right:this.right}},danmaku(){return{channels:this.channels||this.calcChannels,autoplay:this.autoplay,loop:this.loop,useSlot:this.useSlot,debounce:this.debounce,randomChannel:this.randomChannel}}},watch:{danmus:{handler(){this.initDanmuList()},deep:!0}},created(){},mounted(){this.$nextTick(()=>{this.init()})},beforeDestroy(){this.clear(),this.$refs.dmContainer.removeEventListener("click",this.dmClick)},methods:{timeJump(){this.danChannel={},this.$dmContainer.innerHTML="",this.danmuList=[],this.clear(),this.init()},dmClick(t){t.target.dataset.dmId&&this.$emit("dmClick",t.target.dataset.dmId)},init(){this.initCore(),this.initDanmuList(),this.isSuspend&&this.initSuspendEvents(),this.danmaku.autoplay&&this.play()},initCore(){this.$container=this.$refs.container,this.$dmContainer=this.$refs.dmContainer,this.$refs.dmContainer.addEventListener("click",this.dmClick),this.container={width:this.$container.offsetWidth,height:this.$container.offsetHeight}},initDanmuList(){console.log(this.danmus,"danmus"),this.danmuList=[...this.danmus]},play(){this.paused=!1,this.timer||(this.timer=setInterval(()=>this.draw(),this.danmaku.debounce))},draw(){if(!this.paused&&this.danmuList.length)if(this.index>this.danmuList.length-1){const t=this.$refs.dmContainer.children.length;this.danmaku.loop&&t<this.index&&(this.$emit("list-end"),this.index=0,this.insert())}else this.insert()},insert(t){console.log("dm~");const e=this.danmaku.loop?this.index%this.danmuList.length:this.index;let i=document.createElement("div");this.danmaku.useSlot?i=this.getSlotComponent(e).$el:(t||(t=this.danmuList[e]),i.innerHTML=t.question+'<span class="el-icon-arrow-right" style="font-weigth: 900"> </span>',i.setAttribute("style",this.extraStyle),i.dataset.isDm=t.id?t.id:t.curentUser,i.dataset.dmId=t.dmId?t.dmId:"",i.style.fontSize=this.danmu.fontSize+"px",i.style.lineHeight=this.danmu.fontSize+"px",(this.userId&&this.userId===t.userId&&"0"!=t.userId||!this.userId&&t.curentUser==this.cureName)&&i.classList.add("green")),i.classList.add("dm"),this.$dmContainer.appendChild(i),i.style.opacity=0,this.$nextTick(()=>{this.danmu.height||(this.danmuHeight=i.offsetHeight+10),this.channels||(this.calcChannels=Math.floor(this.container.height/(this.danmu.height+this.danmu.top)));let t=this.getChannelIndex(i);if(t>=0){const e=i.offsetWidth,s=this.danmu.height;i.classList.add("move"),i.style.opacity=1;const a=this.container.width/this.danmu.speeds;i.style.animationDuration=a+"s",i.style.top=t*(s+this.danmu.top)+"px",i.style.width=e+this.danmu.right+"px",i.style.setProperty("--dm-left-offset",`-${this.container.width}px`),i.dataset.index=this.index,i.addEventListener("animationend",()=>{Number(i.dataset.index)!==this.danmuList.length-1||this.danmaku.loop||this.$emit("play-end",i.dataset.index),this.$dmContainer.removeChild(i)}),i.classList.length>0&&this.index++}else i.classList.length>0&&this.$dmContainer.removeChild(i)})},getSlotComponent(t){const e=this,i=C["default"].extend({props:{danmu:[String,Object],index:Number},render(t){return t("div",[e.$scopedSlots.dm({danmu:this.danmu,index:this.index})])}}),s=new i({propsData:{danmu:this.danmuList[t],index:t}}).$mount(document.createElement("div"));return s},getChannelIndex(t){let e=[...Array(this.danmaku.channels).keys()];this.danmaku.randomChannel&&(e=e.sort(()=>.5-Math.random()));for(let i of e){const e=this.danChannel[i];if(!e||!e.length)return this.danChannel[i]=[t],t.addEventListener("animationend",()=>this.danChannel[i].splice(0,1)),i%this.danmaku.channels;for(let s=0;s<e.length;s++){const a=this.getDanRight(e[s])-10;if(a<=.88*(t.offsetWidth-e[s].offsetWidth)||a<=0)break;if(s===e.length-1)return this.danChannel[i].push(t),t.addEventListener("animationend",()=>this.danChannel[i].splice(0,1)),i%this.danmaku.channels}}return-1},getDanRight(t){const e=t.offsetWidth||parseInt(t.style.width),i=t.getBoundingClientRect().right||this.$dmContainer.getBoundingClientRect().right+e;return this.$dmContainer.getBoundingClientRect().right-i},clearTimer(){clearInterval(this.timer),this.timer=null},initSuspendEvents(){let t=[];this.$refs.dmContainer.addEventListener("mousemove",e=>{let i=e.target;i.className.includes("dm")||(i=i.closest(".dm")||e.target),i.className.includes("dm")&&(i.classList.add("pause"),i.classList.add("target"),t.push(i))}),this.$refs.dmContainer.addEventListener("mouseout",e=>{let i=e.target;i.className.includes("dm")||(i=i.closest(".dm")||e.target),i.className.includes("dm")&&(i.classList.remove("pause"),i.classList.remove("target"),t.forEach(t=>{t.classList.remove("pause"),i.classList.remove("target")}),t=[])})},clear(){this.clearTimer(),this.index=0},reset(){this.$container=null,this.$dmContainer=null,this.danmuHeight=0,this.init()},stop(){this.danChannel={},this.$dmContainer.innerHTML="",this.paused=!0,this.hidden=!1,this.clear(),this.initDanmuList()},pause(){this.paused=!0},add(t){if(this.index===this.danmuList.length)return this.push(t),this.danmuList.length-1;{const e=this.index%this.danmuList.length;return this.danmuList.splice(e,0,t),e+1}},push(t){return this.danmuList.push(t),this.danmuList.length-1},getPlayState(){return!this.paused},show(){this.hidden=!1},hide(){this.hidden=!0},resize(){this.initCore();const t=this.$dmContainer.getElementsByClassName("dm");for(let e=0;e<t.length;e++)t[e].style.setProperty("--dm-left-offset",`-${this.container.width}px`)}}},S=k,x=(i("0fef"),Object(h["a"])(S,w,I,!1,null,null,null)),A=x.exports,L=i("1e36");const T={loading:"M68.7382 14.9803C70.8403 12.5144 70.5626 8.77313 67.8391 7.01753C60.9505 2.577 52.9215 0.126816 44.649 0.0047863C34.4108 -0.146238 24.4405 3.27815 16.4557 9.688C8.47095 16.0979 2.97167 25.0918 0.905299 35.1204C-1.16107 45.149 0.334842 55.5843 5.13534 64.6286C9.93584 73.6728 17.7403 80.7597 27.2043 84.6682C36.6682 88.5768 47.199 89.0623 56.9824 86.0411C66.7659 83.02 75.1893 76.6813 80.8017 68.1172C85.3365 61.1972 87.8065 53.1744 87.9892 44.9806C88.0614 41.7411 85.1183 39.4146 81.898 39.7737C78.6776 40.1328 76.4143 43.0498 76.1851 46.282C75.7978 51.7439 74.0237 57.0519 70.9872 61.6855C66.8716 67.9657 60.6945 72.6139 53.5202 74.8293C46.3459 77.0448 38.6235 76.6888 31.6834 73.8226C24.7434 70.9564 19.0203 65.7595 15.5 59.1272C11.9797 52.495 10.8828 44.8426 12.3981 37.4885C13.9134 30.1344 17.946 23.539 23.8014 18.8385C29.6568 14.1381 36.9681 11.6269 44.4759 11.7377C50.0152 11.8194 55.4056 13.3246 60.1464 16.0647C62.9518 17.6862 66.6361 17.4462 68.7382 14.9803Z",pause:"M35.9469 20.3698C38.8561 22.3548 38.8561 26.6452 35.9469 28.6302L8.5681 47.3114C5.24919 49.5759 0.750001 47.1991 0.750002 43.1812L0.750003 5.81882C0.750003 1.80093 5.2492 -0.57592 8.56811 1.68865L35.9469 20.3698Z",download:"M5.36806 6.73031V0H6.63122V6.73098L8.41793 4.94427L9.31112 5.83746L5.99998 9.1486L2.68884 5.83746L3.58202 4.94427L5.36806 6.73031ZM1.57859 10.7368V9.47368H0.31543V12H11.6839V9.47368H10.4207V10.7368H1.57859Z"};var O=function(){var t=this,e=t._self._c;return e("div",[e("div",{ref:"textRef",staticClass:"markdown",style:t.getWidthStyle,domProps:{innerHTML:t._s(t.content)},on:{click:function(e){return e.stopPropagation(),t.openTips.apply(null,arguments)}}}),t.showBottom?e("div",{staticClass:"footer-copyright"},[e("span",[t._v($t("1rgu14","AI生成","lang"))]),t.showFeedBack?e("div",{staticClass:"footer-copyright-icon"},[e("i",{staticClass:"iconfont icon-a-Frame1142814753",on:{click:t.handleCopy}}),e("span",[t._v("|")]),e("i",{staticClass:"iconfont icon-general_black-dianzan",class:{active:0===t.activeIcon},on:{click:function(e){return t.handleMark(0)}}}),e("i",{staticClass:"iconfont icon-general_black-diancai",class:{active:1===t.activeIcon},on:{click:function(e){return t.handleMark(1)}}})]):t._e()]):t._e(),t.packageName?e("div",{staticClass:"footer-copyright"},[e("span",[t._v($t("xe3dhp8","调用相关数据包：","lang")+t._s(t.packageName))])]):t._e(),e("FeedbackAll",{ref:"feedbackAllRef",on:{confirmAdvice:t.handleConfirmAdvice,report:t.handleReport}})],1)},_=[],$=i("b893"),D=i("0adf"),j=i.n(D),R=i("2443"),F=i.n(R),E=i("accd"),P=i.n(E),N=i("73e3"),M=function(){var t=this,e=t._self._c;return e("div",[e("Feedback",{ref:"feedbackRef",on:{openOther:t.handleOpenOther,confirm:t.handleConfirmAdvice}}),e("FeedbackAdvice",{ref:"feedbackAdviceRef",on:{confirm:t.handleConfirmAdvice}}),e("FeedbackReport",{ref:"feedbackReportRef",on:{report:t.handleReport}})],1)},B=[],U=function(){var t=this,e=t._self._c;return e("mt-dialog-plain",{attrs:{visible:t.visible,width:500,"append-to-body":!0,"show-title":!1,"destroy-on-close":!0,"close-on-click-modal":!1,"align-center":""},on:{"update:visible":function(e){t.visible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{on:{click:t.handleReport}},[t._v($t("dulj2","举报","lang"))]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleConfirm}},[t._v($t("heqc2","提交","lang"))])]},proxy:!0}])},[e("div",{staticClass:"step-on-box"},t._l(t.stepOnDialogItem,(function(i){return e("div",{key:i.value,staticClass:"step-on-item text-14px",class:{"step-on-item-active":t.activeIndex===i.value},on:{click:function(e){return t.handleClick(i)}}},[t._v(" "+t._s(i.label)+" "),8===i.value?e("i",{staticClass:"iconfont icon-pen-line-black1",staticStyle:{"margin-left":"10px"}}):t._e()])})),0)])},V=[],z={data(){return{visible:!1,activeIndex:-1,loading:!1,stepOnDialogItem:[{label:$t("ih08j74","还不够好","lang"),value:1},{label:$t("uf14dx5","与问题无关","lang"),value:2},{label:$t("oimja75","内容不准确","lang"),value:3},{label:$t("d3bk605","有不实信息","lang"),value:4},{label:$t("nr6ghw8","错误的价值观导向","lang"),value:5},{label:$t("cs455r6","存在偏见歧视","lang"),value:6},{label:$t("xj652d6","侵犯他人权益","lang"),value:7},{label:$t("z68j3n6","其他反馈意见","lang"),value:8}]}},methods:{handleReport(){this.visible=!1,this.$emit("openOther","report")},handleClick(t){8===t.value?(this.$emit("openOther","advice"),this.visible=!1):this.activeIndex=t.value},handleConfirm(){if(-1===this.activeIndex)return this.$message.warning($t("v079vm7","请选择反馈类型","lang"));const t=this.stepOnDialogItem[this.activeIndex-1];this.loading=!0,this.$emit("confirm",{desc:t.label,type:t.value})},handleClose(){this.loading=!1,this.visible=!1},handleOpen(){this.activeIndex=-1,this.visible=!0}}},Q=z,q=(i("d1e8"),Object(h["a"])(Q,U,V,!1,null,null,null)),W=q.exports,J=function(){var t=this,e=t._self._c;return e("mt-dialog-plain",{attrs:{title:$t("ctavzh4","意见反馈","lang"),visible:t.visible,width:500,"append-to-body":!0,"show-title":!0,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{on:{click:function(e){return t.handleClose()}}},[t._v($t("ev022","取消","lang"))]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.handleConfirm()}}},[t._v($t("kzjg2","确定","lang"))])]},proxy:!0}])},[e("div",[e("el-input",{staticClass:"dialogue-correction-input",attrs:{type:"textarea",rows:4,placeholder:$t("h2e3nlc","我还有其他意见反馈...","lang")},model:{value:t.contextDialog,callback:function(e){t.contextDialog=e},expression:"contextDialog"}})],1)])},G=[],H={data(){return{visible:!1,contextDialog:"",loading:!1}},methods:{handleConfirm(){this.loading=!0,this.$emit("confirm",{type:8,desc:this.contextDialog})},handleCancel(){this.visible=!1},handleClose(){this.loading=!1,this.visible=!1},handleOpen(){this.visible=!0,this.contextDialog=""}}},Y=H,Z=Object(h["a"])(Y,J,G,!1,null,null,null),X=Z.exports,K=function(){var t=this,e=t._self._c;return e("mt-dialog-plain",{attrs:{title:$t("dulj2","举报","lang"),visible:t.visible,width:500,"append-to-body":!0,"destroy-on-close":!0,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visible=e}},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{on:{click:function(e){t.visible=!1}}},[t._v($t("ev022","取消","lang"))]),e("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.reportDialogConfirm}},[t._v($t("heqc2","提交","lang"))])]},proxy:!0}])},[e("div",[e("el-form",{ref:"reportForm",attrs:{"label-position":"top",rules:t.reportFormRules,model:t.reportFormData}},[e("el-form-item",{attrs:{label:$t("99ufvyb","举报问题类型（可多选）","lang"),prop:"type"}},[e("el-checkbox-group",{model:{value:t.reportFormData.type,callback:function(e){t.$set(t.reportFormData,"type",e)},expression:"reportFormData.type"}},t._l(t.reportCheckList,(function(t){return e("el-checkbox",{key:t.value,attrs:{value:t.value,label:t.label,name:"type"}})})),1)],1),e("el-form-item",{attrs:{label:$t("jjm8kr4","问题描述","lang"),prop:"opinion"}},[e("el-input",{staticClass:"dialogue-correction-input",attrs:{type:"textarea",rows:4,placeholder:$t("h2e3nlc","我还有其他意见反馈...","lang")},model:{value:t.reportFormData.opinion,callback:function(e){t.$set(t.reportFormData,"opinion",e)},expression:"reportFormData.opinion"}})],1),e("el-form-item",{attrs:{label:$t("gphnfh4","联系方式","lang"),prop:"phone"}},[e("el-input",{attrs:{maxlength:"11"},model:{value:t.reportFormData.phone,callback:function(e){t.$set(t.reportFormData,"phone",e)},expression:"reportFormData.phone"}})],1)],1)],1)])},tt=[],et={data(){return{visible:!1,reportFormData:{type:[],opinion:"",phone:""},loading:!1,reportFormRules:{type:[{type:"array",required:!0,message:$t("v4jcc9b","请至少选择一个问题类型","lang"),trigger:"change"}],phone:[{required:!0,message:$t("gtldfe7","请输入联系方式","lang"),trigger:"blur"},{validator:(t,e,i)=>{/^1[3-9]\d{9}$/.test(e)?i():i(new Error($t("zbssc48","请输入正确手机号","lang")))},trigger:"blur"}]},reportCheckList:[{label:$t("aiuryp4","人身攻击","lang"),value:$t("aiuryp4","人身攻击","lang")},{label:$t("ibja6x4","谩骂攻击","lang"),value:$t("ibja6x4","谩骂攻击","lang")},{label:$t("e8lfwx4","涉政反动","lang"),value:$t("e8lfwx4","涉政反动","lang")},{label:$t("eh05e14","涉黄信息","lang"),value:$t("eh05e14","涉黄信息","lang")},{label:$t("dckmsh4","政视言论","lang"),value:$t("dckmsh4","政视言论","lang")},{label:$t("6j5vlc7","不良价值观导向","lang"),value:$t("6j5vlc7","不良价值观导向","lang")},{label:$t("hq3ya44","血腥暴力","lang"),value:$t("hq3ya44","血腥暴力","lang")},{label:$t("eae82","其他","lang"),value:8}]}},methods:{reportDialogConfirm(){this.$refs.reportForm.validate(t=>{t&&(this.loading=!0,this.$emit("report",this.reportFormData))})},handleClose(){this.loading=!1,this.visible=!1},handleOpen(){this.visible=!0,this.$nextTick(()=>{this.$refs.reportForm.resetFields()})}}},it=et,st=Object(h["a"])(it,K,tt,!1,null,null,null),at=st.exports,nt={components:{Feedback:W,FeedbackAdvice:X,FeedbackReport:at},data(){return{feedbackRefs:{advice:"feedbackAdviceRef",report:"feedbackReportRef"}}},methods:{handleOpenOther(t){this.$refs[this.feedbackRefs[t]].handleOpen()},handleConfirmAdvice(t){this.$emit("confirmAdvice",t)},handleReport(t){this.$emit("report",t)},handleClose(){this.$refs.feedbackRef.handleClose()},handleAdviceClose(){this.$refs.feedbackAdviceRef.handleClose()},handleReportClose(){this.$refs.feedbackReportRef.handleClose()},handleOpen(){this.$refs.feedbackRef.handleOpen()}}},ot=nt,lt=(i("3146"),Object(h["a"])(ot,M,B,!1,null,null,null)),rt=lt.exports,ct=i("7deb");function dt(t="",e=""){return`<pre class="code-block-wrapper"><div class="code-block-header"><span class="code-block-header__lang">${e}${$t("wzjj612o",'</span><span class="code-block-header__copy">复制代码</span></div><code class="hljs code-block-body ',"lang")}${e}">${t}</code></pre>`}const ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ht(t){return t.replace(/[&<>"]/g,(function(t){return ut[t]}))}const pt=new F.a({html:!0,xhtmlOut:!1,breaks:!1,highlight(t,e){const i=!(!e||!P.a.getLanguage(e));if(i){const i=e||"";return dt(P.a.highlight(t,{language:i}).value,i)}return dt(P.a.highlightAuto(t).value,"")}}),gt=(t,e,i,s,a)=>{t[e];var n=a.renderToken(t,e,i).replace(">",'target="_blank" onclick="handleLinkClick(event,this)" >');return n};window.handleLinkClick=function(t,e){t.stopPropagation(),t.preventDefault(),ct["MessageBox"].confirm($t("zeager1n","智小途出于为您提供便利的目的向您提供第三方链接，我们不对第三方网站的内容负责，请您审慎访问，保护好您的信息及财产安全。","lang"),$t("hu6ae2h","您即将离开智小途，跳转到第三方网站","lang"),{confirmButtonText:$t("gjhm5x4","继续访问","lang"),cancelButtonText:$t("ev022","取消","lang")}).then(()=>{window.open(e.href,"_blank")})};const mt=(t,e,i,s,a)=>{const n=t[e];if(n.content){const t=/<br>/g;n.content=n.content.replace(t,"\n")}let o=ht(j.a.sanitize(n.content));return"<code"+a.renderAttrs(n)+">"+o+"</code>"},ft=(t,e,i,s,a)=>{const n=a.renderToken(t,e,i),o=n.match(/src=["'](.*?)["']/i);return a.renderToken(t,e,i).replace(o[1],Object($["d"])(o[1],"ai_small")).replace(">",' style="cursor:pointer;height:260px" onclick="handleImageClick(this)" >')};window.handleImageClick=t=>{const{src:e}=t},pt.renderer.rules.code_inline=mt,pt.renderer.rules.link_open=gt,pt.renderer.rules.image=ft;var vt,yt,bt={name:"MessageText",components:{FeedbackAll:rt},props:{value:{type:String,default:""},inputDivWidth:{type:Number,default:null},showBottom:{type:Boolean,default:!0},showFeedBack:{type:Boolean,default:!0},chatRecordId:{type:String},sessionId:{type:String},packageName:{type:String}},data(){return{activeIcon:-1,params:{}}},methods:{openTips(){this.$emit("openTips","openTips")},copyText(t){return new Promise((e,i)=>{try{const i=document.createElement("textarea");i.setAttribute("readonly","readonly"),i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy")&&(document.execCommand("copy"),document.body.removeChild(i)),e(t)}catch(s){i(error)}})},addCopyEvents(){let t=this;const e=t.$refs.textRef.querySelectorAll(".code-block-header__copy");e.forEach(e=>{e.addEventListener("click",()=>{var i;const s=null===(i=e.parentElement)||void 0===i||null===(i=i.nextElementSibling)||void 0===i?void 0:i.textContent;s&&t.copyText(s).then(()=>{e.textContent=$t("bkv2mw4","复制成功","lang"),setTimeout(()=>{e.textContent=$t("bks0lj4","复制代码","lang")},1e3)})})})},handleCopy(){this.copyText(this.value).then(()=>{this.$message.success($t("bkv2mw4","复制成功","lang"))})},handleMark(t){const e=this.activeIcon;if(this.params={type:t,id:this.chatRecordId},t===e){switch(t){case 0:this.params.status=0;break;case 1:this.params.status=0,this.params.type=-1;break}N["j"](this.params).then(()=>{this.$message.success(`${$t("e68dg3","已取消","lang")}${0===t?$t("etlbsd4","点赞😅","lang"):$t("etpid14","点踩🙂","lang")}`),this.activeIcon=-1})}else switch(t){case 0:this.params.status=1,N["j"](this.params).then(()=>{this.$message.success($t("5ynjh1k","已收到你的支持👍,我们会继续努力的😊","lang")),this.activeIcon=0});break;case 1:this.params.status=-1,this.$refs.feedbackAllRef.handleOpen();break}},handleConfirmAdvice(t){N["j"]({...this.params,...t}).then(()=>{this.activeIcon=1,this.$refs.feedbackAllRef.handleClose(),this.$refs.feedbackAllRef.handleAdviceClose(),this.$message.success($t("b19gxno","感谢您的反馈！我们将采纳并改进，力争做得更好🚀","lang"))})},handleReport(t){const e={chatRecordId:this.chatRecordId,sessionId:this.sessionId};N["k"]({...e,...t}).then(()=>{this.activeIcon=1,this.$refs.feedbackAllRef.handleReportClose(),ElMessage.success($t("b19gxno","感谢您的反馈！我们将采纳并改进，力争做得更好🚀","lang"))})}},computed:{content(){return pt.render(j.a.sanitize(this.value))},getWidthStyle(){const t=this.inputDivWidth?this.inputDivWidth:"";return{"max-width":t-24+"px"}}},mounted(){this.addCopyEvents()}},wt=bt,It=(i("55d8"),Object(h["a"])(wt,O,_,!1,null,"5927e962",null)),Ct=It.exports,kt=i("8be0"),St={name:"teleport",props:{to:{type:String,required:!0}},mounted(){document.querySelector(this.to).appendChild(this.$el)},destroyed(){document.querySelector(this.to).removeChild(this.$el)},render(){return this.$scopedSlots.default()}},xt=St,At=Object(h["a"])(xt,vt,yt,!1,null,null,null),Lt=At.exports;let Tt=100,Ot=1,_t=null;var Dt={mixins:[kt["a"]],props:{applyId:{type:String,default:null},sourceId:{type:String,default:""}},watch:{qaActive:{handler(t){this.$nextTick(()=>{const e=this.$refs["qaItem-"+t.id];e&&e[0]&&e[0].scrollIntoView({behavior:"smooth",block:"center"})})},deep:!0},"$store.state.roomShowDmDetail":function(t,e){t&&t.answer?(this.qaActive=t,this.rightChatList.push({isLeft:!0,content:this.$store.state.roomShowDmDetail.question}),this.rightChatList.push({isLeft:!1,content:this.$store.state.roomShowDmDetail.answer})):this.rightChatList=[]},videoPlayTime:function(t,e){var s=i("0585");f.a.extend(s);let a=f.a.duration(this.$refs.myVideo.currentTime,"second").format("HH:mm:ss");if(this.$bus.$emit("videoPlayTimeToComSec",a),t!=e){let i=[];this.danmus.forEach(e=>{e.showTime==t&&i.push(e)}),i.forEach(t=>{t.dmId=Math.random().toString(36).slice(-8)+"ssss",this.$refs.dmk.push(t),this.allDanmus.push(t)}),Math.abs(t-e)>1&&this.$refs.dmk.timeJump(),Math.abs(t-e)>3&&(this.$refs.dmk.timeJump(),this.allDanmus=[],this.danmus=[],this.historyTime=t+this.timeSt,this.getBarrageHistoryFun()),t>this.historyTime&&(this.historyTime=t+this.timeSt,this.getBarrageHistoryFun())}},"rightChatList.length":function(){let t=document.getElementById("danmuRightChat");t&&t.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})},videoTitles:function(t,e){t!==e&&this.openSocet()}},created(){this.curentUser=Math.random().toString(36).slice(-8);let{task:t,detail:e}=JSON.parse(sessionStorage.getItem("taskClickModule"));this.videoSrc=e.resourceConfig;let i=JSON.parse(sessionStorage.getItem("getEduTaskList"));i&&(i.configList=i.configList.filter(t=>t.id==e.id),i.menuShow=!0,this.taskList.push(i))},mounted(){this.getMenuList(),this.openSocet();let t=JSON.parse(sessionStorage.getItem("taskClickModule"));const{fileId:e}=this.$route.query;this.fileId=e||t.detail.resourceId,this.$bus.$emit("isEduVideoShare",!0),window.addEventListener("message",t=>{t.origin==window.location.origin&&(t.data.videoStopFlag&&(this.videoStopFlag=t.data.videoStopFlag,this.isCanPlay="talk"),!1===t.data.videoStopFlag&&this.isClickFullScreen&&(this.isCanPlay=""))}),document.addEventListener("fullscreenchange",this.handleFullscreenChange);let i=this.$refs.myVideo;i.addEventListener("click",t=>{this.paused?i.play():i.pause()});JSON.parse(sessionStorage.getItem("courseId"));_t=document.getElementById("videoRef"),this.videoInstance=_t,null!==_t&&(_t.addEventListener("loadstart",()=>{this.loading=!0,this.paused=!1}),_t.addEventListener("error",()=>{this.loading=!1,this.paused=!1}),_t.addEventListener("canplay",()=>{this.loading=!1,this.paused=!0}),_t.addEventListener("pause",()=>{this.paused=!0,this.$emit("optionsStopShowFun",!1),this.$emit("stopPlayHidenBtn",!0),this.$refs.dmk&&this.$refs.dmk.pause()}),_t.addEventListener("timeupdate",t=>{this.paused=!1,"talk"===this.isCanPlay&&(_t.pause(),this.$refs.dmk&&this.$refs.dmk.pause()),this.videoPlayTime=parseInt(_t.currentTime)}),_t.addEventListener("play",t=>{if(this.videoStopFlag){let t=this.$refs.iframe_;t.contentWindow.postMessage({stop3DPlay:!0},window.location.origin)}this.$emit("stopPlayHidenBtn",!1),this.$refs.dmk.play(),this.$emit("optionsStopShowFun",!0),this.isExpand=!1,"talk"===this.isCanPlay?(_t.pause(),this.$refs.dmk&&this.$refs.dmk.pause(),this.$message.warning($t("ydatbu8","数字人正在回复中","lang"))):"listen"===this.isCanPlay&&this.$emit("stopListen")}))},data(){return{fileId:"",allCloseFlag:!1,taskList:[],taskType:{0:"info",1:"",2:"success"},tasks:[{label:$t("cmue2b4","情景导入","lang"),name:$t("a9lb0c4","互动问答","lang"),time:"2025-04-24 9:00:00"},{label:$t("i5yy4n4","课程学习","lang"),name:$t("i678rc4","课程视频","lang"),time:"2025-04-24 9:00:00"},{label:$t("augj2w4","动手验证","lang"),name:$t("hcwuit4","虚拟仿真","lang"),time:"2025-04-24 9:00:00"},{label:$t("i0xfk24","课堂作业","lang"),name:$t("hcwuit4","虚拟仿真","lang"),time:"2025-04-24 9:00:00"},{label:$t("erpup24","爱因斯坦","lang"),name:$t("b02n935","辅课智能体","lang"),time:"2025-04-24 9:00:00"},{label:$t("i0cl5a4","课后作业","lang"),name:$t("acdr9f4","作业管理","lang"),time:"2025-04-24 9:00:00"}],videoStopFlag:!1,qaActive:{},isClickFullScreen:!1,dialogVisible:!0,isFullscreen:!1,iframeSrc:"",treeData:[],knowledgePointList:[],dataList:[],activeIndex:0,isExpand:!1,svgPath:L["a"],svg:T,paused:!0,loading:!1,videoList:[],videoSrc:"",videocurrent:"",videoTitles:"",videoInstance:null,danmus:[],rightChatList:[],videoId:"",courseId:"",ws:null,curentUser:"",otherDm:"",videoName:"",videoPlayTime:0,historyTime:0,timeSt:100,allDanmus:[]}},computed:{...Object(v["c"])(["userInfo","spaceId"]),isPrivate(){return"-1"!==this.spaceId&&this.userInfo.organize}},methods:{...Object(v["d"])([""]),taskDeatil(t){this.taskList.filter((e,i)=>{t.id===e.id&&this.$set(this.taskList[i],"menuShow",!e.menuShow)})},allClose(){this.allCloseFlag=!this.allCloseFlag},getMenuList(){this.$nextTick(()=>{this.iframeSrc=`${window.location.origin}/room/#/share3DPeopleEdu?applyId=${this.applyId}&language=zh`})},questionClick(t){this.qaActive=t},async handleFullScreen(){const t=this.$refs.videoBox;await t.requestFullscreen(),this.isClickFullScreen=!0,this.$refs.dmk.resize()},exitFullScreen(){const t=this.$refs.iframe_;t.contentWindow.postMessage({stop3DPlay:!0},window.location.origin),document.exitFullscreen(),this.isClickFullScreen=!1,this.isCanPlay=""},handleFullscreenChange(){const t=this.$refs.videoBox;this.isFullscreen=document.fullscreenElement===t,this.isFullscreen||(this.isClickFullScreen=!1)},skipTo(t){this.$refs.myVideo.currentTime=t,this.$refs.myVideo.play()},openSocet(){this.ws&&(this.ws.close(),this.ws=null),this.ws=new WebSocket("wss://mingto.ai/backend-api/edu/chat/barrage"),this.ws.addEventListener("open",this.handleWsOpen.bind(this),!1),this.ws.addEventListener("close",this.handleWsClose.bind(this),!1),this.ws.addEventListener("error",this.handleWsError.bind(this),!1),this.ws.addEventListener("message",this.handleWsMessage.bind(this),!1)},handleWsOpen(t){console.log("WebSocket连接成功");const e=JSON.parse(localStorage.getItem("user")),{nickName:i,futureId:s}=e.userInfo.user;let a={messageInfo:"client_connection_msg",fileId:this.fileId};this.ws.send(JSON.stringify(a))},handleSendMsg(t){let e={messageInfo:t.question,videoId:this.videoId,userId:this.userInfo&&this.userInfo.id||"0",sendTime:parseInt(this.videoInstance.currentTime),companyId:this.applyId,abilityId:this.sourceId,answer:t.answer,courseId:this.courseId};this.userInfo||(e.curentUser=this.curentUser),e.dmId=Math.random().toString(36).slice(-8)+"ssss",this.ws.send(JSON.stringify(e))},handleWsClose(t){console.log("WebSocket2关闭",t)},handleWsError(t){console.log("WebSocket2发生错误",t)},handleWsMessage(t){console.log("WebSocket2收到消息:",JSON.parse(t.data));const e=JSON.parse(t.data);e.question=e.messageInfo,e.dmId=Math.random().toString(36).slice(-8)+"ssss",this.$refs.dmk.insert(e),console.log(this.$refs.dmk,"this.$refs.dmk11111"),this.allDanmus.push(e)},showDanmu(t){this.allDanmus.find(e=>{if(e.dmId==t)return e})},closeRightDmDetail(){this.rightChatList=[]},async getBarrageHistoryFun(){var t=i("0585");f.a.extend(t);let e=await Object(b["s"])({startTime:f.a.duration(this.videoPlayTime,"second").format("HH:mm:ss"),endTime:f.a.duration(this.historyTime,"second").format("HH:mm:ss"),fileId:this.fileId});200==e.code&&(this.danmus=e.data||[])},async videoUrlHandle(t){let e=t[1].slice(t[1].lastIndexOf(".")+1,t[1].length);if("ppt"===e||"pptx"===e||"PPT"===e||"PPTX"===e){let e={previewUrl:t[1],applyId:this.applyId,chapterName:""};this.videoList.find(i=>{i.children&&i.children.find(i=>{i.value===t[1]&&(e.chapterName=i.label)})})}else this.videoSrc=t[1]},async handleChange(t){console.log(t,"_____eeee"),this.$emit("optionsStopShowFun",!1),this.videoList.find(e=>{e.value==t[0]&&(this.videoTitles=e.label,this.videocurrentSelectObj=e,e.children.find(i=>{if(i.value==t[1]){this.videoTitles=this.videoTitles+" / "+i.label,this.videoId=i.id,this.courseId=i.courseId,this.videoName=i.label,this.getKnowledgePointList(e.chapterId,i.id);let t={courseId:i.courseId,fileId:this.videoId,studyTime:0};t.studyTime=parseInt(this.$refs.myVideo.currentTime)}}))}),await this.videoUrlHandle(t)},handleVideoEnded(){this.$parent.handleOutTask()},async getVideoList(){this.$emit("optionsStopShowFun",!1),this.$refs.myVideo;this.sourceId,this.applyId},getKnowledgePointList(t,e){this.currentMenu.id},async getDocumentListFun(){let t={pageNum:Ot,pageSize:Tt,toUserId:this.itemId,applyId:this.applyId};const{data:e,code:i}=await Object(b["u"])(t);if(200==i){const t=Array.isArray(e.list)?e.list:[];t.forEach(t=>{this.dataList.every(e=>t.id!==e.id)&&this.dataList.push({...t,fileType:t.suffix})}),this.pageSize==t.length&&Ot++}},itemClick(t){this.activeIndex=t},play(){"talk"===this.isCanPlay?(_t.pause(),this.$refs.dmk&&this.$refs.dmk.pause(),this.$message.warning($t("ydatbu8","数字人正在回复中","lang"))):"listen"===this.isCanPlay?(this.$emit("stopListen"),this.isExpand=!1,_t&&_t.play(),_t&&this.$refs.dmk.play()):(this.isExpand=!1,_t&&_t.play(),_t&&this.$refs.dmk.play())}},components:{danmaku:A,teleport:Lt,Markdown:Ct,backTask:g},filters:{fileTypeIcon(t){return y["a"].fileTypeIcon(t.suffix)},statusFilters(t){let e=[$t("fkmt13","未开始","lang"),$t("egbo03","待开始","lang"),$t("f2hhk3","执行中","lang"),$t("f88i8h5","暂停/终止","lang"),$t("e7hbq3","已完成","lang"),$t("cz8fsr4","执行异常","lang")];return e[t]},executeStatusFilters(t){let e=[$t("cczvm84","开始执行","lang"),$t("d9pdnj4","暂停执行","lang"),$t("cz7vd54","执行完成","lang")];return e[t]}},beforeDestroy(){this.$emit("optionsStopShowFun",!1),this.closeRightDmDetail(),this.ws&&(this.ws.close(),this.ws=null)}},jt=Dt,Rt=(i("7790"),Object(h["a"])(jt,o,l,!1,null,"2ade8162",null)),Ft=Rt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],class:"iconfont icon-quanping",on:{click:t.handleFullScreen}}),e("aside",[e("div",{staticClass:"my-video"},[e("div",{ref:"myVideoBox",staticStyle:{width:"100%",height:"100%"}},[e("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],ref:"iframe_",staticStyle:{position:"absolute",bottom:"-2%",right:"0","z-index":"999"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}),e("div",{ref:"videoBox",staticClass:"video-box",staticStyle:{width:"100%",height:"100%"}},[e("iframe",{directives:[{name:"show",rawName:"v-show",value:t.isClickFullScreen,expression:"isClickFullScreen"}],ref:"iframe_",staticStyle:{position:"absolute",bottom:"0%",right:"0%"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}),t.isFullscreen?e("div",{staticClass:"backTaskBtn"},[e("backTask",{on:{handleOutTask:t.exitFullScreen}})],1):t._e(),t.isFullscreen?e("div",{class:[{dmDetail_dire_click:t.allCloseFlag},"dmDetail_dire","dmDetailCom"]},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-left"},[t._v($t("dvye2","任务","lang"))]),e("div",{staticClass:"title-right",on:{click:t.allClose}},[e("i",{class:["iconfont",t.allCloseFlag?"icon-a-fangxiangyouyansefalse1":"icon-a-fangxiangxiayansefalse"]})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.allCloseFlag,expression:"!allCloseFlag"}]},t._l(t.taskList,(function(i){return e("div",{key:i.id,staticClass:"dmDetail_dire_content",on:{click:function(e){return t.taskDeatil(i)}}},[e("div",{staticClass:"task-panel"},[e("div",{staticClass:"header"},[e("div",{staticClass:"flex lien-top"},[e("span",{staticClass:"title_f"},[t._v(t._s(i.taskName))]),e("el-tag",{attrs:{size:"small",type:t.taskType[i.status],effect:"dark"}},[t._v(t._s(t._f("statusFilters")(i.status)))]),e("i",{class:[i.menuShow?"el-icon-caret-bottom":"el-icon-caret-right","open_"]})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuShow,expression:"task.menuShow"}],staticClass:"task-list"},t._l(i.configList,(function(i,s){return e("div",{key:s,class:["task-item",{"task-item-progress":2==i.processStatus,"task-item-end":4==i.processStatus}]},[e("div",{class:["task-left",{"task-left-progress":2==i.processStatus,"task-left-end":4==i.processStatus}]},[t._v(" "+t._s(i.configName))]),e("div",{staticClass:"task-right"},[e("div",{staticClass:"task-title"},[t._v(t._s(i.abilityName))]),e("div",{staticClass:"task-time"},[t._v(t._s(i.processTime))])])])})),0)])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.allCloseFlag,expression:"allCloseFlag"}]},[e("img",{staticClass:"piture",attrs:{src:i("c99c")}})])]):t._e()])])])])])},Pt=[],Nt={mixins:[kt["a"]],props:{applyId:{type:String,default:null}},created(){},mounted(){this.getMenuList(),document.addEventListener("fullscreenchange",this.handleFullscreenChange)},data(){return{fileId:"",allCloseFlag:!1,taskList:[],taskType:{0:"info",1:"",2:"success"},isClickFullScreen:!1,isFullscreen:!1,iframeSrc:"",iframeVirtualSrc:"",svgPath:L["a"],svg:T}},computed:{...Object(v["c"])(["userInfo","spaceId"]),isPrivate(){return"-1"!==this.spaceId&&this.userInfo.organize}},filters:{statusFilters(t){let e=[$t("fkmt13","未开始","lang"),$t("egbo03","待开始","lang"),$t("f2hhk3","执行中","lang"),$t("f88i8h5","暂停/终止","lang"),$t("e7hbq3","已完成","lang"),$t("cz8fsr4","执行异常","lang")];return e[t]},executeStatusFilters(t){let e=[$t("cczvm84","开始执行","lang"),$t("d9pdnj4","暂停执行","lang"),$t("cz7vd54","执行完成","lang")];return e[t]}},methods:{...Object(v["d"])([""]),taskDeatil(t){console.log(t,"task"),this.taskList.filter((e,i)=>{t.id===e.id&&this.$set(this.taskList[i],"menuShow",!e.menuShow)})},allClose(){this.allCloseFlag=!this.allCloseFlag},getMenuList(){let{task:t,detail:e}=JSON.parse(sessionStorage.getItem("taskClickModule"));this.videoSrc=e.resourceConfig;let i=JSON.parse(sessionStorage.getItem("getEduTaskList"))||{};i.configList=Object($["b"])(i,"configList",[]).filter(t=>t.id==e.id),i.menuShow=!0,this.taskList.push(i),this.$nextTick(()=>{this.iframeSrc=`${window.location.origin}/room/#/share3DPeopleEdu?applyId=${this.applyId}&language=zh`,this.iframeVirtualSrc=e.resourceConfig})},async handleFullScreen(){const t=this.$refs.videoBox;await t.requestFullscreen(),this.isClickFullScreen=!0},exitFullScreen(){const t=this.$refs.iframe_;t.contentWindow.postMessage({stop3DPlay:!0},window.location.origin),document.exitFullscreen(),this.isClickFullScreen=!1,this.isCanPlay="",this.$parent.handleOutTask()},handleFullscreenChange(){const t=this.$refs.videoBox;this.isFullscreen=document.fullscreenElement===t,this.isFullscreen||(this.isClickFullScreen=!1)},handleOutTask(){}},components:{teleport:Lt,backTask:g},beforeDestroy(){}},Mt=Nt,Bt=(i("c070"),Object(h["a"])(Mt,Et,Pt,!1,null,"72821101",null)),Ut=Bt.exports,Vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],class:"iconfont icon-quanping",on:{click:t.handleFullScreen}}),e("aside",[e("div",{staticClass:"my-video"},[e("div",{ref:"myVideoBox",staticStyle:{width:"100vw",height:"100vh"}},[e("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],ref:"iframe_",staticStyle:{position:"absolute",bottom:"-2%",right:"0","z-index":"999"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}),e("div",{ref:"videoBox",staticClass:"video-box",staticStyle:{width:"100%",height:"100%"}},[e("iframe",{directives:[{name:"show",rawName:"v-show",value:t.isClickFullScreen,expression:"isClickFullScreen"}],ref:"iframe_",staticStyle:{position:"absolute",bottom:"0%",right:"0%"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}),t.isFullscreen?e("div",{staticClass:"backTaskBtn"},[e("backTask",{on:{handleOutTask:t.exitFullScreen}})],1):t._e(),t.isFullscreen?e("div",{class:[{dmDetail_dire_click:t.allCloseFlag},"dmDetail_dire","dmDetailCom"]},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-left"},[t._v($t("dvye2","任务","lang"))]),e("div",{staticClass:"title-right",on:{click:t.allClose}},[e("i",{class:["iconfont",t.allCloseFlag?"icon-a-fangxiangyouyansefalse1":"icon-a-fangxiangxiayansefalse"]})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.allCloseFlag,expression:"!allCloseFlag"}]},t._l(t.taskList,(function(i){return e("div",{key:i.id,staticClass:"dmDetail_dire_content",on:{click:function(e){return t.taskDeatil(i)}}},[e("div",{staticClass:"task-panel"},[e("div",{staticClass:"header"},[e("div",{staticClass:"flex lien-top"},[e("span",{staticClass:"title_f"},[t._v(t._s(i.taskName))]),e("el-tag",{attrs:{size:"small",type:t.taskType[i.status],effect:"dark"}},[t._v(t._s(t._f("statusFilters")(i.status)))]),e("i",{class:[i.menuShow?"el-icon-caret-bottom":"el-icon-caret-right","open_"]})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuShow,expression:"task.menuShow"}],staticClass:"task-list"},t._l(i.configList,(function(i,s){return e("div",{key:s,class:["task-item",{"task-item-progress":2==i.processStatus,"task-item-end":4==i.processStatus}]},[e("div",{class:["task-left",{"task-left-progress":2==i.processStatus,"task-left-end":4==i.processStatus}]},[t._v(" "+t._s(i.configName))]),e("div",{staticClass:"task-right"},[e("div",{staticClass:"task-title"},[t._v(t._s(i.abilityName))]),e("div",{staticClass:"task-time"},[t._v(t._s(i.processTime))])])])})),0)])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.allCloseFlag,expression:"allCloseFlag"}]},[e("img",{staticClass:"piture",attrs:{src:i("c99c")}})])]):t._e()])])])])])},zt=[],Qt={mixins:[kt["a"]],props:{applyId:{type:String,default:null}},created(){},mounted(){this.getMenuList(),document.addEventListener("fullscreenchange",this.handleFullscreenChange)},data(){return{fileId:"",allCloseFlag:!1,taskList:[],taskType:{0:"info",1:"",2:"success"},isClickFullScreen:!1,isFullscreen:!1,iframeSrc:"",iframeVirtualSrc:"",svgPath:L["a"],svg:T}},computed:{...Object(v["c"])(["userInfo","spaceId"]),isPrivate(){return"-1"!==this.spaceId&&this.userInfo.organize}},filters:{statusFilters(t){let e=[$t("fkmt13","未开始","lang"),$t("egbo03","待开始","lang"),$t("f2hhk3","执行中","lang"),$t("f88i8h5","暂停/终止","lang"),$t("e7hbq3","已完成","lang"),$t("cz8fsr4","执行异常","lang")];return e[t]},executeStatusFilters(t){let e=[$t("cczvm84","开始执行","lang"),$t("d9pdnj4","暂停执行","lang"),$t("cz7vd54","执行完成","lang")];return e[t]}},methods:{...Object(v["d"])([""]),taskDeatil(t){console.log(t,"task"),this.taskList.filter((e,i)=>{t.id===e.id&&this.$set(this.taskList[i],"menuShow",!e.menuShow)})},allClose(){this.allCloseFlag=!this.allCloseFlag},getMenuList(){let{task:t,detail:e}=JSON.parse(sessionStorage.getItem("taskClickModule"));this.videoSrc=e.resourceConfig;let i=JSON.parse(sessionStorage.getItem("getEduTaskList"));i&&(i.configList=null===i||void 0===i?void 0:i.configList.filter(t=>t.id==e.id),i.menuShow=!0,this.taskList.push(i)),this.$nextTick(()=>{this.iframeSrc=`${window.location.origin}/room/#/share3DPeopleEdu?applyId=${this.applyId}&language=zh`,this.iframeVirtualSrc=e.resourceConfig})},async handleFullScreen(){const t=this.$refs.videoBox;await t.requestFullscreen(),this.isClickFullScreen=!0},exitFullScreen(){const t=this.$refs.iframe_;t.contentWindow.postMessage({stop3DPlay:!0},window.location.origin),document.exitFullscreen(),this.isClickFullScreen=!1,this.isCanPlay="",this.$parent.handleOutTask()},handleFullscreenChange(){const t=this.$refs.videoBox;this.isFullscreen=document.fullscreenElement===t,this.isFullscreen||(this.isClickFullScreen=!1)},handleOutTask(){}},components:{teleport:Lt,backTask:g},beforeDestroy(){}},qt=Qt,Wt=(i("8f01"),Object(h["a"])(qt,Vt,zt,!1,null,"07769931",null)),Jt=Wt.exports,Gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.isClickFullScreen,expression:"!isClickFullScreen"}],class:"iconfont icon-quanping",on:{click:t.handleFullScreen}}),e("aside",[e("div",{staticClass:"my-video"},[e("div",{ref:"myVideoBox",staticStyle:{width:"100vw",height:"100vh"}},[t.isClickFullScreen?t._e():e("iframe",{ref:"iframe_",staticStyle:{position:"absolute",bottom:"-2%",right:"0","z-index":"999"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}),e("div",{ref:"videoBox",staticClass:"video-box",staticStyle:{width:"100%",height:"100%"}},[t.isClickFullScreen?e("iframe",{ref:"iframe_",staticStyle:{position:"absolute",bottom:"0%",right:"0%"},attrs:{width:"100%",height:"100%",allow:"camera *; microphone *",src:t.iframeVirtualSrc,frameborder:"0"}}):t._e(),t.isFullscreen?e("div",{staticClass:"backTaskBtn"},[e("backTask",{on:{handleOutTask:t.exitFullScreen}})],1):t._e(),t.isFullscreen?e("div",{class:[{dmDetail_dire_click:t.allCloseFlag},"dmDetail_dire","dmDetailCom"]},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-left"},[t._v($t("dvye2","任务","lang"))]),e("div",{staticClass:"title-right",on:{click:t.allClose}},[e("i",{class:["iconfont",t.allCloseFlag?"icon-a-fangxiangyouyansefalse1":"icon-a-fangxiangxiayansefalse"]})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.allCloseFlag,expression:"!allCloseFlag"}]},t._l(t.taskList,(function(i){return e("div",{key:i.id,staticClass:"dmDetail_dire_content",on:{click:function(e){return t.taskDeatil(i)}}},[e("div",{staticClass:"task-panel"},[e("div",{staticClass:"header"},[e("div",{staticClass:"flex lien-top"},[e("span",{staticClass:"title_f"},[t._v(t._s(i.taskName))]),e("el-tag",{attrs:{size:"small",type:t.taskType[i.status],effect:"dark"}},[t._v(t._s(t._f("statusFilters")(i.status)))]),e("i",{class:[i.menuShow?"el-icon-caret-bottom":"el-icon-caret-right","open_"]})],1),e("p",{class:["selet","flex",{selet_start:1==i.executeStatus},{selet_end:2==i.executeStatus}]},[e("i",{staticClass:"iconfont icon-zidongzhihang"}),e("span",[t._v(t._s(t._f("executeStatusFilters")(i.executeStatus)))])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuShow,expression:"task.menuShow"}],staticClass:"task-list"},t._l(i.configList,(function(i,s){return e("div",{key:s,class:["task-item",{"task-item-progress":2==i.processStatus,"task-item-end":4==i.processStatus}]},[e("div",{class:["task-left",{"task-left-progress":2==i.processStatus,"task-left-end":4==i.processStatus}]},[t._v(" "+t._s(i.configName))]),e("div",{staticClass:"task-right"},[e("div",{staticClass:"task-title"},[t._v(t._s(i.abilityName))]),e("div",{staticClass:"task-time"},[t._v(t._s(i.processTime))])])])})),0)])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.allCloseFlag,expression:"allCloseFlag"}]},[e("img",{staticClass:"piture",attrs:{src:i("c99c")}})])]):t._e()])])])])])},Ht=[],Yt={mixins:[kt["a"]],props:{applyId:{type:String,default:null}},created(){},mounted(){this.getMenuList(),document.addEventListener("fullscreenchange",this.handleFullscreenChange)},data(){return{fileId:"",allCloseFlag:!1,taskList:[],taskType:{0:"info",1:"",2:"success"},isClickFullScreen:!1,isFullscreen:!1,iframeSrc:"",iframeVirtualSrc:"",svgPath:L["a"],svg:T}},computed:{...Object(v["c"])(["userInfo","spaceId"]),isPrivate(){return"-1"!==this.spaceId&&this.userInfo.organize}},filters:{statusFilters(t){let e=[$t("fkmt13","未开始","lang"),$t("egbo03","待开始","lang"),$t("f2hhk3","执行中","lang"),$t("f88i8h5","暂停/终止","lang"),$t("e7hbq3","已完成","lang"),$t("cz8fsr4","执行异常","lang")];return e[t]},executeStatusFilters(t){let e=[$t("cczvm84","开始执行","lang"),$t("d9pdnj4","暂停执行","lang"),$t("cz7vd54","执行完成","lang")];return e[t]}},methods:{...Object(v["d"])([""]),taskDeatil(t){console.log(t,"task"),this.taskList.filter((e,i)=>{t.id===e.id&&this.$set(this.taskList[i],"menuShow",!e.menuShow)})},allClose(){this.allCloseFlag=!this.allCloseFlag},getMenuList(){let{task:t,detail:e}=JSON.parse(sessionStorage.getItem("taskClickModule"));this.videoSrc=e.resourceConfig;let i=JSON.parse(sessionStorage.getItem("getEduTaskList"));i&&(i.configList=null===i||void 0===i?void 0:i.configList.filter(t=>t.id==e.id),i.menuShow=!0,this.taskList.push(i)),this.$nextTick(()=>{let t=JSON.parse(sessionStorage.getItem("taskClickModule"));const{detail:e}=t;this.iframeVirtualSrc=`${window.location.origin}/room/#/virtualExplanation?applyId=${this.applyId}&language=${y["a"].getLanguage()}&id=${e.resourceId}&isedu=true`,console.log(this.iframeVirtualSrc,"this.iframeVirtualSrc")})},async handleFullScreen(){const t=this.$refs.videoBox;await t.requestFullscreen(),this.isClickFullScreen=!0},exitFullScreen(){this.$refs.iframe_;document.exitFullscreen(),this.isClickFullScreen=!1,this.isCanPlay="",this.$parent.handleOutTask()},handleFullscreenChange(){const t=this.$refs.videoBox;this.isFullscreen=document.fullscreenElement===t,this.isFullscreen||(this.isClickFullScreen=!1)},handleOutTask(){}},components:{teleport:Lt,backTask:g},beforeDestroy(){}},Zt=Yt,Xt=(i("bb24"),Object(h["a"])(Zt,Gt,Ht,!1,null,"0eb694ae",null)),Kt=Xt.exports,te=function(){var t=this,e=t._self._c;return t.getEduTaskList.length?e("div",{staticClass:"edu-menu"},[e("div",{class:[{dmDetail_dire_click:t.allCloseFlag},"dmDetail_dire","dmDetailCom"]},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-left"},[t._v($t("dvye2","任务","lang"))]),e("div",{staticClass:"title-right",on:{click:t.allClose}},[e("i",{class:["iconfont","icon-a",t.allCloseFlag?"icon-a-fangxiangyouyansefalse1":"icon-a-fangxiangxiayansefalse"]})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.allCloseFlag,expression:"!allCloseFlag"}]},t._l(t.getEduTaskList,(function(i){return e("div",{key:i.id,staticClass:"dmDetail_dire_content"},[e("div",{class:[i.menuShow?"task-panel":"task-panel-close"]},[e("div",{staticClass:"header"},[e("div",{staticClass:"flex lien-top"},[e("el-tooltip",{attrs:{effect:"dark",content:i.taskName,placement:"bottom"}},[e("p",{staticClass:"title_f"},[t._v(t._s(i.taskName))])]),e("el-tag",{attrs:{size:"small",type:t.taskType[i.status],effect:"dark"}},[t._v(t._s(t._f("statusFilters")(i.status)))]),e("i",{class:[i.menuShow?"el-icon-caret-bottom":"el-icon-caret-right","open_"],on:{click:function(e){return t.taskDeatil(i)}}})],1),e("div",{staticClass:"flex"},[2==i.status?e("p",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:["selet","selet_start","flex"],staticStyle:{"margin-right":"4px"},attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"},on:{click:function(e){return e.stopPropagation(),t.stopTask(i)}}},[e("i",{staticClass:"iconfont icon-zidongzhihang"}),e("span",[t._v($t("gfdxpu4","结束任务","lang"))])]):t._e(),0==i.status||4==i.status?e("p",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:["selet","flex"],attrs:{"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"},on:{click:function(e){return e.stopPropagation(),t.taskStatusClick(i)}}},[e("i",{staticClass:"iconfont icon-zidongzhihang"}),e("el-tooltip",{attrs:{content:$t("cczvm84","开始执行","lang")}},[e("span",{staticClass:"start-zx"},[t._v($t("cczvm84","开始执行","lang"))])])],1):t._e()])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.menuShow,expression:"task.menuShow"}],staticClass:"task-list"},t._l(i.configList,(function(s,a){return e("div",{key:a,class:["task-item",{"task-item-progress":2==s.processStatus,"task-item-end":4==s.processStatus}],on:{click:function(e){return e.stopPropagation(),t.taskClick(s,i)}}},[e("div",{staticClass:"task-right"},[e("div",{staticClass:"task-title"},[t._v(t._s(s.configName))]),e("div",{staticClass:"task-time"},[t._v(t._s(s.processTime))])])])})),0)])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.allCloseFlag,expression:"allCloseFlag"}]},[e("img",{staticStyle:{width:"60px"},attrs:{src:i("c99c")}})])]),t.taskAssistantShow?e("div",{staticClass:"dmDetailCom task-assistant"},[e("img",{staticClass:"img-ti",attrs:{src:i("c303"),alt:""}}),e("span",{staticClass:"task-assistant-title"},[t._v($t("ab4mko4","任务助手","lang"))]),e("span",{staticClass:"content"},[t._v(t._s(t.taskAssistantContent))]),e("div",{staticClass:"task-btn"},[e("el-button",{attrs:{size:"mini"},on:{click:t.waitFn}},[t._v($t("lhss2","等待","lang"))]),e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.immediatelyFn}},[t._v($t("maae1h6","立即执行 (","lang")+t._s(t.countTimer)+")")])],1)]):t._e()]):t._e()},ee=[],ie=i("bcba"),se=i.n(ie),ae=i("1fed"),ne=i("5f87");i("8b03"),i("7b27");function oe(){const t={screenWidth:screen.width,screenHeight:screen.height,colorDepth:screen.colorDepth,timezoneOffset:(new Date).getTimezoneOffset(),hardwareConcurrency:navigator.hardwareConcurrency||0,deviceMemory:10*(navigator.deviceMemory||0),userAgentCode:navigator.userAgent.split("").reduce((t,e)=>t+e.charCodeAt(0),0)};let e=0;return Object.values(t).forEach(t=>{e+=Number(t)}),e}var le={inject:["eduTaskListRef"],filters:{statusFilters(t){let e=[$t("fkmt13","未开始","lang"),$t("egbo03","待开始","lang"),$t("f2hhk3","执行中","lang"),$t("f88i8h5","暂停/终止","lang"),$t("e7hbq3","已完成","lang"),$t("cz8fsr4","执行异常","lang")];return e[t]},executeStatusFilters(t){let e=[$t("cczvm84","开始执行","lang"),"",$t("f2hhk3","执行中","lang"),$t("d9pdnj4","暂停执行","lang"),$t("cz7vd54","执行完成","lang")];return e[t]}},watch:{"eduTaskListRef.eduTaskList":{handler(t){this.getEduTaskList=se.a.cloneDeep(t)},deep:!0,immediate:!0}},data(){return{clientId:"",ws:null,getEduTaskList:[],allCloseFlag:!1,taskType:{0:"info",1:"",2:"success"},loading:!1,indexCount:0,clientType:"PC",applyId:null,heartbeatTimer:null,taskAssistantShow:!1,taskAssistantContent:"",countTimer:5,eventType_0_data:null,timeBox:null}},mounted(){this.applyId=this.$route.query.applyId,this.applyId&&(this.clientId=oe()+this.applyId.toString(),sessionStorage.setItem("clientId",this.clientId),this.connectWS())},methods:{connectWS(){const t=Object(ne["a"])();let e=`wss://mingto.ai/backend-api/tuzai/room/socket/${this.applyId}/${this.clientId}/${this.clientType}/${t}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("WebSocket 链接"),this.ws.send(JSON.stringify({messageInfo:"client_connection_msg"})),this.heartbeatTimer=setInterval(()=>{this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({messageInfo:"client_connection_msg"}))},25e3)},this.ws.onmessage=t=>{this.loading=!1;const e=JSON.parse(t.data),i=JSON.parse(e.mesContent),{exeMode:s,exeAbility:a,nodePrologue:n,exeAbilityConf:o,nodeId:l,status:r,doStepId:c,doBusinesType:d}=i.exeStep&&i.exeStep||{},{taskName:u,taskExeId:h,nextExeStepId:p,allStepList:g,status:m,taskId:f,remindContent:v}=i,{eventStatus:y,eventType:w}=e;if(1==y&&1==w){let t={taskRecordId:h,stepRecordId:p};Object(b["b"])(t).then(e=>{sessionStorage.setItem("getFirstSetpParams",JSON.stringify(t))})}else{if(this.getEduTaskList.forEach((t,e)=>{this.$set(this.getEduTaskList[e],"menuShow",!1),t.id==f&&(this.$set(this.getEduTaskList[e],"menuShow",!0),this.getEduTaskList[e].status=m,t.configList.forEach((t,i)=>{t.id==l&&(this.getEduTaskList[e].configList[i].processStatus=r,sessionStorage.setItem("getEduTaskList",JSON.stringify(this.getEduTaskList[e])))}))}),"2"===w&&"1"===y){const{abilityEnum:t,name:e,dialogType:i,id:p,workType:v}=a;if(this.taskClick({abilityType:t,abilityName:e,prologue:n,dialogType:i,abilityId:p,workType:v,resourceId:o.resourceId,resourceConfig:o.resourceConfig,id:l,status:r,doBusinesType:d,taskId:f},{configList:g,taskName:u,status:m}),sessionStorage.setItem("exeMode",s),0==s){let t=setTimeout(()=>{this.$emit("autoModuleStart",!0),t=null},2e3)}else this.$message(`“${e}${$t("k3fqwvd","”预定时间已到，可点击开始","lang")}`);let y={taskRecordId:h,stepRecordId:c};sessionStorage.setItem("getFirstSetpParams",JSON.stringify(y))}"1"===w&&"5"===y&&(this.indexCount=0,this.getEduTaskList.forEach((t,e)=>{t.id==f&&this.$set(this.getEduTaskList[e],"menuShow",!1)})),"0"===w&&(this.taskAssistantShow=!0,this.taskAssistantContent=v,this.eventType_0_data=i,this.timeBox=setInterval(()=>{this.countTimer<=0?(this.immediatelyFn(this.eventType_0_data),clearInterval(this.timeBox)):this.countTimer--},1e3))}},this.ws.onerror=t=>{console.error("WebSocket error:",t)},this.ws.onclose=t=>{console.log("WebSocket closed",this.ws)}},allClose(){this.allCloseFlag=!this.allCloseFlag},taskClick:se.a.debounce((function(t,e){this.$bus.$emit("taskClickModule",{detail:t,task:e}),sessionStorage.setItem("taskClickModule",JSON.stringify({detail:t,task:e})),sessionStorage.setItem("getEduTaskList",JSON.stringify(e))}),500),taskDeatil(t){this.getEduTaskList.filter((e,i)=>{t.id===e.id&&this.$set(this.getEduTaskList[i],"menuShow",!e.menuShow)})},taskStatusClick(t){this.$bus.$emit("closeTask",!1);JSON.parse(localStorage.getItem("user"));let e={taskId:t.id,applyId:this.applyId,clientId:this.clientId,clientType:this.clientType};t.configList.forEach(t=>{t.processStatus=0});let i=this.getEduTaskList.find(t=>"2"==t.status);i||this.indexCount>0?this.$message.error($t("su2yh9g","当前已有任务执行，请结束当前任务","lang")):(this.loading=!0,this.indexCount+=1,Object(b["o"])(e).then(t=>{this.ws||this.connectWS()}))},stopTask(t){this.loading=!0,t.configList.forEach(t=>{t.processStatus=0});let e=JSON.parse(sessionStorage.getItem("getFirstSetpParams"));Object(b["n"])({taskRecordId:e.taskRecordId}).then(t=>{this.loading=!1,this.$parent.handleOutTask("taskEnd"),this.$bus.$emit("closeTask",!0),this.indexCount=0})},waitFn(){ae["a"].flowWait(this.eventType_0_data).then(t=>{this.taskAssistantShow=!1,clearInterval(this.timeBox)})},immediatelyFn(){Object(b["o"])(this.eventType_0_data).then(t=>{}),this.taskAssistantShow=!1}}},re=le,ce=(i("91d7"),Object(h["a"])(re,te,ee,!1,null,"30875709",null)),de=ce.exports,ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"comment-container"},[e("div",{staticClass:"comment-box",style:{visibility:t.bulletFlag?"visible":"hidden"}},[e("div",{staticClass:"comment-bubble assistant"},[e("span",{staticClass:"label"},[t._v($t("dw0sx3","小助手","lang"))]),t._v($t("qf6rux6"," 欢迎来到 ","lang")),e("span",[t._v(t._s(t.curseName))])]),t._l(t.bulletChatArr,(function(i){return[e("div",{staticClass:"comment-bubble user"},[e("span",{class:["username",i.isUser?"orange":"blue"]},[t._v(t._s(i.nickName)+"：")]),e("span",[t._v(t._s(i.messageInfo||i.question))]),e("span",{staticClass:"link",on:{click:function(e){return t.showReply(i)}}},[t._v($t("dllt854","查看回复","lang"))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.aiShow,expression:"chat.aiShow"}],staticClass:"comment-bubble reply"},[e("Markdown",{attrs:{value:i.answer,showFeedBack:t.endStatus,chatRecordId:i.chatRecordId}})],1)]}))],2),e("div",{staticClass:"input-bar"},[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.bulletFlag,expression:"!bulletFlag"}],attrs:{src:i("631b"),alt:""},on:{click:function(e){t.bulletFlag=!t.bulletFlag}}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.bulletFlag,expression:"bulletFlag"}],attrs:{src:i("0474"),alt:""},on:{click:function(e){t.bulletFlag=!t.bulletFlag}}}),e("p",{staticClass:"tip"},[e("el-input",{attrs:{placeholder:$t("9333kc8","有问题尽管问我…","lang")},on:{change:t.sendMessage},model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}})],1),e("el-button",{staticClass:"send-btn",attrs:{circle:"",loading:t.loading},on:{click:t.sendMessage}},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"iconfont icon-a-general-fs"})])],1)])},he=[],pe=i("9bd9"),ge={components:{Markdown:Ct},data(){return{bulletFlag:!0,inputValue:"",bulletChatArr:[],endStatus:!1,loading:!1,ws:null,getVideoCurTime:null,curseName:""}},props:["applyId"],mounted(){this.connectWS(),this.getHistoryListFn(),this.$bus.$on("videoPlayTimeToComSec",t=>{this.getVideoCurTime=t});let{task:t,detail:e}=JSON.parse(sessionStorage.getItem("taskClickModule"));this.curseName=e.abilityName,this.$bus.$on("taskClickModule",({detail:t,task:e})=>{console.log(t,"detail"),this.curseName=t.abilityName})},methods:{async getHistoryListFn(){const{fileId:t}=this.getUserFn();let e=await Object(b["s"])({fileId:t});200==e.code&&(this.bulletChatArr=e.data||[],this.bulletChatArr.forEach((t,e)=>{this.$set(this.bulletChatArr[e],"aiShow",!1)}))},getUserFn(){const t=JSON.parse(localStorage.getItem("user"));let e=JSON.parse(sessionStorage.getItem("taskClickModule"));const{nickName:i,futureId:s}=t.userInfo.user,{fileId:a,userId:n}=this.$route.query;return{nickName:i,futureId:s,fileId:a||e.detail.resourceId}},showReply(t){console.log(t,"item"),t.aiShow=!t.aiShow},connectWS(){this.ws=new WebSocket("wss://mingto.ai/backend-api/edu/chat/barrage");const{fileId:t}=this.getUserFn();this.ws.onopen=()=>{this.ws.send(JSON.stringify({fileId:t,messageInfo:"client_connection_msg"})),console.log("WebSocket connected")},this.ws.onmessage=t=>{const e=JSON.parse(t.data);console.log("接收到数据啦：",e);const{futureId:i}=this.getUserFn();i==e.userId&&(e.isUser=!0),this.bulletChatArr.push(e)},this.ws.onerror=t=>{console.error("WebSocket error:",t)},this.ws.onclose=()=>{console.log("WebSocket closed")}},sendMessage(){if(!this.inputValue.trim())return;let t={timer:(new Date).getTime(),content:this.inputValue,applyId:this.applyId,type:"1"},e=JSON.parse(JSON.stringify(t)),i={headers:{Authorization:Object(ne["a"])()||localStorage.getItem("Authorization"),"Cache-Control":"no-cache",Connection:"keep-alive","Content-type":"application/json","x-platform":"pc",Language:y["a"].getLanguage()},method:"POST",body:JSON.stringify(e)},s="/backend-api/tuzai/chat/company/send/v2",a="";this.loading=!0,Object(pe["b"])(s,i,t=>{if(null!==t&&void 0!==t&&t.data){let e=JSON.parse(t.data);if(this.endStatus=!1,"114"==e.type){console.log("handleSSE",e),this.endStatus=!0;const{nickName:t,futureId:i,fileId:s}=this.getUserFn();let n={nickName:t,messageInfo:this.inputValue,answer:a,aiShow:!1,userId:i||"0",fileId:s,chatRecordId:e.chatRecordId,sendTime:this.getVideoCurTime};this.inputValue="",this.loading=!1,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(n))}else a+=e.content}})}}},me=ge,fe=(i("ff80"),Object(h["a"])(me,ue,he,!1,null,"74a8d423",null)),ve=fe.exports,ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("aside",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[e("section",{staticClass:"share-content-top"},[e("div",{staticClass:"share-title-wrap"},[e("div",{staticClass:"share-title"},[e("span",[t._v(t._s(t.dataList.length>0?t.dataList[t.activeIndex].title.replace(/\.[^/.]+$/,""):""))])])])]),e("div",{ref:"previewRef",staticClass:"my-preview-file",staticStyle:{flex:"1"}},[t.dataList.length>0&&t.dataList[t.activeIndex].viewUrl?[e("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.previewURL}})]:0===t.dataList.length?[e("div",[t._v(t._s(t.t($t("k86stq6","暂无文件分享","lang"))))])]:t._e()],2),e("div",{staticClass:"share-content-bottom"},[e("div",{staticClass:"share-content-controls x_between_y_center"},[e("span",{staticClass:"controls-text",staticStyle:{width:"30%"},on:{click:function(e){return t.itemClick(t.activeIndex-1)}}},[t._v(" "+t._s(t.t($t("btg0h3","上一篇","lang")))+": "+t._s(t.activeIndex-1<0?t.t($t("8a1isb7","已经是第一篇了","lang")):t.dataList[t.activeIndex-1].title.replace(/\.[^/.]+$/,"")||""))]),e("div",{staticClass:"right-content"},[e("span",{staticClass:"controls-text",on:{click:function(e){return t.itemClick(t.activeIndex+1)}}},[t._v(t._s(t.t($t("btgr63","下一篇","lang")))+":"+t._s(t.activeIndex+1>=t.dataList.length?t.t($t("k7vzvj8","已经是最后一篇了","lang")):t.dataList[t.activeIndex+1].title.replace(/\.[^/.]+$/,"")||"")+" ")]),e("i",{staticClass:"iconfont icon-quanping cursor-pointer",on:{click:t.doFullScreen}})])])]),e("div",{staticClass:"close-btn",on:{click:t.closeShare}},[e("i",{staticClass:"iconfont icon-cha"})]),e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.handleCloseExpand,expression:"handleCloseExpand"}],staticClass:"share-content-aside"},[e("div",{staticClass:"switch-icon",on:{click:function(e){t.isExpand=!t.isExpand}}},[e("i",{staticClass:"iconfont icon-a-fangxiangzuoyansefalse1",class:{"rotate-180":t.isExpand}})]),e("div",{staticClass:"list-content",class:{hide:!t.isExpand}},[e("ul",{staticClass:"list-wrap"},[t.dataList.length>0?t._l(t.dataList,(function(i,s){return e("li",{key:i.id,staticClass:"cursor-pointer",class:{"is-active":s===t.activeIndex},on:{click:function(e){return t.itemClick(s)}}},[t._v(" "+t._s(i.title)+" ")])})):[t._m(0)]],2)])])])])},be=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:i("2c2b"),width:"100%",alt:""}})])}],we=i("300b"),Ie=i("f88f");let Ce=100,ke=1;var Se={mixins:[kt["a"]],components:{},props:{itemId:{type:String,default:null},applyId:{type:String,default:null},customDataList:{type:Array,default:()=>[]}},watch:{itemId:{handler(){this.dataList=this.customDataList.length>0?this.customDataList:[],ke=1,this.activeIndex=0,this.getDocumentListFun(()=>this.itemClick(0))},immediate:!0}},data(){return{dataList:[],activeIndex:0,loading:!1,isExpand:!1}},methods:{getDocumentListFun(t){if(this.customDataList.length>0)return;let e={pageNum:ke,pageSize:Ce,toUserId:this.itemId,applyId:this.applyId};Object(b["u"])(e).then(t=>{if(200==t.code){const e=Array.isArray(t.data.list)?t.data.list:[];e.forEach(t=>{this.dataList.every(e=>t.id!==e.id)&&this.dataList.push(t)}),this.pageSize==e.length&&ke++}}).finally(()=>{t&&t()})},itemClick(t){t>=this.dataList.length?this.$emit("changeDialogId"):t===this.activeIndex||t<0||(this.activeIndex=t,["docx","pdf"].includes(this.dataList[t].suffix)&&(this.loading=!0,Object(we["d"])({toUserId:this.dataList[t].id,type:3,fromUserId:this.applyId}).then(t=>{const{dialogId:e}=t.data;this.$emit("changeDialogId",e)}).finally(()=>{this.loading=!1})))},closeShare(){this.$emit("changeAbilityId",-1)},doFullScreen(){this.previewURL&&window.open(this.previewURL)},handleCloseExpand(){this.isExpand=!1}},computed:{previewURL(){const{viewUrl:t,previewURL:e,manualUpload:i}=this.dataList[this.activeIndex]||{};let s="http://172.168.80.30:30177/onlinePreview?url=";return s="https://mingto.ai/preview/onlinePreview?url=",s=s+Ie["a"].encode(t)+(i?"":"&watermarkTxt=AI%E7%94%9F%E6%88%90"),e||(t?s:"")}}},xe=Se,Ae=(i("d2e2"),Object(h["a"])(xe,ye,be,!1,null,"04266dd1",null)),Le=Ae.exports,Te=i("bb56"),Oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content",on:{mousemove:t.handleMouseMove,mouseleave:t.handleMouseLeave}},[e("aside",[e("div",{staticClass:"my-photo"},[e("el-carousel",{ref:"carouselRef",staticStyle:{height:"100%"},attrs:{"indicator-position":"none",autoplay:!1,arrow:"never",loop:!1},nativeOn:{click:function(e){t.showViewer=!0}}},t._l(t.dataList,(function(t,i){return e("el-carousel-item",{key:i+t.viewUrl},[e("el-image",{attrs:{fit:"fill",src:t.viewUrl}})],1)})),1)],1),e("div",{staticClass:"close-btn",on:{click:t.closeShare}},[e("i",{staticClass:"iconfont icon-cha"})]),e("section",{class:{hide:!t.showTop}},[e("div",{staticClass:"share-title-wrap"},[e("div",{staticClass:"share-title"},[e("span",[t._v(t._s(t.dataList.length>0?t.dataList[t.activeIndex].title.replace(/\.[^/.]+$/,""):""))])])])]),e("transition",{attrs:{"enter-active-class":"animate__animated animate__faster animate__fadeInLeft","leave-active-class":"animate__animated animate__faster animate__fadeOutLeft"}},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showLeft&&t.activeIndex-1>=0,expression:"showLeft && activeIndex - 1 >= 0"}],ref:"leftButtonRef",staticClass:"left-button",attrs:{circle:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.itemClick(t.activeIndex-1)}}})],1),e("transition",{attrs:{"enter-active-class":"animate__animated animate__faster animate__fadeInRight","leave-active-class":"animate__animated animate__faster animate__fadeOutRight"}},[e("el-button",{directives:[{name:"show",rawName:"v-show",value:t.showRight&&t.activeIndex+1<t.dataList.length,expression:"showRight && activeIndex + 1 < dataList.length"}],ref:"rightButtonRef",staticClass:"right-button",attrs:{circle:"",icon:"el-icon-arrow-right"},on:{click:function(e){return t.itemClick(t.activeIndex+1)}}})],1),t.dataList.length>1?e("div",{staticClass:"share-image-footer-wrap"},[e("div",{staticClass:"share-image-footer"},[e("el-button",{staticClass:"left-pre",attrs:{circle:"",icon:"el-icon-arrow-left"},on:{click:function(e){return t.itemClick(t.activeIndex-1)}}}),e("div",{staticClass:"share-image-list"},[e("swiper",{attrs:{options:{autoplay:!1,slidesPerView:4,navigation:{prevEl:".left-pre",nextEl:".right-pre"},slideToClickedSlide:!0}}},t._l(t.dataList,(function(i,s){return e("swiper-slide",{key:s+i.viewUrl},[e("el-image",{staticClass:"cursor-pointer",class:{active:t.activeIndex===s},attrs:{fit:"cover",src:i.viewUrl},nativeOn:{click:function(e){return t.itemClick(s)}}}),i.manualUpload?t._e():e("AiGenerated",{staticClass:"ai-genrated"})],1)})),1)],1),e("el-button",{staticClass:"right-pre",attrs:{circle:"",icon:"el-icon-arrow-right"},on:{click:function(e){return t.itemClick(t.activeIndex+1)}}})],1)]):t._e()],1),e("transition",{attrs:{"enter-active-class":"animate__animated animate__faster animate__fadeIn","leave-active-class":"animate__animated animate__faster animate__fadeOut"}},[t.showViewer?e("image-viewer",{attrs:{"z-index":999,"initial-index":t.activeIndex,"on-close":()=>t.showViewer=!1,"url-list":t.dataList.map(t=>t.viewUrl)}}):t._e()],1)],1)},_e=[],$e=i("5f85"),De=i("60c4");let je=100,Re=1;var Fe={components:{imageViewer:$e["a"],AiGenerated:De["a"]},props:{itemId:{type:String,default:null},applyId:{type:String,default:null},customDataList:{type:Array,default:()=>[]}},data(){return{dataList:[],activeIndex:0,showRight:!1,showLeft:!1,showBottom:!1,showTop:!1,showViewer:!1}},watch:{itemId:{handler(){this.dataList=this.customDataList.length>0?this.customDataList:[],Re=1,this.activeIndex=0,this.getDocumentListFun()},immediate:!0}},computed:{handleImage(){return t=>Object($["d"])(t)}},methods:{getDocumentListFun(){if(this.customDataList.length>0)return;let t={pageNum:Re,pageSize:je,toUserId:this.itemId,applyId:this.applyId};Object(b["u"])(t).then(t=>{if(200==t.code){const e=Array.isArray(t.data.list)?t.data.list:[];e.forEach(t=>{this.dataList.every(e=>t.id!==e.id)&&this.dataList.push({...t,fileType:t.suffix,viewUrl:t.manualUpload?t.viewUrl:this.handleImage(t.viewUrl)})}),this.pageSize==e.length&&Re++}})},itemClick(t){t<0?this.activeIndex=this.dataList.length-1:t>this.dataList.length-1?this.activeIndex=0:this.activeIndex=t,this.$nextTick(()=>{var t;null===(t=this.$refs.carouselRef)||void 0===t||t.setActiveItem(this.activeIndex)})},imageLoad(){const t=this.dataList[this.activeIndex].viewUrl,e=new Image;e.src=t,e.onload=()=>{e.width>=e.height?this.$refs.imageRef.$el.style.height="100%":this.$refs.imageRef.$el.style.height="auto"}},titleClick(t){switch(t){case"left":this.activeIndex--;break;case"right":this.activeIndex++;break;default:break}},closeShare(){this.$emit("changeAbilityId",-1)},handleMouseMove(t){const e=t.clientX,i=t.clientY,s=this.$refs.carouselRef.$el.getBoundingClientRect(),a=s.right,n=s.left,o=s.bottom,l=s.top,r=100;this.handleMouseLeave(),0<i-l&&i-l<r?this.showTop=!0:0<o-i&&o-i<r?this.showBottom=!0:0<a-e&&a-e<r?this.showRight=!0:0<e-n&&e-n<r&&(this.showLeft=!0)},handleMouseLeave(){this.showBottom=!1,this.showLeft=!1,this.showRight=!1,this.showTop=!1}},filters:{fileTypeIcon(t){return y["a"].fileTypeIcon(t.suffix)}}},Ee=Fe,Pe=(i("4072"),Object(h["a"])(Ee,Oe,_e,!1,null,"782f6040",null)),Ne=Pe.exports,Me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content",on:{mousemove:t.handleMouseMove,mouseleave:t.handleMouseLeave}},[e("aside",[e("div",{staticClass:"my-video"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length>0,expression:"dataList.length > 0"}],staticStyle:{width:"100%",height:"100%"}},[e("video",{attrs:{id:"videoRef",controlsList:"nodownload noremoteplayback noplaybackrate",disablePictureInPicture:"",src:t.dataList.length>0?t.dataList[t.activeIndex].viewUrl||t.dataList[t.activeIndex].videoUrl:"#",width:"100%"}}),e("Transition",{attrs:{"enter-active-class":"animate__animated animate__fadeIn animate__fast"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.paused,expression:"paused"}],staticClass:"icon-status cursor-pointer",on:{click:t.play}},[e("i",{staticClass:"iconfont icon-a-Polygon7"})])]),e("Transition",{attrs:{"leave-active-class":"animate__animated animate__fadeOut animate__fast"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.paused&&t.showPauseIcon,expression:"!paused && showPauseIcon"}],staticClass:"icon-status cursor-pointer",on:{click:t.pause}},[e("i",{staticClass:"iconfont icon-Frame5"})])])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.dataList.length<=0,expression:"dataList.length <= 0"}],staticClass:"no-data"},[t._v(t._s(t.t($t("fctt826","暂无视频分享","lang"))))])]),e("section",{staticClass:"share-title-content"},[e("div",{staticClass:"share-title-wrap"},[e("div",{staticClass:"share-title"},[e("span",[t._v(t._s(t.dataList.length>0?t.dataList[t.activeIndex].title.replace(/\.[^/.]+$/,""):""))])])])]),e("div",{staticClass:"close-btn",on:{click:t.closeShare}},[e("i",{staticClass:"iconfont icon-cha"})]),e("div",{staticClass:"share-content-aside"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showRight,expression:"showRight"}],staticClass:"switch-icon",on:{click:function(e){t.isExpand=!t.isExpand}}},[e("i",{staticClass:"iconfont icon-a-fangxiangzuoyansefalse1",class:{"rotate-180":t.isExpand}})]),e("div",{staticClass:"list-content",class:{hide:!t.isExpand}},[e("ul",{staticClass:"list-wrap",on:{mousemove:function(t){t.stopPropagation()}}},[t.dataList.length>0?t._l(t.dataList,(function(i,s){return e("li",{key:i.id},[e("VideoCard",{attrs:{isPlay:t.activeIndex===s,bg:i.videoCoverUrl,showAiGenerated:!i.manualUpload,videoId:"videoRef"},on:{click:function(e){return t.itemClick(s)}}}),e("span",{staticClass:"list-title"},[t._v(t._s(i.title.replace(/\.[^/.]+$/,"")))])],1)})):[t._m(0)]],2)])]),e("div",{staticClass:"share-content-bottom",class:{hide:!t.showBottom},on:{mousemove:function(t){t.stopPropagation()}}},[e("div",{staticClass:"share-content-controls"},[e("VideoControls",{attrs:{videoId:"videoRef"}})],1)])])])},Be=[function(){var t=this,e=t._self._c;return e("div",[e("img",{attrs:{src:i("2c2b"),width:"100%",alt:""}})])}],Ue=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-video-card",class:t.playCompute?"mt-video-border":""},[e("img",{staticClass:"mt-video-bg",attrs:{src:t.bg,alt:""}}),t.showAiGenerated?e("AiGenerated",{staticClass:"mt-video-ai-generated"}):t._e(),e("div",{staticClass:"mt-video-wrap"},[e("div",{staticClass:"mt-video-content"},[t.playCompute?[e("img",{staticClass:"dot",attrs:{src:i("b84a"),alt:$t("f8ie43","播放中","lang")}}),e("span",[t._v(t._s(t.t($t("f8ie43","播放中","lang"))))])]:[e("div",{staticClass:"play-icon"},[e("i",{staticClass:"iconfont icon-a-Polygon7",on:{click:function(e){return t.$emit("click")}}})])]],2)])],1)},Ve=[],ze={components:{AiGenerated:De["a"]},props:{videoId:{type:String,default:""},isPlay:{type:Boolean,default:!1},bg:{type:String,default:""},showAiGenerated:{type:Boolean,default:!1}},data(){return{video:null,played:!1}},computed:{playCompute(){return this.played&&this.isPlay}},mounted(){this.video=document.getElementById(this.videoId),this.video.addEventListener("pause",()=>{this.played=!1}),this.video.addEventListener("play",()=>{this.played=!0})},beforeDestroy(){this.video.removeEventListener("pause",()=>{this.played=!1}),this.video.removeEventListener("play",()=>{this.played=!0})}},Qe=ze,qe=(i("ab0a"),Object(h["a"])(Qe,Ue,Ve,!1,null,"8b890d0a",null)),We=qe.exports,Je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-video-controls"},[e("i",{staticClass:"iconfont cursor-pointer",class:t.isPaused?" icon-a-Polygon7":"icon-Frame5",staticStyle:{color:"#fff"},on:{click:t.togglePlay}}),e("span",[t._v(t._s(t.currentTime)+" / "+t._s(t.duration))]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.progress,expression:"progress"}],ref:"progressRef",staticClass:"progress-bar",attrs:{type:"range",min:"0",max:t.video.duration||0,step:"any"},domProps:{value:t.progress},on:{input:t.seek,__r:function(e){t.progress=e.target.value}}}),e("i",{staticClass:"iconfont icon-quanping cursor-pointer",on:{click:t.toggleFullscreen}}),e("div",{staticClass:"voice-container"},[e("div",{staticClass:"voice"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"volume-bar",attrs:{type:"range",min:"0",max:"1",step:"0.01",orient:"vertical"},domProps:{value:t.volume},on:{input:t.setVolume,__r:function(e){t.volume=e.target.value}}}),e("i",{staticClass:"iconfont cursor-pointer",class:t.isMuted?"icon-volume-x":"icon-shengyin",on:{click:t.toggleMute}})])])])},Ge=[],He={props:{videoId:{type:String,required:!0}},data(){return{video:null,isPlaying:!1,currentTime:"00:00",duration:"00:00",progress:0,isMuted:!1,showVolumeControl:!1,volume:1,isPaused:!0}},mounted(){this.video=document.getElementById(this.videoId),this.video.addEventListener("timeupdate",this.updateTime),this.video.addEventListener("loadedmetadata",this.setDuration),this.video.addEventListener("pause",()=>{this.isPaused=!0}),this.video.addEventListener("play",()=>{this.isPaused=!1}),this.video.volume=this.volume},beforeDestroy(){this.video.removeEventListener("timeupdate",this.updateTime),this.video.removeEventListener("loadedmetadata",this.setDuration),this.video.removeEventListener("pause",()=>{this.isPaused=!0}),this.video.removeEventListener("play",()=>{this.isPaused=!1})},methods:{togglePlay(){this.isPlaying?this.video.pause():this.video.play(),this.isPlaying=!this.isPlaying},seek(t){this.video.currentTime=this.progress,this.$nextTick(()=>{this.changeStyle()})},updateTime(){this.currentTime=this.formatTime(this.video.currentTime),this.progress=this.video.currentTime,this.$nextTick(()=>{this.changeStyle()})},changeStyle(){const t=this.$refs.progressRef,e=(null===t||void 0===t?void 0:t.value)||0,i=t.max,s=e/i*100;t.style.background=`linear-gradient(to right, #fff ${s}%, #6d7484 ${s}%)`},setDuration(){this.duration=this.formatTime(this.video.duration)},toggleFullscreen(){this.video.requestFullscreen?this.video.requestFullscreen():this.video.mozRequestFullScreen?this.video.mozRequestFullScreen():this.video.webkitRequestFullscreen?this.video.webkitRequestFullscreen():this.video.msRequestFullscreen&&this.video.msRequestFullscreen()},toggleMute(){this.video.muted=!this.video.muted,this.isMuted=this.video.muted},setVolume(){this.video.volume=this.volume,this.isMuted=0===this.video.volume},formatTime(t){const e=Math.floor(t/60),i=Math.floor(t%60);return`${e.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}},Ye=He,Ze=(i("f47d"),Object(h["a"])(Ye,Je,Ge,!1,null,"6f1c0feb",null)),Xe=Ze.exports;let Ke=100,ti=1,ei=null;var ii={components:{VideoCard:We,VideoControls:Xe},props:{itemId:{type:String,default:null},applyId:{type:String,default:null},isCanPlay:{type:String,default:""},customDataList:{type:Array,default:()=>[]}},watch:{itemId:{handler(){this.dataList=this.customDataList.length>0?this.customDataList:[],ti=1,this.activeIndex=0,this.getDocumentListFun()},immediate:!0}},mounted(){ei=document.getElementById("videoRef"),null!==ei&&(ei.addEventListener("click",()=>{this.paused=!this.paused,this.paused?ei.pause():ei.play()}),ei.addEventListener("loadstart",()=>{this.loading=!0,this.paused=!1}),ei.addEventListener("error",()=>{this.loading=!1,this.paused=!1}),ei.addEventListener("canplay",()=>{this.loading=!1,this.paused=!0}),ei.addEventListener("pause",()=>{this.paused=!0}),ei.addEventListener("timeupdate",()=>{this.paused=!1,"talk"===this.isCanPlay&&ei.pause()}),ei.addEventListener("play",t=>{this.isExpand=!1,"talk"===this.isCanPlay?(ei.pause(),this.$message.warning($t("ydatbu8","数字人正在回复中","lang"))):"listen"===this.isCanPlay&&this.$emit("stopListen")}))},data(){return{dataList:[],activeIndex:0,isExpand:!1,paused:!0,loading:!1,showBottom:!1,showTop:!1,showRight:!1,showPauseIcon:!1,timeOut:null}},methods:{async getDocumentListFun(){if(this.customDataList.length>0)return;let t={pageNum:ti,pageSize:Ke,toUserId:this.itemId,applyId:this.applyId};const{data:e,code:i}=await Object(b["u"])(t);if(200==i){const t=Array.isArray(e.list)?e.list:[];t.forEach(t=>{t.manualUpload&&(t.videoCoverUrl=Object($["d"])(t.videoCoverUrl)),this.dataList.every(e=>t.id!==e.id)&&this.dataList.push({...t,fileType:t.suffix})}),this.pageSize==t.length&&ti++}},itemClick(t){this.activeIndex=t,this.$nextTick(()=>{this.play()})},play(){"talk"===this.isCanPlay?(ei.pause(),this.$message.warning($t("ydatbu8","数字人正在回复中","lang"))):"listen"===this.isCanPlay?(this.$emit("stopListen"),this.isExpand=!1,ei&&ei.play()):(this.isExpand=!1,ei&&ei.play())},pause(){ei&&ei.pause()},titleClick(t){switch(t){case"left":this.activeIndex--;break;case"right":this.activeIndex++;break;default:break}},closeShare(){this.$emit("changeAbilityId",-1)},handleMouseMove(t){const e=t.clientX,i=t.clientY,s=ei.getBoundingClientRect(),a=s.right,n=s.bottom;s.top;this.handleMouseLeave(),0<n-i&&n-i<150?(this.showBottom=!0,this.isExpand=!1):0<a-e&&a-e<200?this.showRight=!0:this.isExpand=!1,this.showPauseIcon=!0,clearTimeout(this.timeOut),this.timeOut=setTimeout(()=>{this.showPauseIcon=!1},1e3)},handleMouseLeave(){this.showBottom=!1,this.showTop=!1,this.showRight=!1}}},si=ii,ai=(i("3337"),Object(h["a"])(si,Me,Be,!1,null,"2d27fbd9",null)),ni=ai.exports,oi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tips-content",class:null===t.dialogCollectionData||t.isOpenTalk?"":"no-margin-top"},[t.shouldShowProloCondition?e("article",{staticStyle:{"margin-bottom":"10px"}},[e("p",{staticClass:"tips-p"},[t._v(" "+t._s(t.eduPrologueData)+" ")])]):t._e(),t.shouldShowStartCondition?e("article",{staticStyle:{"margin-top":"10px","min-width":"100px","max-width":"150px",cursor:"pointer"},on:{click:t.eduStartTask}},[e("p",{staticClass:"tips-p"},[t._v($t("ruc72o6"," 开始执行 ","lang"))])]):t._e(),e("article",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowArticle&&this.info.roomIntroductionEnabled,expression:"shouldShowArticle && this.info.roomIntroductionEnabled"}]},[e("p",{staticClass:"tips-p"},[t._v(" "+t._s(t.selfDesc)+" ")])]),t.shouldShowArticle&&"b"===t.doBusinesType?e("article",{staticStyle:{"margin-top":"10px",width:"100px",cursor:"pointer"}},[e("p",{staticClass:"tips-p"},[t._v($t("1h5v1p9"," 多端任务执行中 ","lang"))])]):t._e(),null!==t.dialogCollectionData?[e("section",{staticClass:"collect-contain"},[e("i",{staticClass:"collect-icon"}),e("div",{staticClass:"collect-box"},[e("h1",{staticClass:"collect-h1"},[t._v(t._s(t.collectTitle))]),e("span",{staticClass:"collect-span"},[t._v(t._s(t.t($t("pjt1flk","数字人正在进行对话采集，请配合进行采集！","lang"))))])])])]:t._e(),t.shouldShowProloCondition?t._e():e("ul",{staticClass:"message-list",attrs:{id:"messageListRef"}},[null===t.dialogCollectionData?[e("transition-group",{attrs:{name:"fade",mode:"out-in"}},t._l(t.tipsData,(function(i,s){return e("li",{directives:[{name:"show",rawName:"v-show",value:i,expression:"item"}],key:i.qaId+s,staticClass:"tips-item",attrs:{title:i.tip},on:{click:function(e){return t.$emit("tipsItemClick",i.tip)}}},[e("i"),e("span",[t._v(t._s(i.tip))])])})),0)]:t._e(),null!==t.dialogCollectionData?[e("li",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"tips-item message-item thinking-gif"}),t._l(t.messageList,(function(i,s){return e("li",{directives:[{name:"show",rawName:"v-show",value:""!==i.content&&0!==s,expression:"item.content !== '' && index !== 0"}],key:i.content+s,staticClass:"tips-item message-item",class:i.role},[e("markdown",{staticStyle:{display:"inline-block"},attrs:{value:i.content,showBottom:!1}}),i.isLoad&&"self"===i.role?e("i",{staticClass:"loading"}):t._e()],1)}))]:t._e()],2),(t.recommendshow&&t.keyWordsList.length,t._e()),e("el-dialog",{staticClass:"videoDialog",attrs:{title:t.t($t("fpcxd54","知识推荐","lang")),visible:t.videoShow,width:"60%","before-close":t.handleClose,"destroy-on-close":!0,"modal-append-to-body":!1},on:{"update:visible":function(e){t.videoShow=e}}},[4==t.fileFrom.fileType?e("div",{staticStyle:{padding:"20px"}},[e("video",{attrs:{controls:"",height:"500px",width:"100%",src:t.fileFrom.viewUrl}})]):t._e(),1==t.fileFrom.fileType?e("div",{staticStyle:{padding:"20px",height:"500px"}},[e("Contentshow",{attrs:{keyWordsListItem:t.fileFrom}})],1):t._e()])],2)},li=[],ri=i("e40e"),ci={inject:["info"],props:{startBtnShow:{type:Boolean,default:!1},onlyHidenEduPrologue:{type:Boolean,default:!0},isEduPrologue:{type:Boolean,default:!1},tipsData:{type:Array,default:()=>[]},keyWordsList:{type:Array,default:()=>[]},recommendshow:{type:Boolean,default:!1},selfDesc:{type:String,default:""},isOpenTalk:{type:Boolean,default:!0},dialogCollectionData:{type:Object,default:null}},computed:{shouldShowProloCondition(){return(this.isEduPrologue&&this.onlyHidenEduPrologue||this.startBtnShow)&&this.eduPrologueData},shouldShowStartCondition(){return this.isEduPrologue&&this.onlyHidenEduPrologue||this.startBtnShow},shouldShowArticle(){return(!this.isEduPrologue||!this.onlyHidenEduPrologue&&!this.startBtnShow)&&this.selfDesc&&null===this.dialogCollectionData}},components:{Contentshow:ri["a"],Markdown:Ct},watch:{"messageList.length":{handler(t){const e=document.getElementById("messageListRef");e.scrollTop=e.scrollHeight}}},filters:{fileIconFilter(t){return y["a"].fileTypeIcon(t.suffix)},truncate(t){return t.length>10?t.substring(0,10)+"...":t},webtruncate(t){return t.length>20?t.substring(0,20)+"...":t}},mounted(){let t=JSON.parse(sessionStorage.getItem("taskClickModule"));this.eduPrologueData=null===t||void 0===t?void 0:t.detail.prologue,this.$bus.$on("taskClickModule",({detail:t,task:e})=>{this.eduPrologueData=t.prologue,this.doBusinesType=t.doBusinesType}),this.$bus.$on("closeTask",t=>{this.isCloseTask=t})},data(){return{eduPrologueData:"",directText:"",messageList:[],collectTitle:$t("ffpsh3","无标题","lang"),loading:!1,fileFrom:{},videoShow:!1,isCloseTask:!1,doBusinesType:""}},methods:{eduStartTask(t){console.log(t,"typetype"),this.isCloseTask||(this.$bus.$emit("eduStartTask",!0),this.$emit("update:onlyHidenEduPrologue",!1))},jump(t){window.open("/room/#/showRoom?applyId="+t.applyId,"_blank")},boxJump(t){window.open(t.viewUrl)},videoPlay(t){this.fileFrom=t,this.videoShow=!0},handleClose(){this.videoShow=!1}}},di=ci,ui=(i("6fa4"),Object(h["a"])(di,oi,li,!1,null,"9aa5b010",null)),hi=ui.exports,pi=i("d8c1"),gi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"website-share-content"},[e("div",{staticClass:"close-btn",on:{click:t.closeShare}},[e("i",{staticClass:"iconfont icon-cha"})]),t.dataList.length>0?e("ul",{staticClass:"website-list"},t._l(t.dataList,(function(i,s){return e("a",{key:i.id+s,staticClass:"website-item",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.handleItemClick(i.url)}}},[e("i",{staticClass:"left-icon"}),e("div",{staticClass:"website-middle"},[e("h1",{staticClass:"elipse"},[t._v(t._s(i.name))]),e("p",{staticClass:"elipse"},[t._v(t._s(i.url))])]),e("i",{staticClass:"right-icon"})])})),0):e("div",{staticClass:"no-data"},[t._v(t._s(t.t($t("e5n0wm6","暂无链接分享","lang"))))])])},mi=[];let fi=1;var vi={mixins:[kt["a"]],props:{itemId:{type:String,default:null},applyId:{type:String,default:null}},watch:{itemId:{handler(){this.dataList=[],fi=1,this.activeIndex=0,this.getDocumentListFun()},immediate:!0}},data(){return{dataList:[],activeIndex:0,isExpand:!1,svgPath:L["a"]}},methods:{getDocumentListFun(){let t={companyAbilityId:this.itemId,createUserId:this.applyId};Object(b["D"])(t).then(t=>{if(200==t.code){const e=Array.isArray(t.data)?t.data:[];e.forEach(t=>{this.dataList.every(e=>t.id!==e.id)&&this.dataList.push({...t,fileType:t.suffix||"docx"})}),this.pageSize==e.length&&fi++,1===this.dataList.length&&(this.$emit("changeAbilityId",-1),window.open(this.dataList[0].url,"_blank"))}})},handleItemClick(t){""!==t&&window.open(t,"_blank")},closeShare(){this.$emit("changeAbilityId",-1)}},filters:{fileTypeIcon(t){return y["a"].fileTypeIcon(t.suffix)}}},yi=vi,bi=(i("249d"),Object(h["a"])(yi,gi,mi,!1,null,"249767e6",null)),wi=bi.exports,Ii=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{center:"",visible:t.visible,"show-close":!1,top:"30vh"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!(t.info&&t.info.selfIntroductionContent),expression:"!(info && info.selfIntroductionContent)"}],attrs:{type:"primary"},on:{click:t.openTalk}},[t._v(t._s(t.t($t("5nqvt6","开启语音对话","lang"))))])]},proxy:!0}])},[e("el-image",{attrs:{src:t.info&&t.info.apply?t.info.apply.personalCenterImg:"#"}}),e("div",{staticClass:"desc-text"},[t._v(t._s(t.t($t("l73k1cj","点击下方按钮，快来与我进行深入交流吧！","lang"))))])],1)},Ci=[],ki={props:{info:{type:Object,default:()=>{}}},data(){return{visible:!1}},methods:{openTalk(){this.$emit("openTalk",this.info.selfIntroductionContent),this.visible=!1}}},Si=ki,xi=(i("5079"),i("31fc"),Object(h["a"])(Si,Ii,Ci,!1,null,"e952dab4",null)),Ai=xi.exports,Li=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{center:"",visible:t.visible,"show-close":!1,top:"30vh"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("el-button",{directives:[{name:"loading",rawName:"v-loading",value:!(t.info&&t.info.selfIntroductionContent),expression:"!(info && info.selfIntroductionContent)"}],attrs:{type:"primary"},on:{click:t.limitTalk}},[t._v(t._s(t.t($t("cpx4v3","去对话","lang"))))])]},proxy:!0}])},[e("el-image",{attrs:{src:t.info&&t.info.apply?t.info.apply.personalCenterImg:"#"}}),e("div",{staticClass:"desc-text"},[t._v(" "+t._s(t.t($t("u8jk2ky","抱歉，该能力没有调用次数，暂时无法使用，你可以和我聊点儿其他话题吧。","lang")))+" ")])],1)},Ti=[],Oi={props:{info:{type:Object,default:()=>{}}},data(){return{visible:!1}},methods:{limitTalk(){this.$emit("limitTalk",this.info.selfIntroductionContent),this.visible=!1}}},_i=Oi,$i=(i("5aa8"),i("1ecf"),Object(h["a"])(_i,Li,Ti,!1,null,"b3fd7b4c",null)),Di=$i.exports,ji=function(){var t=this,e=t._self._c;return e("div",{staticClass:"folder-source",class:"1"==t.special?"folder-source-lay":""},[e("div",{staticClass:"folder-source__img"},[e("img",{class:"video"===t.whichFileType?"folder-img__video":"folder-img__normal",attrs:{src:t.imgUrl}})]),"1"!=t.special?e("span",{staticClass:"folder-source__name"},[t._v(t._s(t.name.replace(/\.[^/.]+$/,"")))]):t._e(),t.showAiGenerated?e("AiGenerated",{staticClass:"mt-video-ai-generated"}):t._e()],1)},Ri=[],Fi=i("56ce"),Ei=i.n(Fi),Pi=i("fd38"),Ni=i.n(Pi),Mi=i("b09b"),Bi=i.n(Mi),Ui=i("8cf0"),Vi=i.n(Ui),zi=i("1fd9"),Qi=i.n(zi),qi={name:"folder-source",mixins:[kt["a"]],components:{AiGenerated:De["a"]},props:{name:{type:String,default:""},special:{type:String,default:""},url:{type:String,default:""},type:{type:String,default:"file"},showAiGenerated:{type:Boolean,default:!1}},data(){return{}},computed:{imgUrl(){if("folder"===this.type)return Ei.a;if(this.url)return this.url;switch(this.whichFileType){case"word":return Ni.a;case"ppt":return Bi.a;case"txt":return Qi.a;default:return Vi.a}},whichFileType(){return this.getFileType(this.name)}}},Wi=qi,Ji=(i("4ef6"),Object(h["a"])(Wi,ji,Ri,!1,null,"3c694531",null)),Gi=Ji.exports,Hi=i("35d6"),Yi=i("47c5"),Zi=i("e0f4"),Xi=i("daf8"),Ki=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("aside",[e("div",{staticClass:"my-folder folder-wrapper"},[e("span",{staticClass:"folder-title"},[t._v(t._s(t.btnList[t.btnActive].menuName||""))]),e("folderRouter",{attrs:{folderRouter:t.folderRoutes},on:{click:t.currentFolderChange}}),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{flex:"1",overflow:"auto"}},[t.dataList.length>0?e("div",{staticClass:"my-folder-container"},t._l(t.dataList,(function(i,s){return e("folderSource",{key:s,attrs:{name:i.name,type:i.category,url:["2","9"].includes(i.feedType)?i.imgUrl||i.viewUrl:"3"===i.feedType?i.videoCoverUrl:"",showAiGenerated:"folder"!==i.category&&!1===i.manualUpload},nativeOn:{click:function(e){return t.itemClick(s)},dblclick:function(e){return t.handleDoubleClick(i)}}})})),1):e("DataNull")],1),e("div",{staticClass:"close-btn",on:{click:t.closeShare}},[e("i",{staticClass:"iconfont icon-cha"})])],1)]),e("transition",{attrs:{"enter-active-class":"animate__animated animate__faster animate__fadeIn","leave-active-class":"animate__animated animate__faster animate__fadeOut"}},[t.showViewer?e("image-viewer",{attrs:{"z-index":999,"initial-index":t.activeIndex,"on-close":()=>t.showViewer=!1,"url-list":t.viewrList}}):t._e()],1)],1)},ts=[],es=i("13e1"),is={mixins:[kt["a"]],components:{folderRouter:es["a"],folderSource:Gi,imageViewer:$e["a"]},props:{itemId:{type:String,default:null},applyId:{type:String,default:null},btnList:{type:Array,default:()=>[]},btnActive:{type:Number||String,default:null}},watch:{itemId:{handler(){this.dataList=[],this.currentFolderChange(0)},immediate:!0}},data(){return{dataList:[],folderRoutes:[{name:$t("en402","全部","lang"),id:null}],loading:!1,activeIndex:0,viewrList:[],showViewer:!1}},computed:{currentFolder(){return this.folderRoutes[this.folderRoutes.length-1].id}},methods:{getDocumentListFun(){this.loading=!0,Object(we["V"])({menuId:this.itemId,iswebsite:!1,userId:this.applyId}).then(t=>{const{catalogues:e,knowledgeQas:i}=t.data,s=(null===i||void 0===i?void 0:i.filter(t=>t.parentId===this.currentFolder).map(t=>(t.manualUpload&&(["2","9"].includes(this.feedType)?t.imgUrl=Object($["d"])(t.imgUrl||t.viewUrl):"3"===t.feedType&&(t.videoCoverUrl=Object($["d"])(t.videoCoverUrl))),{...t,name:t.title})))||[];if(null===this.currentFolder){const t=(null===e||void 0===e?void 0:e.filter(t=>null===t.parentId).map(t=>({...t,category:"folder"})).sort((t,e)=>t.sort-e.sort))||[];this.dataList=[...t,...s]}else{const{children:t,knowledgeQas:i}=this.findObjectById({children:e}||{},this.currentFolder)||{},s=(null===t||void 0===t?void 0:t.map(t=>({...t,category:"folder"})).sort((t,e)=>t.sort-e.sort))||[];this.dataList=[...s,...(null===i||void 0===i?void 0:i.map(t=>({...t,name:t.title})))||[]]}}).finally(()=>{this.loading=!1})},findObjectById(t,e){if(t.id===e)return t;if(t.children)for(let i of t.children){const t=this.findObjectById(i,e);if(t)return t}return null},itemClick(t){if("folder"===this.dataList[t].category)return;const e=this.dataList[t].title,i=this.getFileType(e||""),s=this.dataList.filter(t=>{const e=this.getFileType(t.title||"");return["image","video"].includes(i)?e===i:!["image","video"].includes(e)&&"folder"!==t.category}),a=s.findIndex(e=>e.id===this.dataList[t].id);if("image"===i)return this.viewrList=s.map(t=>t.imgUrl),this.activeIndex=a,void(this.showViewer=!0);this.$emit("handleFolderPreview",{fileType:i,sameTypeList:s,sameTypeIndex:a})},handleDoubleClick({id:t,name:e,category:i}){"folder"===i&&(this.folderRoutes.push({id:t,name:e}),this.getDocumentListFun())},closeShare(){this.$emit("changeAbilityId",-1)},currentFolderChange(t){this.folderRoutes=this.folderRoutes.slice(0,t+1),this.getDocumentListFun()}}},ss=is,as=(i("db92"),Object(h["a"])(ss,Ki,ts,!1,null,"61dd8e6a",null)),ns=as.exports,os=i("af5f");const ls=Xi["a"].create({},{}),rs=3e3,cs=1e3;let ds,us=!0,hs=null,ps=null,gs=null,ms=0,fs="",vs=0;const ys=Object(os["c"])();let bs=!0;var ws={components:{classTest:n["a"],eduVirtual:Ut,intelligentAgent:Jt,virtualExplanation:Kt,eduVideoShare:Ft,backTask:g,eduMenuComponent:de,commentSection:ve,Footer:Te["a"],ContentShare:Le,PhotoShare:Ne,VideoShare:ni,Tips:hi,Avatar:pi["a"],WebsiteShare:wi,OpenAudioDialogVue:Ai,LimitDialogVue:Di,Markdown:Ct,FolderShare:ns,folderSource:Gi},props:{isEduPrologue:{type:Boolean},abilityId:{type:String|Number,default:-1},btnList:{type:Array,default:()=>[]},shareUserInfo:{type:Object,default:()=>{}},btnActive:{type:Number|String,default:null},hasEduTaskFlag:{type:Boolean},companyTaskTem:{type:Array,default:()=>[]}},filters:{truncate(t){return(null===t||void 0===t?void 0:t.length)>10?t.substring(0,10)+"...":t},webtruncate(t){return(null===t||void 0===t?void 0:t.length)>20?t.substring(0,20)+"...":t},fileTypeIcon(t){return y["a"].fileTypeIcon(t)}},data(){return{startBtnShow:!1,taskPrologueSpeak:!1,isEduPrologueTips:[],anserList:[],classTestShow:!1,ediVitrueCompet:!1,setpEnd:!1,onlyHidenEduPrologue:!0,getTaskClickModule:null,buttomShow:!0,eduPrologueData:"",chatRecordId:void 0,dialogId:void 0,uploadRef:null,doUpload:"/backend-api/tuzai/file/upload",uploadImg:"",components:["Tips","","","","VideoShare","FolderShare","WebsiteShare","PhotoShare","eduVideoShare","eduVirtual","Tips","intelligentAgent","virtualExplanation"],customDataList:[],info:{},tipsData:[],applyId:null,isSaying:!1,optionsOn:{isStart:!1,state:"listen",value:""},optionsOff:{value:"",sendValue:"",isShowSend:!1,stopState:"send",isShowInput:!0},optionsStop:{isShow:!1,value:"",reasoningContent:"",reasoningTime:null,isShowReasoning:!0,reasoningStop:!1,showText:!1,isShowSearch:!1},dialogCollectionData:null,recommendshow:!1,keyWordsList:[],relatedQaFileList:[],fromQaFileList:[],useAbility:!1,abilitySortList:[],currAbility:{},topic:{},compontentShow:!0,currRecordId:"",firstNum:!0,endStatus:!1,videoShow:!1,fileFrom:{},tipsLoading:!1,speed:60,isShow:!0,roomVoice:!1,productDialogShow:!1,productDetail:{},symbolKey:(new Date).getTime(),swiperVideo:{autoplay:{delay:3e3},pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:1,paginationClickable:!0},appendknowing:!1,voiceInstance:null,PromiseAllArray:[],smartBusinessShow:!1,liveList:[],cardList:{},menuList:[],menuListOrg:[],dialogVisible:!1,files:"",fit:"scale-down",writeEnd:!1,faceItemUrlV2:null,packageName:"",avatar:null,isSpeaking:!1,mofaAppId:!1,recordList:[],showRecord:!1,doBusinesTypeBLoading:!1}},watch:{PromiseAllArray:{immediate:!0,deep:!0,handler(t){let e;t&&4===(null===t||void 0===t?void 0:t.length)&&(t.forEach(t=>{Array.isArray(t)&&(e=t)}),setTimeout(()=>{this.set_RecomMainList(e)},100))}},abilityId:{immediate:!0,async handler(t){if(this.hasEduTaskFlag)if(-1!=t){this.getTaskClickModule=JSON.parse(sessionStorage.getItem("taskClickModule"));const{detail:e}=this.getTaskClickModule;if(console.log(e,"detaildetail"),this.eduPrologueData=e.prologue,this.buttomShow=8!=t,10==t){const{workType:t,resourceId:i}=e;await Object(b["p"])({resourceId:i}),2!=t&&"0"!=t||(this.touchAbilityEdu(this.getTaskClickModule.detail),this.doSendMessage($t("ccydad4","开始学习","lang"),null,this.getTaskClickModule.detail),this.optionsStop.isShow=!0),1==t&&Object(b["v"])({resourceId:i}).then(t=>{this.classTestShow=!0,this.anserList=t.data,this.anserList.forEach((t,e)=>{if("1"===t.quesType||"2"===t.quesType){const i=JSON.parse(t.quesRemark),s=Object.entries(i).map(([t,e])=>({key:t,value:e}));this.$set(this.anserList[e],"quesRemarkArr",s),this.$set(this.anserList[e],"curItem",null),t.userAnswer&&("1"===t.quesType?t.userAnswer=s.find(e=>e.key===t.userAnswer):"2"===t.quesType&&(t.userAnswer=s.filter(e=>JSON.parse(t.userAnswer).includes(e.key))))}"4"===t.quesType&&(this.$set(this.anserList[e],"qktList",[]),t.userAnswer&&(t.userAnswer=JSON.parse(t.userAnswer),t.qktList=t.userAnswer))})}),this.onlyHidenEduPrologue=!1;let s=sessionStorage.getItem("exeMode");this.startBtnShow="1"===s}12==t&&(this.getTaskClickModule.detail.abilityEnum=this.getTaskClickModule.detail.abilityType),this.$bus.$emit("hidenLeftMenu",!1)}else this.$bus.$emit("hidenLeftMenu",!0)}},"$attrs.itemId":{handler(){this.optionsStop.reasoningContent=""}}},inject:["getApplyId"],provide(){return{info:this.shareUserInfo}},mounted(){this.applyId=this.getApplyId(),this.bindDialogueEvent(),this.getQuestionData({getQues:this.shareUserInfo.roomIntroQues}),Object(we["T"])({agentId:this.applyId}).then(t=>{this.menuListOrg=Object(ie["cloneDeep"])(t.data.menuList)}).catch(t=>{this.loading=!1});const t=()=>{var t,e;this.voiceInstance=Zi["a"].create({voice_type:null===(t=this.info.apply)||void 0===t||null===(t=t.voice)||void 0===t?void 0:t.timbre,provider:null===(e=this.info.apply)||void 0===e||null===(e=e.voice)||void 0===e?void 0:e.voiceProvider}),this.voiceInstance.on("appFinish",this.endVoice),this.voiceInstance.on("audioFirstStart",this.startVoice),sessionStorage.getItem("isReplay")||ys.requestMicrophonePermission().then(()=>{this.setOpenVoice(!0),this.voiceInstance.unmute(),this.handleOpenTalk(this.info.selfIntroductionContent)}).catch(()=>{this.setOpenVoice(!1),this.voiceInstance.mute()}).finally(()=>{sessionStorage.setItem("isReplay","true")}),this.shareUserInfo.mofaAppId&&this.shareUserInfo.mofaAppSecret&&(this.mofaAppId=!0,this.$nextTick(()=>{this.initAvatar(this.shareUserInfo.mofaAppId,this.shareUserInfo.mofaAppSecret)}))};this.info={selfIntroductionContent:this.shareUserInfo.selfIntroductionContent,apply:Object(ie["cloneDeep"])(this.shareUserInfo)},t(),this.getAbilityList(),Object(Yi["e"])({id:this.applyId}).then(t=>{200==t.code&&t.data&&this.liveList.push(t.data)}),this.$bus.$on("taskClickModule",()=>{var t;null===(t=this.voiceInstance)||void 0===t||t.finish()})},beforeDestroy(){hs&&clearInterval(hs),this.handleStopDialogue(),gs&&clearTimeout(gs),sessionStorage.removeItem("isReplay"),window.removeEventListener("beforeunload",this.handleBeforeUnload),window.removeEventListener("pagehide",this.handlePageHide),this.destroySDK()},computed:{...Object(v["c"])(["userInfo","isOpenVoice"]),isCanPlay(){if(this.isOpenTalk){if(this.optionsOn.isStart&&this.optionsStop.isShow)return"talk";if(this.optionsOn.isStart&&!this.optionsStop.isShow)return this.optionsOn.state}else{if(this.optionsStop.isShow)return"talk";if("stop"===this.optionsOff.stopState)return"think"}return""},isOpenTalk(){return this.roomVoice||!(!this.info||!this.info.apply)&&this.info.apply.roomVoice},currentComponent(){return this.components[this.abilityId>=0?this.abilityId:0]},reasoningStatus(){return this.optionsStop.reasoningContent&&!this.optionsStop.value?this.optionsStop.reasoningStop?$t("mh9r0t5","已中止思考","lang"):$t("ep0873","思考中","lang"):this.optionsStop.reasoningContent&&this.optionsStop.value?`${$t("928z878","已深度思考（用时","lang")}${(this.optionsStop.reasoningTime/1e3).toFixed(2)}s）`:""},isReasonClick(){return this.reasoningStatus!=$t("ep0873","思考中","lang")&&this.reasoningStatus!=$t("mh9r0t5","已中止思考","lang")}},methods:{...Object(v["d"])(["setToken","setUserInfo","setOpenVoice"]),...Object(v["b"])(["setUserMathInfo"]),optionsStopShowFun(t=!1){this.optionsStop.isShow=t},ediVitrueComp(t){this.ediVitrueCompet=t},processMarkdown(t){return j.a.sanitize(t)},handleOutTask(t=""){this.$emit("update:isEduPrologue",!1),this.$emit("update:abilityId",-1),this.buttomShow=!0,this.onlyHidenEduPrologue=!0,this.startBtnShow=!1,this.taskPrologueSpeak=!1,this.optionsStop.isShow=!1,this.dialogCollectionData=null,this.getInfo(),this.getFirstDialogId(),this.closeUseAbility(),sessionStorage.removeItem("isReplay");let e=JSON.parse(sessionStorage.getItem("getFirstSetpParams"));e&&"taskEnd"!==t&&Object(b["c"])(e).then(t=>{})},deleteLoadImg(){this.uploadImg="",this.$refs.uploadRef.clearFiles()},handleExceed(t,e){this.$message.warning(`${$t("8ypavdh","最多只能上传1个文件，当前已选择 ","lang")}${null===e||void 0===e?void 0:e.length}${$t("ciajd4"," 个文件","lang")}`)},handleSuccess(t){this.uploadImg=t.data.url},autoModuleStart(){this.taskPrologueSpeak&&this.$refs.componentRef.eduStartTask()},handleImageUrlFn(t){return t.abilityId?Object($["d"])(null!=t.imgUrl?t.imgUrl:t.viewUrl):null!=t.imgUrl?t.imgUrl:t.viewUrl},expendReason(t){switch(t){case"reasoning":this.optionsStop.reasoningContent&&this.optionsStop.value&&(this.optionsStop.isShowReasoning=!this.optionsStop.isShowReasoning),this.optionsStop.isShowSearch=!1;break;case"search":this.optionsStop.isShowSearch=!this.optionsStop.isShowSearch,this.optionsStop.isShowReasoning=!1,console.log(this.optionsStop.isShowSearch);break}},set_RecomMainList(t){let e=this.keyWordsList.filter(t=>7==t.fileType||3==t.fileType||4==t.fileType);if((null===e||void 0===e?void 0:e.length)>0){const i=e.map(t=>"3"===t.fileType?{...t,feedType:"2",title:t.fileName}:"4"===t.fileType?{...t,feedType:"3",title:t.fileName}:t),s=t=>{const e=i.filter(e=>!t.some(t=>t.feedType===e.feedType&&t.title===e.title));return[...t,...e]};this.fromQaFileList=s(null!==t&&void 0!==t?t:[])}else this.fromQaFileList=t||[]},smartBusinessCloseFn(){this.smartBusinessShow=!1},previewFn(t,e){this.dialogVisible=!0,this.files=e},sureClose(){this.dialogVisible=!1},producttweets(t){Object(N["o"])(t.objectId).then(t=>{200===t.code?(this.productDialogShow=!0,this.productDetail=t.data,this.symbolKey=(new Date).getTime()):this.$message.error(t.errMsg?t.errMsg:t.msg)})},closeProductDialog(){this.productDialogShow=!1},styleObject(t){return{backgroundImage:`url('${t}')`}},openBuyLink(t){if(!t.buyLink)return;let{buyLink:e}=t;const i=e.includes("http");i||(e="http://"+e),window.open(e,"_blank")},videoPlay(t){this.fileFrom.previewUrl=t.viewUrl,this.videoShow=!0},audioPlay(t){if("6"===t.feedType)return this.fileFrom.previewUrl=t.viewUrl,void(this.videoShow=!0);t.objectId&&Object(N["q"])({id:t.objectId}).then(t=>{200===t.code?(this.fileFrom.previewUrl=t.data.list[0].videoUrl,this.videoShow=!0):this.$message.error(t.errMsg?t.errMsg:t.msg)})},boxJump(t){Object(N["b"])({id:t.id}).then(t=>{200==t.code||this.$message.error(t.errMsg)}),window.open(t.viewUrl)},webopen(t){window.open(t.viewUrl)},handleClose(){this.videoShow=!1},async getFirstDialogId(t="",e=null){let i=null;i=e?e.dialogType:this.isEduPrologue&&this.onlyHidenEduPrologue?"70":this.topic.type?this.topic.type:"36";let s={toUserId:this.currAbility.abilityId||this.applyId||this.userInfo.id,type:i,title:t.substring(0,7)};const{data:a,code:n}=await Object(we["d"])(s);200==n&&(this.chatRecordId=a.dialogId)},wheel(t){t.preventDefault();const e=.166*t.deltaY,i=document.getElementsByClassName("anwser-text-span")[0];i&&i.scrollBy({top:e,left:0,behavior:"smooth"})},changeDefaultAction(t){"Enter"!==t.key||t.shiftKey?"Enter"===t.key&&t.shiftKey&&(t.preventDefault(),this.optionsOff.value+="\r\n"):(t.preventDefault(),this.optionsOff.isShowSend||this.handleSend())},getQuestionData({referenceId:t,type:e,recordId:i=this.currRecordId,getQues:s}={}){if(!s)return;let a={recordId:null!==i&&void 0!==i?i:null,referenceId:t||this.applyId,type:e||"36"};this.tipsLoading=!0,Object(N["g"])(a,this).then(t=>{this.tipsData=[],this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText="");const e=this.btnList.map(t=>t.menuName);(null===e||void 0===e?void 0:e.length)>0&&ms>(null===e||void 0===e?void 0:e.length)&&(ms=0),this.$nextTick(()=>{var i;this.tipsData=(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.length)>0?t.data:[],this.tipsLoading=!1;let s=this.$refs.scrollDiv;s&&(s.scrollTop=s.scrollHeight,s.scrollTo({top:s.scrollHeight+150,behavior:"smooth"}));let a=document.getElementById("toBottomBox");a&&a.scrollIntoView(!1),this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText=e[ms]),ms++})})},async getInfo(t){let e={applyId:this.applyId},{data:i,code:s}=await Object(Hi["e"])(e);const{memoryQuestionRecommendEnabled:a}=i.apply||{};if(a){const t=await Object(N["e"])({agentId:this.applyId});i.selfIntroductionContent=t.data}if(200==s){if(this.setUserMathInfo(i),this.info=i,this.info.apply.image&&this.info.apply.gif){const t=new Image(0,0);t.src=this.info.apply.gif,document.getElementById("app").appendChild(t)}t&&t()}},getQuesData(){this.tipsData=[],this.tipsLoading=!0,Object(we["db"])({recordId:this.currRecordId,type:this.topic.type?this.topic.type:"36",referenceId:this.currAbility.abilityId,isAbility:!!this.currAbility.abilityId}).then(t=>{if(200==t.code){this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText="");const e=this.btnList.map(t=>t.menuName);(null===e||void 0===e?void 0:e.length)>0&&ms>(null===e||void 0===e?void 0:e.length)&&(ms=0),this.$nextTick(()=>{var i;this.tipsData=(null===(i=t.data)||void 0===i?void 0:i.length)>0?t.data:[],this.tipsLoading=!1;this.$refs.scrollDiv;let s=document.getElementById("recommendBox");setTimeout(()=>{s&&s.scrollIntoView(!1)},1500),this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText=e[ms]),ms++})}})},checkAbilityApiFn(){return new Promise((t,e)=>{this.currAbility!={}&&this.currAbility.abilityId?Object(we["s"])({applyId:this.applyId,id:this.currAbility.id,abilityId:this.currAbility.abilityId}).then(e=>{200==e.code&&(e.data?t():this.$refs.limitTalk.visible=!0)}):t()})},async doSendMessage(t="",e,i=null,s){var a,n;if(0==this.currAbility.count&&this.useAbility)return void(this.$refs.limitTalk.visible=!0);let o,l,r="";if(""===t)return!1;var c,d;if(this.fromQaFileList=[],this.keyWordsList=[],this.appendknowing=!1,this.$emit("recommendshowEmit",!1),this.postknowledge(t),this.mofaAppId&&(bs=!0),o={conversationId:s?s.conversationId:"",packageId:s?s.packageId:"",packageName:s?s.packageName:"",abilityId:this.currAbility?this.currAbility.abilityId:"",applyId:this.applyId,content:t,dialogId:this.chatRecordId,tempId:this.chatRecordId,type:"1",extend:this.currAbility.resourceId},l="/backend-api/tuzai/chat/company/send/v2",this.getTaskClickModule=JSON.parse(sessionStorage.getItem("taskClickModule")),null!==(a=o)&&void 0!==a&&a.dialogId){if(null!==(n=o)&&void 0!==n&&n.dialogId&&this.isEduPrologue&&this.onlyHidenEduPrologue){var u;await this.getFirstDialogId(t,i),o.abilityId="-5943956514146388316",o.taskId=null===(u=this.getTaskClickModule)||void 0===u?void 0:u.detail.taskId}}else await this.getFirstDialogId(t,i),o.dialogId=this.chatRecordId,o.tempId=this.chatRecordId,this.isEduPrologue&&this.onlyHidenEduPrologue&&(o.abilityId="-5943956514146388316",o.taskId=null===(c=this.getTaskClickModule)||void 0===c?void 0:c.detail.taskId);(this.endStatus=!1,this.mofaAppId)||(null===(d=this.voiceInstance)||void 0===d||d.start());let h={headers:{Authorization:Object(ne["a"])(),"Cache-Control":"no-cache",Connection:"keep-alive","Content-type":"application/json","x-platform":"pc",Language:y["a"].getLanguage()},method:"POST",body:JSON.stringify(o)};this.optionsStop.reasoningTime=(new Date).getTime();let p=0;this.recordList.push({id:(new Date).getTime(),...o,role:"user"}),this.recordList.push({id:(new Date).getTime(),role:"agent",content:"",done:!1}),Object(pe["b"])(l,h,(t,e)=>{if(e)throw this.$message.error($t("glacv74","网络繁忙","lang")),this.optionsOn.isStart=!1,hs&&clearInterval(hs),this.stopMessage(),e;if(!t.data)return this.stopMessage(),this.firstNum=!0,!1;{this.isEduPrologueTips=[],this.tipsData=[],this.firstNum&&(this.optionsStop.value="");let e=JSON.parse(t.data);if(this.chatRecordId=e.dialogId,this.currRecordId=e.chatRecordId,e.type&&"114"===e.type){var i;const t=this.recordList.at(-1);if(t&&(t.dialogId=e.dialogId,t.chatRecordId=e.chatRecordId),this.firstNum=!0,this.endStatus=!0,this.packageName="",e.extend){let t=JSON.parse(e.extend);this.packageName=t.packageName}var s;if(this.abilityId<1&&(this.compontentShow=!1),10==this.abilityId&&(this.compontentShow=!1),null==e.isKnowledge&&(this.recommendshow=!0),null!==e&&void 0!==e&&null!==(i=e.tips)&&void 0!==i&&i.length&&(this.isEduPrologueTips=JSON.parse(e.tips)),this.$emit("postknowledge",e.fromQaFileList),console.log("这里是v2接口返回的附件返回完毕123"),this.PromiseAllArray.push(e.fromQaFileList),this.mofaAppId)this.avatar.speak("",!1,!0);else null===(s=this.voiceInstance)||void 0===s||s.end();let a=document.getElementById("fullPageToBottom");a&&a.scrollIntoView(!1)}else if(e.type&&"111"===e.type){let t;e.extend&&"string"==typeof e.extend&&(t=JSON.parse(e.extend)),this.optionsStop.searchResult=t.searchResult}else{var a;let t;var n,o;if(this.firstNum=!1,0===e.wordIndex||1===e.wordIndex)e.relatedQaFileList&&(null===(n=e.relatedQaFileList)||void 0===n?void 0:n.length)>0&&(this.keyWordsList=[...this.keyWordsList,...e.relatedQaFileList]),this.PromiseAllArray.push(!0);if(e.extend&&"string"==typeof e.extend&&(t=JSON.parse(e.extend)),e.type&&"100"===e.type&&null!==(a=t)&&void 0!==a&&a.ban&&this.$message.error($t("miltw9j","该账号涉及敏感信息较多，已停用24小时","lang")),e.content.indexOf("End")>-1&&(e.content=e.content.replace("End",""),this.setpEnd=!0),t&&t.faceItemUrl&&(this.faceItemUrlV2=t.faceItemUrl),this.mofaAppId)r.length<=20&&(r+=e.content),bs?(this.avatar.speak(r,bs,!1),bs=!1):(this.avatar.speak(e.content,bs,!1),bs=!1),this.isOpenVoice?this.avatar.setVolume(1):this.avatar.setVolume(0);else null===(o=this.voiceInstance)||void 0===o||o.send(e.content);if(this.abilityId<1&&(this.compontentShow=!1),10==this.abilityId){this.compontentShow=!1;const{detail:t}=this.getTaskClickModule;2!=t.workType&&"0"!=wdetail.orkType||(this.optionsStop.isShow=!0)}e.reasoningContent&&(this.optionsStop.reasoningContent+=e.reasoningContent||""),e.content&&(p<1&&(this.optionsStop.reasoningTime=(new Date).getTime()-this.optionsStop.reasoningTime),p++,"2"===e.type?(this.optionsStop.value=`![](${e.content})`,this.writeEnd=!0):this.strAppend(e.content,null,e,"value"));let i=document.getElementById("fullPageToBottom");i&&i.scrollIntoView(!1),this.startVoice(!1,!0)}}})},convertAllMdImage(t){const e=/^!\[([^\]]*)\]\(([^)]+)\)$/;if(e.test(t)){const i=t.match(e);return Object(os["k"])(i[2])?`<img src="${i[2]}" />`:i[2]}return this.convertMdImage(t)},convertMdImage(t){const e=/!\[([^\]]*)\]\(([^)]+)\)/g;return e.test(t)?t.replace(e,(t,e,i)=>Object(os["k"])(i)?`<img src="${i}" alt="${e}" style="max-width: 100%; height: auto;">`:t):t},async postknowledge(t,e){this.recommendshow=!1;try{var i;const e=await Object(N["i"])({question:t,applyId:this.applyId,showType:4});(null===(i=e.data.keyWordsList)||void 0===i?void 0:i.length)>0&&(this.keyWordsList=[...this.keyWordsList,...e.data.keyWordsList],console.log("这里是相关推荐返回完毕")),this.PromiseAllArray.push(!0)}catch(error){console.error("Error in postknowledge:",error)}},async stopMessage({clearCollection:t=!0}={}){if(!0===t&&(this.writeEnd=!0),Object(pe["a"])(),await Object(N["n"])({chatRecordId:this.chatRecordId}),this.mofaAppId?(bs=!0,this.avatar.speak("",!1,!0),this.interactiveidle()):this.voiceInstance&&this.voiceInstance.finish(),this.optionsStop.isShow=!1,this.optionsStop.showText=!1,this.optionsStop.reasoningContent&&!this.optionsStop.value&&(this.optionsStop.reasoningStop=!0),this.optionsOn.isStart=!1,this.optionsOn.state="listen",this.optionsOn.value="",this.optionsOff.isShowSend=!1,this.optionsOff.stopState="send",this.optionsOff.isShowInput=!0,null!==this.dialogCollectionData&&t){this.$emit("changeVisible",!0),this.optionsStop.value=this.dialogCollectionData.stopValue,this.optionsStop.reasoningContent=this.dialogCollectionData.reasoningContent,this.compontentShow=this.dialogCollectionData.compontentShow,this.dialogCollectionData=null,us=!0,this.chatRecordId=void 0;const t=this.$refs.componentRef;t&&t.messageList&&(t.messageList=[])}else this.firstNum=!0;this.resetTyper(),this.isOpenTalk&&this.handleStopDialogue(),this.roomVoice=!1},endVoice(){if(ds=Date.now(),this.optionsStop.isShow=!1,this.optionsStop.showText=!1,this.optionsOn.isStart=!0,this.optionsOn.state="listen",this.optionsOn.value="",this.optionsOff.isShowSend=!1,this.optionsOff.stopState="send",this.optionsOff.isShowInput=!0,this.faceItemUrlV2=null,us=!0,null!==this.dialogCollectionData?this.dialogCollectionData.collectionCompleted&&(this.optionsStop.value=this.dialogCollectionData.stopValue,this.optionsStop.reasoningContent=this.dialogCollectionData.reasoningContent,this.compontentShow=this.dialogCollectionData.compontentShow,this.dialogCollectionData=null,this.chatRecordId=void 0,this.$emit("changeVisible",!0)):this.$nextTick(()=>{var t;null===(t=this.$refs.textAreaRef)||void 0===t||t.focus()}),this.isOpenTalk&&this.handleStartDialogue(),this.setpEnd){let t=JSON.parse(sessionStorage.getItem("getFirstSetpParams"));Object(b["c"])(t).then(t=>{this.setpEnd=!1})}sessionStorage.removeItem("isReplay")},startVoice(t=!0,e){null!==this.dialogCollectionData||1==e||void 0==e?this.optionsOff.isShowInput=!0:this.optionsOff.isShowInput=!1,!this.isOpenTalk&&this.abilityId<1?this.optionsStop.showText=!1:this.optionsStop.showText=!0,this.abilityId>0&&(this.optionsOff.isShowInput=!1),t&&(this.optionsStop.isShow=t),this.optionsOn.isStart=!0,this.optionsOn.state="",this.optionsOn.value="",this.optionsOff.isShowSend=!1},handleStartDialogue(){ls.start(),ds=Date.now(),hs&&clearInterval(hs),hs=setInterval(()=>{let t=Date.now();t-ds>(this.optionsOn.value?cs:rs)&&(""!==this.optionsOn.value?null!==this.dialogCollectionData?(this.dialogCollectionData.content=this.optionsOn.value,this.checkAbilityApiFn().then(this.sendMessageCollection),this.optionsOn.state="think",this.optionsOn.value="",this.handleStopDialogue()):(this.checkAbilityApiFn().then(this.doSendMessage(this.optionsOn.value,this.firstNum)),this.optionsOn.state="think",this.optionsOn.value="",this.handleStopDialogue()):(this.handleStopDialogue(),this.optionsOn.isStart=!1,this.roomVoice=!1))},500)},handleStopDialogue(){ls.end(),hs&&clearInterval(hs)},bindDialogueEvent(){ls.on("appResponseText",t=>{t&&t!==this.optionsOn.value&&(ds=Date.now(),this.optionsOn.value=t)})},handleStart(){const t=document.getElementById("videoRef");t&&(t.paused||t.pause()),this.optionsOn.isStart=!0,this.optionsOn.state="listen",this.optionsOn.value="",this.handleStartDialogue()},async handleSend(t){this.writeEnd=!1,this.packageName="";const e=this.optionsOff.value;if(await this.stopMessage({clearCollection:!1},{isStop:!0}),this.optionsStop.reasoningContent="",this.optionsStop.searchResult=[],this.optionsStop.reasoningStop=!1,this.optionsStop.value="",this.tipsData=[],this.PromiseAllArray=[],"stop"!==this.optionsOff.stopState){if(!us)return this.$message.warning($t("fowa7b9","问题生成中，请稍等","lang"));if(""===e.trim()&&""===this.uploadImg.trim())return!1;if(this.optionsOff.sendValue=e,null!==this.dialogCollectionData)this.dialogCollectionData.content=e,this.firstNum=!0,this.checkAbilityApiFn().then(this.sendMessageCollection());else{this.firstNum=!0;let e=this.optionsOff.sendValue;this.uploadImg&&(e=this.uploadImg+e),this.checkAbilityApiFn().then(this.doSendMessage(e,this.firstNum,null,t))}this.optionsOff.isShowSend=!0,this.optionsOff.stopState="stop",this.optionsOff.value="",this.$nextTick(()=>{var t;null===(t=this.$refs.textAreaRef)||void 0===t||t.focus()})}},async tipsItemClick(t,e){if(this.dialogCollectionData)return this.$message.warning(this.t($t("sa61og9","对话采集还未结束！","lang")));this.isOpenTalk?("listen"!==this.optionsOn.state&&await this.stopMessage({clearCollection:!1}),this.optionsOn.isStart=!0,this.optionsOn.state="think",this.checkAbilityApiFn().then(this.doSendMessage(t,this.firstNum,null,e)),this.handleStopDialogue()):((this.optionsOff.isShowSend||this.optionsStop.isShow)&&await this.stopMessage({clearCollection:!1}),this.optionsOff.value=t,this.handleSend(e))},async openDialogCollection(t){var e;return this.dialogCollectionData?this.$message.warning(this.t($t("sa61og9","对话采集还未结束！","lang"))):this.isOpenTalk&&"listen"!==this.optionsOn.state?this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang"))):this.isOpenTalk||!this.optionsOff.isShowSend&&!this.optionsStop.isShow?(this.dialogCollectionData=t,this.dialogCollectionData.timer=Date.now(),this.dialogCollectionData.stopValue=this.optionsStop.value,this.dialogCollectionData.reasoningContent=this.optionsStop.reasoningContent,this.dialogCollectionData.compontentShow=this.compontentShow,this.isOpenTalk?(this.optionsOn.isStart=!0,this.optionsOn.state="think",this.optionsStop.value="",this.handleStopDialogue()):(this.optionsOff.sendValue=t.content,this.optionsOff.isShowSend=!0,this.optionsOff.stopState="stop"),this.isOpenTalk&&(this.compontentShow=!1),this.useAbility=!1,this.$notify({type:"success",title:""+this.t($t("5xlapa6","开启对话采集","lang")),message:`${this.t($t("v4wgzg7","已开启对话采集","lang"))}《${t.content}》，${this.t($t("i1wpj1b","请配合我回答以下问题。","lang"))}`,position:"bottom-right",duration:3e3,showClose:!1}),this.compontentShow=!0,this.optionsStop.value="",await this.$nextTick(),void 0!==(null===(e=this.$refs.componentRef)||void 0===e?void 0:e.collectTitle)&&(this.$refs.componentRef.collectTitle=t.content,this.$refs.componentRef.loading=!0),this.checkAbilityApiFn().then(this.sendMessageCollection),void this.$emit("changeVisible",!1)):this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang")))},async sendMessageCollection(){let t=this,e="";if(t.tipsData=[],0==t.currAbility.count&&t.useAbility)return void(t.$refs.limitTalk.visible=!0);if(null===this.dialogCollectionData)return!1;if(this.dialogCollectionData&&""===this.dialogCollectionData.content)return!1;if(!us)return this.$message.warning(this.t($t("ydatbu8","数字人正在回复中","lang")));us=!1;let i="/backend-api/tuzai/chat/company/send/v2";this.endStatus=!1;const s=this.abilitySortList.find(t=>62===t.abilityEnum);if(this.dialogCollectionData.abilityId=s.abilityId,this.mofaAppId&&(bs=!0),!this.dialogCollectionData.dialogId){let t={toUserId:this.dialogCollectionData.applyId,abilityId:this.dialogCollectionData.abilityId,type:s.dialogType,processId:this.dialogCollectionData.processId};const{data:e,code:i}=await Object(we["d"])(t);200==i&&(this.dialogCollectionData.dialogId=e.dialogId)}let a={headers:{Authorization:Object(ne["a"])(),"Cache-Control":"no-cache",Connection:"keep-alive","Content-type":"application/json","x-platform":"pc",Language:y["a"].getLanguage()},method:"POST",body:JSON.stringify(this.dialogCollectionData)},n=[],o=-1;const l=this.$refs.componentRef;var r,c;l&&l.messageList&&(l.messageList.push({content:this.dialogCollectionData.content,role:"self",isLoad:!0}),l.messageList.push({content:"",role:"robote"}),n=l.messageList,o=(null===(r=n)||void 0===r?void 0:r.length)-1>=0?(null===(c=n)||void 0===c?void 0:c.length)-1:0,this.$nextTick(()=>{const t=document.getElementById("messageListRef");t&&(t.scrollTop=t.scrollHeight)}));this.optionsOn.value="",this.mofaAppId||this.voiceInstance.start(),Object(pe["b"])(i,a,(t,i)=>{if(console.log("0000000000000000000"),i)throw this.$message.error(this.t($t("glacv74","网络繁忙","lang"))),this.optionsOn.isStart=!1,hs&&clearInterval(hs),this.stopMessage(),i;if(t.data){let i=JSON.parse(t.data);var s;if(this.dialogCollectionData&&i.collectionCompleted)this.dialogCollectionData["collectionCompleted"]=i.collectionCompleted,null!==(s=this.currAbility)&&void 0!==s&&s.name&&(this.useAbility=!0);if(this.dialogCollectionData.dialogId=i.dialogId,i.type&&"114"===i.type){this.endStatus=!0,this.optionsStop.isShow=!1;let t=document.getElementById("fullPageToBottom");t&&t.scrollIntoView(!1),this.mofaAppId?this.avatar.speak("",!1,!0):this.voiceInstance.end(),(n[o].content.includes($t("qsf4va6","感谢您的配合","lang"))||n[o].content.includes($t("wkqxqw7","信息已收集完成","lang")))&&(this.dialogCollectionData["collectionCompleted"]=!0)}else{const t=i.content;this.mofaAppId?(e.length<=20&&(e+=i.content),bs?(this.avatar.speak(e,bs,!1),bs=!1):(this.avatar.speak(i.content,bs,!1),bs=!1),this.isOpenVoice?this.avatar.setVolume(1):this.avatar.setVolume(0)):this.voiceInstance.send(t);let s=null;if(o>-1){l&&l.hasOwnProperty("loading")&&(l.loading=!1),n[o-1].isLoad=!1,n[o].content+=t;const e=document.getElementById("messageListRef");e&&e.scrollTo({top:e.scrollHeight})}let a=document.getElementById("fullPageToBottom");a&&a.scrollIntoView(!1),this.strAppend(t,s,i)}}})},closeOpenTalk(){this.avatar&&this.mofaAppId&&(this.isOpenVoice?this.avatar.setVolume(1):this.avatar.setVolume(0))},handleOpenTalk(t){console.log(t,"strstrstrstr"),this.closeOpenTalk(),us&&"stop"!==this.optionsOff.stopState&&(this.mofaAppId?(console.log("11111111111"),this.avatar.speak(t,!0,!0)):(console.log("55555555555"),this.voiceInstance.start(),this.voiceInstance.send(t),this.voiceInstance.end()),this.optionsOff.stopState="stop")},strAppend(t,e=null,i,s="value"){fs+=t;let a=document.getElementsByClassName("anwser-text-span")[0];ps&&clearInterval(ps),ps=setInterval(()=>{var t;null!==e?e(fs[vs]):this.optionsStop[s]+=fs[vs]||"";let i=document.getElementById("fullPageToBottom");if(a&&a.scrollTo({top:a.scrollHeight}),i&&i.scrollIntoView(!1),vs++,i&&i.scrollTo({top:i.scrollHeight,behavior:"smooth"}),(null===(t=fs)||void 0===t?void 0:t.length)-1<vs){console.log("这里是文字渲染完毕");const t=this.recordList.at(-1);t.content=fs,t.done=!0,134342323==this.currAbility.abilityId&&(this.optionsStop.value=this.convertAllMdImage(this.optionsStop.value));const e=this.PromiseAllArray.findIndex(t=>"writeEnd"===t);if(-1===e){this.PromiseAllArray.push("writeEnd"),this.writeEnd=!0;const t=document.querySelectorAll(".item-predict-question");t.forEach(t=>{const e=t.getAttribute("have-click");e||(t.setAttribute("have-click","true"),t.addEventListener("click",t=>{this.tipsItemClick(t.target.innerText)}))});const e=document.querySelectorAll(".a-target-blank");e.forEach(t=>{const e=t.getAttribute("have-click");if(!e){t.setAttribute("have-click","true");const e=t.getAttribute("href");t.addEventListener("click",t=>{window.open(e)})}});const i=document.querySelectorAll(".img-open");i.forEach(t=>{const e=t.getAttribute("have-click");if(!e){t.setAttribute("have-click","true");const e=t.getAttribute("src");t.addEventListener("click",t=>{this.$mtFilePreview({viewUrl:e})})}});const s=document.querySelector(".answer-box");Array.from(s.querySelectorAll("video")).forEach(t=>{t.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault(),this.$emit("changeVoiceMute",!0),this.$mtFilePreview({viewUrl:t.src},{onClose:()=>{this.$emit("changeVoiceMute",!1)}})})})}this.resetTyper(),this.appendknowing=!0,this.currAbility.abilityId?this.getQuesData():this.getQuestionData({getQues:this.shareUserInfo.roomRecQues})}},50)},resetTyper(){ps&&clearInterval(ps),fs="",vs=0},changeDialogId(t){this.dialogId=t},closeUseAbility(){if(this.dialogCollectionData)return this.$message.warning(this.t($t("sa61og9","对话采集还未结束！","lang")));if(this.isOpenTalk){if("listen"!==this.optionsOn.state)return this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang")));this.setCrHome()}else{if(this.optionsOff.isShowSend||this.optionsStop.isShow)return this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang")));this.setCrHome()}this.getInfo()},getAbilityList(t,e=null){Object(we["rb"])({applyId:this.applyId}).then(t=>{if(t&&200==t.code){if(!t.data)return;this.abilitySortList=t.data.map(t=>{if(62===t.abilityEnum){var e,i;if(0===(null===(e=this.companyTaskTem)||void 0===e?void 0:e.length))return!1;if(1===(null===(i=this.companyTaskTem)||void 0===i?void 0:i.length))return{...t,name:this.companyTaskTem[0].tip,describe:this.companyTaskTem[0].describe}}return t}).filter(Boolean)}else this.$message.error(t.errMsg?t.errMsg:t.msg);e&&e()}).catch(()=>{})},contentFilter(t){if(t){t=t.replace(/(\r?\n){1,}|(\\[rn])+|\\n/g,"<br>");let s=/\【(.*?)\】/gi;var e=t.match(s);if(e){var i;let s=t.substring(0,t.indexOf("【")),a=t.substring(t.lastIndexOf("】")+1,null===(i=t)||void 0===i?void 0:i.length),n=e[0];return n=n.replace(/\【/g,"“"),n=n.replace(/\】/g,"”"),s+"<span style='color:#5D89F7'>"+n+"</span>"+a}return t}return""},async setChatRecordId(){let t={toUserId:this.currAbility.abilityId,type:this.currAbility.dialogType+""};const{data:e,code:i}=await Object(we["d"])(t);var s,a;200==i&&(this.topic=e,36==this.topic.type?Object(we["hb"])({type:this.topic.type,toUserId:this.topic.applyId,dialogId:this.topic.dialogId}).then(t=>{if(200==t.code){var e;if((null===(e=t.data.list)||void 0===e?void 0:e.length)<=0)return;this.info.selfIntroductionContent=JSON.parse(t.data.list[0]["extend"]).tip.content}}):Object(we["hb"])({type:this.topic.type,toUserId:null!==(s=null!==(a=this.topic.toUserId)&&void 0!==a?a:this.topic.roleId)&&void 0!==s?s:7,dialogId:this.topic.dialogId}).then(t=>{if(200==t.code){var e;if((null===(e=t.data.list)||void 0===e?void 0:e.length)<=0)return;this.info.selfIntroductionContent=JSON.parse(t.data.list[0]["extend"]).tip.content}}))},deepClone(t){if("object"==typeof t&&null!==t){var e=Array.isArray(t)?[]:{};for(var i in t)t.hasOwnProperty(i)&&(e[i]=deepClone(t[i]));return e}return t},touchAbility(t){if(65==t.abilityEnum)return this.smartBusinessShow=!0,void Object(we["T"])({agentId:this.applyId}).then(t=>{200==t.code&&(this.cardList=t.data,this.menuList=this.cardList.menuList,this.menuList.forEach((t,e)=>{var i;null!=t.files&&((null===(i=t.files)||void 0===i?void 0:i.length)>=3&&(t.files=t.files.splice(0,2)))}))}).catch(t=>{this.loading=!1});var e,i;47!=t.abilityEnum?62!=t.abilityEnum?(this.optionsStop.reasoningContent="",this.optionsStop.searchResult=[],this.useAbility=!0,this.currAbility=t,this.stopMessage(),this.getTip(this.currAbility.abilityId,this.currAbility.dialogType),this.setChatRecordId(),this.compontentShow=!0,this.optionsStop.isShow=!1,this.tipsLoading=!1,this.optionsStop.value="",this.firstNum=!0,gs&&clearTimeout(gs)):1===(null===(e=this.companyTaskTem)||void 0===e?void 0:e.length)?this.$emit("handleSendTip",0):this.$emit("changeMenu",!0):(null===(i=this.liveList)||void 0===i?void 0:i.length)>0?(this.stopMessage(),this.$router.push({path:`/virtualExplanation?applyId=${this.applyId}&language=${y["a"].getLanguage()} `,query:{id:this.liveList[0].id}})):this.$message.warning($t("k1e3mx8","暂无进行中的讲解","lang"))},touchAbilityEdu(t){var e;if(this.currAbility=t,62!=t.abilityType)this.stopMessage(),this.getTip(this.currAbility.abilityId,this.currAbility.dialogType),this.setChatRecordId(),this.compontentShow=!0,this.optionsStop.isShow=!0,this.tipsLoading=!1,this.optionsStop.value="",this.firstNum=!0,gs&&clearTimeout(gs);else if(null!==(e=this.companyTaskTem)&&void 0!==e&&e.length){const e=this.companyTaskTem.findIndex(e=>e.qaId==t.resourceId);this.$emit("handleSendTip",e)}else this.$emit("changeMenu",!0)},getTip(t,e){let i={referenceId:t||this.applyId,type:e||"36"};Object(N["g"])(i,this).then(t=>{this.tipsData=[],this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText="");const e=this.btnList.map(t=>t.menuName);(null===e||void 0===e?void 0:e.length)>0&&ms>(null===e||void 0===e?void 0:e.length)&&(ms=0),this.$nextTick(()=>{var i;this.tipsData=(null===(i=t.data)||void 0===i?void 0:i.length)>0?t.data:[],this.$refs.componentRef&&this.$refs.componentRef.hasOwnProperty("directText")&&(this.$refs.componentRef.directText=e[ms]),ms++})})},refreshData(){this.firstNum=!0,this.useAbility=!1,this.currAbility={},this.tipsData=[],this.compontentShow=!0,this.stopMessage(),this.optionsStop.isShow=!1,this.optionsStop.showText=!1,this.optionsStop.value="",this.$forceUpdate(),this.tipsLoading=!1},setCrHome(){if(this.dialogCollectionData)return this.$message.warning(this.t($t("sa61og9","对话采集还未结束！","lang")));if(this.$nextTick(()=>{this.isEduPrologue?this.isShow=!1:this.isShow=!0}),this.isOpenTalk){if("listen"!==this.optionsOn.state)return this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang")));this.useAbility=!1,this.currAbility={},this.tipsData=[],this.compontentShow=!0,this.firstNum=!0,this.stopMessage(),this.getQuestionData({recordId:null,getQues:this.shareUserInfo.roomIntroQues}),this.optionsStop.isShow=!1,this.optionsStop.showText=!1,this.tipsLoading=!1,this.optionsStop.value=""}else{if(this.optionsOff.isShowSend||this.optionsStop.isShow)return this.$message.warning(this.t($t("eyt79","数字人正在回复中！","lang")));this.useAbility=!1,this.currAbility={},this.tipsData=[],this.compontentShow=!0,this.firstNum=!0,this.stopMessage(),this.getQuestionData({recordId:null,getQues:this.shareUserInfo.roomIntroQues}),this.optionsStop.isShow=!1,this.optionsStop.showText=!1,this.tipsLoading=!1,this.optionsStop.value=""}},setTipDataPrFn(){this.isShow=!1,this.tipsData=[],this.useAbility=!1,this.info.selfIntroductionContent=""},handlelimitTalk(){this.optionsOff.isShowSend=!1,this.optionsOn.state="listen",this.stopMessage(),this.setCrHome(),this.useAbility=!1,this.$emit("setHome")},changeAbilityId(){"5"===this.abilityId&&"FolderShare"!==this.components[this.abilityId]?this.$set(this.components,this.abilityId,"FolderShare"):this.$emit("setHome")},async handleLatClick(){if(this.dialogCollectionData)return this.$message.warning(this.t($t("sa61og9","对话采集还未结束！","lang")));await this.stopMessage(),this.roomVoice=!0,this.handleStart()},openFiles(t,e){t.up=!0,t.files=this.menuListOrg[e].files},openFilesUp(t,e){t.up=!1;let i=Object(ie["cloneDeep"])(this.menuListOrg[e].files);t.files=i.splice(0,2)},handleFolderPreview({fileType:t,sameTypeList:e,sameTypeIndex:i}){switch(this.customDataList=e,t){case"image":this.$set(this.components,this.abilityId,"PhotoShare");break;case"video":this.$set(this.components,this.abilityId,"VideoShare");break;default:this.$set(this.components,this.abilityId,"ContentShare");break}this.$nextTick(()=>{this.$refs.componentRef&&(this.$refs.componentRef.activeIndex=i,this.$refs.componentRef.itemClick(i))})},loadXmovAvatarSDK(){return new Promise((t,e)=>{const i=document.createElement("script");i.src="https://media.xingyun3d.com/xingyun3d/general/litesdk/xmovAvatar@latest.js",i.onload=t,i.onerror=e,document.head.appendChild(i)})},interactiveidle(){this.avatar.interactiveidle()},async destroySDK(){try{this.avatar&&(await this.avatar.destroy(),console.log("SDK已销毁"))}catch(error){throw console.error("销毁SDK失败:",error),error}},async initAvatar(t,e){let i=this;try{window.XmovAvatar||await this.loadXmovAvatarSDK(),this.avatar=new XmovAvatar({containerId:"#sdk",appId:t,appSecret:e,gatewayServer:"https://nebula-agent.xingyun3d.com/user/v1/ttsa/session",onMessage(t){if(10003===t.code)return void(i.mofaAppId=!1);console.log("SDK message:",t);const e=document.getElementsByClassName("avatar-sdk-widget-container");for(let i=0;i<e.length;i++)e[i].style.display="none"},onWidgetEvent:t=>{},onVoiceStateChange(t){console.log(t,"status"),i.isSpeaking="start"===t,i.isSpeaking||i.interactiveidle()}}),this.avatar.init({onDownloadProgress:t=>{},onError:t=>{console.error("初始化失败：",t)}}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})}catch(error){console.error("初始化失败:",error),this.$message.error($t("wwzybxa","虚拟人初始化失败: ","lang")+error.message)}},linkclick(t,e){window.handleLinkClick(t,{href:e.link})},handleRocrdClick(){this.showRecord=!this.showRecord;let t=document.getElementById("toBottomBox");t&&t.scrollIntoView(!1)}}},Is=ws,Cs=(i("2caa"),i("19ad"),i("1a0c"),Object(h["a"])(Is,s,a,!1,null,"5488f991",null));e["a"]=Cs.exports},"2b95":function(t,e,i){t.exports=i.p+"167c3c6c08c37fbd176597f93d96e5bc.png"},"2c2b":function(t,e,i){t.exports=i.p+"1ea6e25591495ea19012bc6916cf7ab9.png"},"2c40":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t.initBox?t._e():e("div",{staticClass:"videoExplanation-content"},[e("div",{staticClass:"videoExplanation-content-name"},[t._v(t._s(t.btnName))]),e("div",{staticClass:"videoExplanation-contentBox"},[e("div",{staticClass:"videoList-left"},[e("video",{attrs:{src:t.selectVideo}}),e("div",{staticClass:"video-playBox",on:{click:t.startVideoPlay}},[e("img",{staticClass:"video_playLogo",attrs:{src:i("2d94")}})])]),e("div",{staticClass:"videoList-right"},[e("img",{staticClass:"right-arrow",attrs:{src:i("6158")}}),e("div",{staticClass:"video-list"},t._l(t.videoList,(function(i,s){return e("div",{key:s,staticClass:"video-item",on:{click:function(e){return t.playVideo(i,s)}}},[2==i.makeType?[e("img",{attrs:{src:i.content.imgs[0].url?i.content.imgs[0].url:i.content.imgs[0].fileUrl}}),t._m(0,!0)]:t._e(),1==i.makeType?[e("video",{attrs:{src:i.content}}),t._m(1,!0)]:t._e()],2)})),0),e("img",{staticClass:"right-next",attrs:{src:i("01c8")}})])])]),t.initBox?e("div",{staticClass:"play-videoBox-task"},[e("div",{staticClass:"play-videoBox"},[e("div",{staticClass:"close-btn",on:{click:t.closeVideo}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.playDetail&&2==t.playDetail.makeType,expression:"playDetail && playDetail.makeType == 2"}],staticClass:"PPT-playBox"},[e("div",{staticClass:"page-person"},[e("video",{attrs:{id:"videoContext",autoplay:"",muted:"",src:t.shareUserInfo.video},domProps:{muted:!0}})]),e("div",{staticClass:"PPT-rightBox"},[e("div",{staticClass:"img-box"},[t.playDetail&&2==t.playDetail.makeType?e("img",{attrs:{src:t.currentImage}}):t._e()]),t.playDetail&&2==t.playDetail.makeType?e("div",{staticClass:"videoText-box"},[e("marquee",{ref:"marqueeDiv",attrs:{scrollamount:"10"}},[t._v(" "+t._s(t.currentContent))])],1):t._e()])]),t.playDetail&&1==t.playDetail.makeType?e("video",{attrs:{src:t.playDetail.content,autoplay:"",controls:""}}):t._e()])]):t._e()])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-playBox"},[e("img",{staticClass:"video_playLogo",attrs:{src:i("2d94")}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-playBox"},[e("img",{staticClass:"video_playLogo",attrs:{src:i("2d94")}})])}],n=(i("6e0d"),i("eb9e"),i("832b")),o=i("81c3"),l=i("0c74"),r=(i("ed08"),i("3118")),c=i("d761"),d=i("010c"),u=i("e726");const h="xun-fei-news",p=[{name:$t("ga7a2","小燕","lang"),code:"xiaoyan"},{name:$t("g5so2","小宇","lang"),code:"xiaoyu"}];var g={components:{BackBtns:c["a"],AbilityItem:r["a"],LeftButtons:n["a"],Footer:d["a"]},data(){return{videoList:[],playStatus:!1,playDetail:null,currentIndex:0,isEndPlay:!1,applyId:null,readImgs:"",readImgStatic:"",companyAbilityId:null,initBox:!1,selectVideo:"",makeType:null,selectIndex:0}},props:{itemId:{type:String,default:null},shareUserInfo:{type:Object,default:null},btnName:{type:String,default:null}},watch:{playStatus(t){if(t){this.initBox=!0;const t=this;this.$nextTick((function(){t["videoContext"]=document.getElementById("videoContext"),t["videoContext"].addEventListener("timeupdate",(function(e){e.target.currentTime>2&&!t.playStatus&&(t["videoContext"].currentTime=0,t["videoContext"].play()),(e.target.currentTime<3&&t.playStatus||e.target.currentTime>7&&t.playStatus)&&(t["videoContext"].currentTime=5,t["videoContext"].play())}))}))}}},computed:{currentImage(){if(this.playDetail)return this.playDetail.content.imgs[this.currentIndex].url?this.playDetail.content.imgs[this.currentIndex].url:this.playDetail.content.imgs[this.currentIndex].fileUrl},currentContent(){if(this.playDetail)return this.playDetail.content.imgs[this.currentIndex].content}},mounted(){let t=this;t.applyId=this.shareUserInfo.id,t.companyAbilityId=this.itemId,this.$refs.marqueeDiv&&t.$refs.marqueeDiv.stop(),this.getDocumentListFun(),t["audio"]=new Audio,t.audio.addEventListener("timeupdate",(function(t){})),t.audio.addEventListener("playing",(function(e){t.playStatus=!0})),t.audio.addEventListener("play",(function(e){t.playStatus=!0})),t.audio.addEventListener("pause",(function(e){t.initPage=!1})),t.audio.addEventListener("ended",(function(e){t.playStatus=!1,t.stopVideo(),t.initPage=!1,t.currentIndex<t.playDetail.content.imgs.length-1?(t.currentIndex+=1,t.playText(t.playDetail.content.imgs[t.currentIndex].content)):(t.currentIndex=0,t.initBox=!1)})),t.audio.addEventListener("loadstart",(function(t){})),t.audio.addEventListener("loadedmetadata",(function(e){t.audio.play()})),t.audio.addEventListener("error",(function(e){t.playStatus=!1,t.stopVideo()}))},destroyed(){this.initBox=!1,this.currentIndex=0,this.playDetail=null,this.playStatus=!1,this.stopVideo(),this.audio.pause()},methods:{stopVideo(){this["videoContext"]=document.getElementById("videoContext"),this["videoContext"].currentTime=0,this["videoContext"].pause()},getCompanyHistoryByVideo(){let t={applyId:this.applyId,pageNum:1,pageSize:20,status:2,companyAbilityId:this.companyAbilityId};Object(o["c"])(t).then(t=>{if(t&&200==t.code){this.videoList=t.data.list;for(let t of this.videoList)2==t.makeType&&(t.content=JSON.parse(t.content),t.content.imgs=t.content.imgs.reverse());this.playDetail=this.videoList[0],1==this.videoList[0].makeType?(this.makeType=1,this.selectVideo=this.videoList[0].content):(this.makeType=2,this.selectVideo=this.videoList[0].content.imgs[0].fileUrl)}else this.$message.error(t.msg?t.msg:t.errMsg)})},getDocumentListFun(){let t={pageNum:1,pageSize:20,toUserId:this.companyAbilityId,applyId:this.applyId};Object(u["u"])(t).then(t=>{if(200==t.code){this.videoList=t.data.list.map(t=>({...t,content:{imgs:[{url:t.videoCoverUrl,fileUrl:t.videoCoverUrl,content:t.title}]}}))||[];for(let t of this.videoList)t.makeType&&2==t.makeType?t.content.imgs=t.content.imgs.reverse():t.content=t.videoUrl;this.videoList.length>0&&(this.playDetail=this.videoList[0],1==this.videoList[0].makeType?(this.makeType=1,this.selectVideo=this.videoList[0].content):(this.makeType=2,this.selectVideo=this.videoList[0].content.imgs[0].fileUrl))}})},playVideo(t,e){this.playDetail=t,this.selectIndex=e,this.makeType=t.makeType,2==t.makeType?this.selectVideo=this.videoList[e].content.imgs[0].fileUrl:1==t.makeType&&(this.playDetail.makeType=1,this.selectVideo=this.videoList[e].content)},startVideoPlay(){2==this.makeType?(this.readImgs=this.playDetail.content.gif,this.readImgStatic=this.playDetail.content.img,this.openReadText()):1==this.makeType&&(this.playStatus=!0)},openReadText(){if(!this.playStatus&&this.playDetail.content.imgs.length>0){let t=this.playDetail.content.imgs[this.currentIndex];this.playText(t.content)}this.playStatus&&this.audio.pause()},playText(t){let e=this;this.currentContent?(e.playStatus&&(e.audio.pause(),e.playStatus=!1,e.stopVideo()),Object(l["b"])({textToSynthesize:t,voiceName:e.shareUserInfo.micVoice}).then(t=>{let i=new Blob([t],{type:t.type}),s=window.URL.createObjectURL(i);e.audio.src=s})):this.$message.error($t("qqf6jw6","播报内容为空","lang"))},closeVideo(){this.initBox=!1,this.currentIndex=0,this.playStatus=!1,this.stopVideo(),this.audio.pause()},stopVideo(){this.stopXunFeiRead()},startXunFeiRead(){this.currentContent?this.playDetail&&this.$root.$emit("xunFeiPost",{eventType:"xun-fei-read",text:this.currentContent,voiceName:0==this.playDetail.sex?p[0].code:p[1].code,eventName:h}):this.$message.error($t("qqf6jw6","播报内容为空","lang"))},stopXunFeiRead(){this.$root.$emit("xunFeiPost",{eventType:"xun-fei-stop",eventName:h}),this.readImgs=""},goShowRoom(){this.playStatus&&this.audio.pause(),this.$router.push({path:"/showRoom",query:{applyId:this.shareUserInfo.applyId}})},changePage(t){this.playStatus&&this.audio.pause(),this.$router.push({path:t.path,query:{applyId:this.shareUserInfo.applyId}})}}},m=g,f=(i("abd7"),i("36f1")),v=Object(f["a"])(m,s,a,!1,null,"ce5cb7e2",null);e["default"]=v.exports},"2c9b":function(t,e,i){t.exports=i.p+"dd53974f7caafe6b751d0b61d583aa57.png"},"2caa":function(t,e,i){"use strict";i("f50b")},"2d6e":function(t,e,i){"use strict";i("017f")},"2d94":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAApCAYAAACyXOB4AAAB8UlEQVRYhc3YTYhOURjA8d8rCxslZaOUjY2ysmClFGIxGzaykGKhLCZlpZCPUCSlWEwpNdIoKRuZJBYTyUpGGrx2UpQaZiN6dMc9MjXzfnjv17/OvYt7zunfc5/Oec5pRcQqXMcS3MJVdRMREzGX1xGxKyLU1bLHz5if8YjYWIdY9phZQCoxEhErq5RahF9dMugA3uEYFleSbREx3SVS//IhIvZWEal+WI0beILNZQWqX6nEJjzCTaxoilRiD97keVcYg0plLMcInmFbEWJFSCU24AHuYG1TpBI7MYkLWNYUqcQRvMdwvwPLlJLn22W8xFCvg8qWSqzDPdzH+qZIJbbjBa51Wt+qlkoczPPt6HwfsyJvGktrUfvDW1zJC8wvTZFKZB6ncbFJUonbTZSqLdE7EU2T+ogdTZHKSvIzWJNt6tXU3J0ZxQm0U686pR7jZP6eQx1S7Twyowt1qFJqBudxrtuxriqprFw+jk+9dC5bajw/xD7vZ1BZUpO5zN3/GVy01Nd8vbk0yCRFSmVl76lcbCCKkHqIw3hVwFyzDLLNfMYhbC1SyACRytabs/hWpEyiX6mxfL2ZKkMmkf2+Vg/9JrAFu8sWmiUifnS4JGtHxL467jy/zyPzNCKGIqJV10XscH7FmLWpiNhfh8jfFuE3ngKLlh03auEAAAAASUVORK5CYII="},"2fe6":function(t,e,i){},"300b":function(t,e,i){"use strict";i.d(e,"zb",(function(){return n})),i.d(e,"n",(function(){return o})),i.d(e,"E",(function(){return l})),i.d(e,"d",(function(){return r})),i.d(e,"ob",(function(){return c})),i.d(e,"pb",(function(){return d})),i.d(e,"Y",(function(){return u})),i.d(e,"cb",(function(){return h})),i.d(e,"ib",(function(){return p})),i.d(e,"e",(function(){return g})),i.d(e,"Ab",(function(){return m})),i.d(e,"nb",(function(){return f})),i.d(e,"j",(function(){return v})),i.d(e,"Vb",(function(){return y})),i.d(e,"a",(function(){return b})),i.d(e,"O",(function(){return w})),i.d(e,"eb",(function(){return I})),i.d(e,"f",(function(){return C})),i.d(e,"Mb",(function(){return k})),i.d(e,"fb",(function(){return S})),i.d(e,"Lb",(function(){return x})),i.d(e,"u",(function(){return A})),i.d(e,"t",(function(){return L})),i.d(e,"W",(function(){return T})),i.d(e,"z",(function(){return O})),i.d(e,"y",(function(){return _})),i.d(e,"x",(function(){return $})),i.d(e,"S",(function(){return D})),i.d(e,"I",(function(){return j})),i.d(e,"gb",(function(){return R})),i.d(e,"Sb",(function(){return F})),i.d(e,"Pb",(function(){return E})),i.d(e,"B",(function(){return P})),i.d(e,"wb",(function(){return N})),i.d(e,"vb",(function(){return M})),i.d(e,"xb",(function(){return B})),i.d(e,"ub",(function(){return U})),i.d(e,"tb",(function(){return V})),i.d(e,"ab",(function(){return z})),i.d(e,"fc",(function(){return Q})),i.d(e,"Fb",(function(){return q})),i.d(e,"Gb",(function(){return W})),i.d(e,"Qb",(function(){return J})),i.d(e,"ic",(function(){return G})),i.d(e,"Eb",(function(){return H})),i.d(e,"F",(function(){return Y})),i.d(e,"Db",(function(){return Z})),i.d(e,"Cb",(function(){return X})),i.d(e,"Bb",(function(){return K})),i.d(e,"mb",(function(){return tt})),i.d(e,"Rb",(function(){return et})),i.d(e,"yb",(function(){return it})),i.d(e,"K",(function(){return st})),i.d(e,"kb",(function(){return at})),i.d(e,"rb",(function(){return nt})),i.d(e,"b",(function(){return ot})),i.d(e,"lb",(function(){return lt})),i.d(e,"Hb",(function(){return rt})),i.d(e,"sb",(function(){return ct})),i.d(e,"L",(function(){return dt})),i.d(e,"db",(function(){return ut})),i.d(e,"hb",(function(){return ht})),i.d(e,"s",(function(){return pt})),i.d(e,"P",(function(){return gt})),i.d(e,"V",(function(){return mt})),i.d(e,"r",(function(){return ft})),i.d(e,"ec",(function(){return vt})),i.d(e,"A",(function(){return yt})),i.d(e,"Tb",(function(){return bt})),i.d(e,"U",(function(){return wt})),i.d(e,"dc",(function(){return It})),i.d(e,"i",(function(){return Ct})),i.d(e,"v",(function(){return kt})),i.d(e,"Z",(function(){return St})),i.d(e,"D",(function(){return xt})),i.d(e,"bc",(function(){return At})),i.d(e,"ac",(function(){return Lt})),i.d(e,"k",(function(){return Tt})),i.d(e,"qb",(function(){return Ot})),i.d(e,"p",(function(){return _t})),i.d(e,"T",(function(){return $t})),i.d(e,"G",(function(){return Dt})),i.d(e,"jb",(function(){return jt})),i.d(e,"bb",(function(){return Rt})),i.d(e,"J",(function(){return Ft})),i.d(e,"Ub",(function(){return Et})),i.d(e,"m",(function(){return Pt})),i.d(e,"X",(function(){return Nt})),i.d(e,"l",(function(){return Mt})),i.d(e,"g",(function(){return Bt})),i.d(e,"cc",(function(){return Ut})),i.d(e,"Nb",(function(){return Vt})),i.d(e,"Ib",(function(){return zt})),i.d(e,"N",(function(){return Qt})),i.d(e,"Jb",(function(){return qt})),i.d(e,"H",(function(){return Wt})),i.d(e,"R",(function(){return Jt})),i.d(e,"gc",(function(){return Gt})),i.d(e,"C",(function(){return Ht})),i.d(e,"hc",(function(){return Yt})),i.d(e,"o",(function(){return Zt})),i.d(e,"Kb",(function(){return Xt})),i.d(e,"Ob",(function(){return Kt})),i.d(e,"Yb",(function(){return te})),i.d(e,"Wb",(function(){return ee})),i.d(e,"Zb",(function(){return ie})),i.d(e,"Xb",(function(){return se})),i.d(e,"M",(function(){return ae})),i.d(e,"h",(function(){return ne})),i.d(e,"c",(function(){return oe})),i.d(e,"q",(function(){return le})),i.d(e,"Q",(function(){return re})),i.d(e,"w",(function(){return ce}));var s=i("b775"),a=i("ed08");function n(t){return Object(s["b"])({url:"/role/getHotRole",method:"post",data:t})}function o(t){return Object(s["b"])({url:"/role/relation/add",method:"post",data:t})}function l(t){return Object(s["b"])({url:"/dialog/role/get",method:"post",data:t})}function r(t){return Object(s["b"])({url:"/dialog/getDialogByType",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/knowledge/company/import/doc",method:"post",data:t})}function d(t){return Object(s["b"])({url:"/knowledge/importDoc",method:"post",data:t})}function u(t){return Object(s["b"])({url:"/knowledge/feed/record",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function h(t){return Object(s["b"])({url:"/knowledge/feed/live/record",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function p(t){return Object(s["b"])({url:"/knowledge/base/getTouristBaseQa",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function g(t){return Object(s["b"])({url:"/knowledge/relation/save",method:"post",data:t})}function m(t){return Object(s["b"])({url:"/knowledge/company/qa/delete",method:"post",data:t})}function f(t){return Object(s["b"])({url:"/knowledge/company/base/knowledgeBaseAll",method:"post",data:t})}function v(t){return Object(s["b"])({url:"/knowledge/company/base/qa/save",method:"post",data:t})}function y(t){return Object(s["b"])({url:"/ability/company/dp_status/all",method:"post",data:t})}function b(t){return Object(s["b"])({url:"/ability/company/growth/cancel",method:"post",data:t})}function w(t){return Object(s["b"])({url:"/ability/company/getAbility",method:"post",data:t})}function I(t){return Object(s["b"])({url:"/role/company/getRole",method:"post",data:t})}function C(t){return Object(s["b"])({url:"/role/company/addOrEditRole",method:"post",data:t})}function k(t){return Object(s["b"])({url:"/role/company/getRoleUuid",method:"post",data:t})}function S(t){return Object(s["b"])({url:"/ability/company/dp_status/getRoleTask",method:"post",data:t})}function x(t){return Object(s["b"])({url:"/role/company/detail",method:"post",data:t})}function A(t){return Object(s["b"])({url:"/role/company/removeAll",method:"post",data:t})}function L(t){return Object(s["b"])({url:"/role/company/remove",method:"post",data:t})}function T(t){return Object(s["b"])({url:"/user/virtual/image/list",method:"post",data:t})}function O(t){return Object(s["b"])({url:"/image/theme/upload",method:"post",data:t})}function _(t){return Object(s["b"])({url:"/image/theme/update",method:"post",data:t})}function $(t){return Object(s["b"])({url:"/image/theme/detail",method:"post",data:t})}function D(t){return Object(s["b"])({url:"/user/virtual/background/list",method:"post",data:t})}function j(t){return Object(s["b"])({url:"/user/company/editIamge",method:"post",data:t})}function R(t){return Object(s["b"])({url:"/company/ability/user/menu/all",method:"post",data:t})}function F(t){return Object(s["b"])({url:"/company/menu/web/addOrEdit",method:"post",data:t})}function E(t){return Object(s["b"])({url:"/company/ability/bindKnowledgeQa",method:"post",data:t})}function P(t){return Object(s["b"])({url:"/company/ability/remove",method:"post",data:t})}function N(t){return Object(s["b"])({url:"/photo/share/upload",method:"post",data:t})}function M(t){return Object(s["b"])({url:"/photo/share/list/metaverse",method:"post",data:t})}function B(t){return Object(s["b"])({url:"/photo/share/upload/list",method:"post",data:t})}function U(t){return Object(s["b"])({url:"/photo/share/detail",method:"post",data:t})}function V(t){return Object(s["b"])({url:"/photo/share/update",method:"post",data:t})}function z(t){return Object(s["b"])({url:"company/ability/getIconList",method:"post",data:t})}function Q(t){return Object(s["b"])({url:"company/ability/updateSort",method:"post",data:t})}function q(t){return Object(s["b"])({url:"/role/share/reloadFileRole",method:"post",data:t})}function W(t){return Object(s["b"])({url:"/website/reloadFileWebsite",method:"post",data:t})}function J(t){return Object(s["b"])({url:"/knowledgeQabase/saveKnowledgeQabase",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function G(t){return Object(s["b"])({url:"/user/knowledge/qa/userUnbindBatch ",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function H(t){return Object(s["b"])({url:"/knowledge/reImportDoc",method:"post",data:t})}function Y(t){return Object(s["b"])({url:"/knowledgeQabase/downQabase?qabaseId="+t,method:"get",responseType:"blob"})}function Z(t){return Object(s["b"])({url:"/knowledgeQabase/queryQabaseFilePageList",method:"post",data:t})}function X(t){return Object(s["b"])({url:"/knowledgeQabase/qaknowRemoveBatch",method:"post",data:t})}function K(t){return Object(s["b"])({url:"/knowledgeQabase/qaknowRemoveAll",method:"post",data:t})}function tt(t){return Object(s["b"])({url:"/knowledgeQabase/isSuggestKnowledge",method:"post",data:t})}function et(t){return Object(s["b"])({url:"/knowledgeQabase/saveQabaseFile",method:"post",data:t})}function it(t){return Object(s["b"])({url:"/knowledge/import/pictureAndVideoExplanation",method:"post",data:t})}function st(t){return Object(s["b"])({url:"/knowledge/relation/editQaFileDescription",method:"post",data:t})}function at(t){return Object(s["b"])({url:"/knowledgeQabase/importFileExcel",method:"post",data:t})}function nt(t){return Object(s["b"])({url:"/room/ability/list/"+t.applyId,method:"get",data:t})}function ot(t){return Object(s["b"])({url:"/room/ability/add",method:"post",data:t})}function lt(t){return Object(s["b"])({url:"/tag",method:"post",data:t})}function rt(t){return Object(s["b"])({url:"/room/ability/delete/"+t.id,method:"post",data:t})}function ct(t){return Object(s["b"])({url:"/ability/room/search/v1",method:"post",data:t})}function dt(t){return Object(s["b"])({url:"/room/ability/edit",method:"post",data:t})}function ut(t,e){return Object(s["b"])({url:"/chat/recommendQues",method:"get",params:t})}function ht(t){return Object(s["b"])({url:"chat/tips",method:"get",params:t})}function pt(t){return Object(s["b"])({url:"/room/ability/check",method:"post",data:t})}function gt(t){return Object(s["b"])({url:"/ability/getAbilityCountLeft",method:"get",params:t})}function mt(t){return Object(s["b"])({url:"/knowledge/relation/catalogue/buildTree",method:"post",data:t})}function ft(t){return Object(s["b"])({url:"/knowledge/relation/catalogue/saveOrUpdate",method:"post",data:t})}function vt(t){return Object(s["b"])({url:"/live/update",method:"post",data:t})}function yt(t){return Object(s["b"])({url:"/knowledge/relation/catalogue/remove",method:"post",data:t})}function bt(t){return Object(s["b"])({url:"/knowledge/relation/catalogue/updateSort",method:"post",data:t})}function wt(t){return Object(s["b"])({url:"/user/agent/"+t,method:"get"})}function It(t){return Object(s["b"])({url:"/apply/update/"+t.applyId,method:"post",data:t})}function Ct(t){return Object(s["b"])({url:"user/getIntroduction",method:"post",data:t})}function kt(t){return Object(s["b"])({url:"/live/add",method:"post",data:t})}function St(t){return Object(s["b"])({url:"/live/list/"+t.id,method:"get"})}function xt(t){return Object(s["b"])({url:"/live/delete",method:"post",data:t})}function At(t){return Object(s["b"])({url:"/live/initiate/"+t,method:"post"})}function Lt(t){return Object(s["b"])({url:"/live/end/"+t,method:"post"})}function Tt(t){return Object(s["b"])({url:"billing/check/"+t,method:"post"})}function Ot(t){return Object(s["b"])({url:"/live/"+t,method:"get"})}function _t(t){return Object(s["b"])({url:"/card/add",method:"post",data:t})}function $t(t){return Object(s["b"])({url:"/card/"+t.agentId,method:"post",data:t})}function Dt(t){return Object(s["b"])({url:"/card/edit",method:"post",data:t})}function jt(t){return Object(s["b"])({url:"user/virtual/voice/list",method:"post",data:t})}function Rt(){return Object(s["b"])({url:"v1/model/list",method:"get"})}function Ft(t){return Object(s["b"])({url:"knowledge/relation/editOpenQa",method:"post",data:t})}function Et(t){return Object(s["b"])({url:"/live/space/list/"+t.id,method:"get"})}function Pt(t){return Object(s["b"])({url:"/knowledge/base/bindKnowledgeQa",method:"post",data:t})}function Nt(t){return Object(s["b"])({url:"/user/knowledge/base/knowledgeBaseAll",method:"post",data:t})}function Mt(t){return Object(s["b"])({url:"/menu/knowledge/relation/baseBound ",method:"post",data:t})}function Bt(t){return Object(s["b"])({url:"/knowledge/base/agentBaseAll",method:"post",data:t})}function Ut(t){return Object(s["b"])({url:"/knowledge/base/updateAgentBase",method:"post",data:t})}function Vt(t){return Object(s["b"])({url:"/knowledge/base/saveAgentBase",method:"post",data:t})}function zt(t){return Object(s["b"])({url:"/knowledge/base/removeBatchAgent",method:"post",data:t})}function Qt(t){return Object(s["b"])({url:"/knowledge/base/findBaseQaGroup",method:"post",data:t})}function qt(t){return Object(s["b"])({url:"/user/knowledge/base/qa/removeBatch",method:"post",data:t})}function Wt(t){return Object(s["b"])({url:"/knowledge/baseqa/editFileBaseqa",method:"post",data:t})}function Jt(t){return Object(s["b"])({url:"/ds/dict/page",method:"post",data:t})}function Gt(t){return Object(s["b"])({url:"/virtual/background/customAdd",method:"post",data:t})}function Ht(t){return Object(s["b"])({url:"/virtual/background/removeBatch",method:"post",data:t})}function Yt(t){return Object(s["b"])({url:"/virtual/image/agent/customAdd",method:"post",data:t})}function Zt(){return Object(s["b"])({url:"/broadcastAndPreach/list",method:"get"})}function Xt(t){return Object(s["b"])({url:"/broadcastAndPreach/remove",method:"get",params:t})}function Kt(t){return Object(s["b"])({url:"/broadcastAndPreach/saveOrUpdate",method:"post",data:t})}function te(t){return Object(s["a"])({url:"/terminal/arm/list",method:"get",params:t})}function ee(t){return Object(s["a"])({url:"/terminal/arm/add",method:"post",data:t})}function ie(t){return Object(s["a"])({url:"/terminal/arm/update",method:"post",data:t})}function se(t){return Object(s["a"])({url:"/terminal/arm/delete",method:"post",data:t})}function ae(t){return Object(s["b"])({url:"/user/virtual/faceitem/list",method:"post",data:t})}function ne(t){return Object(s["b"])({url:"/agent/packet/list",method:"get",data:t})}function oe(t){return Object(s["b"])({url:"/agent/packet/addList",method:"post",data:t})}function le(t){return Object(s["b"])({url:"/agent/packet/status",method:"post",data:t})}function re(t){return Object(s["b"])({url:"/packet/personal",method:"post",data:t})}function ce(t){return Object(s["b"])({url:"apply/create",method:"post",data:t})}},3118:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.detail?e("div",{staticClass:"ability-item"},[e("img",{attrs:{src:t.detail.headIcon,alt:""}}),e("div",{staticClass:"abilityInfo"},[e("div",{staticClass:"ability-item-name",style:"color:"+t.textColor},[t._v(t._s(t.detail.name))]),e("div",{staticClass:"ability-item-txt"},[t._v(t._s(t.detail.title))]),t.showTags?e("div",{staticClass:"ability-item-tag"},[t._v(t._s(1==t.detail.openType?$t("kgsv2","用户","lang"):$t("lydg2","系统","lang")))]):t._e(),(t.detail.description||t.detail.tip)&&t.showTips?e("div",{staticClass:"ability-item-tips"},[t._v(t._s(t.detail.description||t.detail.tip)+" ")]):t._e(),t.statusShow&&4==t.detail.status?e("div",{staticClass:"ability-item-status"},[t._v($t("dxb9y3","审核中","lang"))]):t._e(),t.deleteShow?e("span",{staticClass:"work-chat-icon work-chat-icon-removes ability-item-delete",staticStyle:{cursor:"pointer"},on:{click:function(e){return e.stopPropagation(),t.deleteItem.apply(null,arguments)}}}):t._e()])]):t._e()},a=[],n={props:{showTips:{type:Boolean,default:!1},showTags:{type:Boolean,default:!1},detail:{type:Object,default:null},textColor:{type:String,default:"#242E3A"},deleteShow:{type:Boolean,default:!1},statusShow:{type:Boolean,default:!1}},methods:{deleteItem(){this.$emit("deleteItem",this.detail)}}},o=n,l=(i("b455"),i("36f1")),r=Object(l["a"])(o,s,a,!1,null,null,null);e["a"]=r.exports},3146:function(t,e,i){"use strict";i("6a31")},"31fc":function(t,e,i){"use strict";i("5a46")},3337:function(t,e,i){"use strict";i("e9a0")},"33bb":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.shareUserInfo?e("div",{staticClass:"pageShare"},[e("div",{staticClass:"videoExplanation-content"},[e("div",{staticClass:"videoExplanation-content-name"},[t._v(t._s(t.btnName))]),e("div",{staticClass:"video-list"},[e("div",{staticClass:"photoList-left"},[t.selectImage?e("img",{attrs:{src:t.selectImage}}):t._e()]),e("div",{staticClass:"photoList-right"},[e("img",{staticClass:"right-arrow",attrs:{src:i("6158")}}),e("div",{staticClass:"photo-smallList"},t._l(t.videoList,(function(i,s){return e("div",{key:s,staticClass:"photo-item",on:{click:function(e){return t.changeItem(s)}}},[e("div",{staticClass:"photo-item-imageBox"},[e("img",{attrs:{src:i.url?i.url:i.content.imgs[0].fileUrl}})]),i.photoShareName?e("div",{staticClass:"photo-item-name"},[t._v(" "+t._s(i.photoShareName)+" ")]):t._e()])})),0),e("img",{staticClass:"right-next",attrs:{src:i("01c8")}})])])]),e("div",{staticClass:"play-videoBox"},[e("div",{staticClass:"videoText-box"},[e("marquee",{ref:"marqueeDiv",attrs:{scrollamount:"10"}},[t._v(" "+t._s(t.currentContent))])],1)]),"zh_CN"==t.languageType?[e("Footer")]:t._e()],2):t._e()},a=[],n=(i("6e0d"),i("eb9e"),i("832b")),o=(i("81c3"),i("8327")),l=i("ed08"),r=i("3118"),c=i("d761"),d=i("010c"),u=i("300b"),h=i("0c74"),p=i("e726");const g="xun-fei-news",m=[{name:$t("ga7a2","小燕","lang"),code:"xiaoyan"},{name:$t("g5so2","小宇","lang"),code:"xiaoyu"}];var f={components:{BackBtns:c["a"],AbilityItem:r["a"],LeftButtons:n["a"],Footer:d["a"]},data(){return{videoList:[],playStatus:!1,playDetail:null,currentIndex:0,isEndPlay:!1,shareUserInfo:null,applyId:null,readImgs:"",companyAbilityId:null,preViewList:[],selectImage:"",languageType:""}},props:{itemId:{type:String,default:null},applyIds:{type:String,default:null},btnName:{type:String,default:null}},computed:{currentImage(){if(this.playDetail)return this.playDetail.content.imgs[this.currentIndex].url?this.playDetail.content.imgs[this.currentIndex].url:this.playDetail.content.imgs[this.currentIndex].fileUrl},currentContent(){if(0!=this.videoList.length)return this.videoList[this.currentIndex].photoShareDesc},...Object(o["c"])(["userInfo"])},mounted(){let t=this;this.languageType=localStorage.getItem("lang"),this.companyAbilityId=this.itemId,t.applyId=l["a"].getQueryVariable(window.location.href,"applyId");let e=window.localStorage.getItem("shareUserInfo-"+t.applyId);e&&(this.shareUserInfo=JSON.parse(e)),this.getDocumentListFun(),t["audio"]=new Audio,t.audio.addEventListener("timeupdate",(function(t){console.log("timeupdate:"+t)})),t.audio.addEventListener("playing",(function(e){console.log("playing:"+e),t.playStatus=!0})),t.audio.addEventListener("play",(function(t){console.log("play:"+t)})),t.audio.addEventListener("pause",(function(e){t.playStatus=!1,t.initPage=!1})),t.audio.addEventListener("ended",(function(e){t.playStatus=!1,t.initPage=!1})),t.audio.addEventListener("loadstart",(function(t){console.log("loadstart:"+t)})),t.audio.addEventListener("loadedmetadata",(function(e){console.log("loadedmetadata:"+e),t.audio.play()})),t.audio.addEventListener("error",(function(t){console.log("error:"+t)}))},methods:{previewPhoto(t){this.preViewList=[t.url]},changeItem(t){this.currentIndex=t,this.selectImage=this.videoList[this.currentIndex].url},getPhotoListMetaverse(){let t={pageNum:1,pageSize:20,companyAbilityId:this.companyAbilityId,userId:this.applyId};Object(u["vb"])(t).then(t=>{t&&200==t.code?(this.videoList=t.data.list,this.selectImage=this.videoList&&this.videoList.length>0?this.videoList[0].url:""):this.$message.error(t.msg?t.msg:t.errMsg)})},getDocumentListFun(){const t=this;let e={pageNum:1,pageSize:20,toUserId:t.companyAbilityId,applyId:t.applyId};Object(p["u"])(e).then(e=>{200==e.code&&(t.videoList=e.data.list.map(t=>({...t,url:t.imgUrl||t.viewUrl,photoShareDesc:t.title}))||[],t.selectImage=t.videoList&&t.videoList.length>0?t.videoList[0].url:"")})},playVideo(t){this.playDetail=t,this.readImgs=this.playDetail.content.gif,this.openReadText()},openReadText(){if(!this.playStatus){let t=-1;for(let e=0;e<this.playDetail.content.imgs.length;e++)t=e;if(console.log(t),t>-1){this.welcomeMessageIndex=t;let e=this.playDetail.content.imgs[t];this.playText(e.content)}}this.playStatus&&this.audio.pause()},playText(t){let e=this;this.currentContent?(e.playStatus&&(e.audio.pause(),e.playStatus=!1),Object(h["b"])({textToSynthesize:t,voiceName:this.shareUserInfo.micVoice}).then(t=>{let i=new Blob([t],{type:t.type}),s=window.URL.createObjectURL(i);e.audio.src=s})):this.$message.error($t("qqf6jw6","播报内容为空","lang"))},closeVideo(){this.playDetail=null,this.playStatus=!1,this.audio.pause()},stopVideo(){this.stopXunFeiRead()},startXunFeiRead(){this.currentContent?this.playDetail&&this.$root.$emit("xunFeiPost",{eventType:"xun-fei-read",text:this.currentContent,voiceName:2==this.playDetail.content.audio||4==this.playDetail.content.audio?m[1].code:m[0].code,eventName:g}):this.$message.error($t("qqf6jw6","播报内容为空","lang"))},stopXunFeiRead(){this.$root.$emit("xunFeiPost",{eventType:"xun-fei-stop",eventName:g}),this.readImgs=""},goShowRoom(){this.playStatus&&this.audio.pause(),this.$router.push({path:"/showRoom",query:{applyId:this.shareUserInfo.applyId}})},changePage(t){this.playStatus&&this.audio.pause(),this.$router.push({path:t.path,query:{applyId:this.shareUserInfo.applyId}})}}},v=f,y=(i("e964"),i("36f1")),b=Object(y["a"])(v,s,a,!1,null,"1831275c",null);e["default"]=b.exports},"33c7":function(t,e,i){},3409:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI3SURBVHgBtZa/TxRBFMffm1sOVDRLjAWN3pFYXaO2V4i1BfwHegkUVpyVgUap1MrrLO4M/AlQaKsUWAqFVCbsKYlnNIRNOAPH3c7w3rJ3IfBmWH59ks3uzsx+v5OZN+8tgoPyXOBf1d6UMWaUXnPJxYR0rSLgQtTuLL59lq/bNFBqfPE+yKm+zBw9jkIKSGQ+akezkpE62jBT25gi8ZW04owBeMrfTFd/lp0GMx82XhowFXr04fT4gPiONQ439paIZ56Inx9jnr+evFPpGSRrvgJnm7lEqNvRfd4Tj9+Up17ZxAeyCoqF65Af7ocRupjfm3vwda0J3378txn4SZA8wmT2gTRqaNCDice34rvEVrMD1Y//IKS7xE4mGlI0+3Gw4BLvTmCSxgxkxWiH/o4qK9r5Manzwd1rTvHDJsXCDbFPIT7kML0ndRYLg5CWfLI3Ajk2EDd3+GYW0jJygsGlwgZ1qWO9sQtpaWy2bV2h1SBotCAty2vbYjvlqFWljVmSP2rC1nYEJ8FjbAcOjVlUVzwt5p/dPQ21T3+dJtxXpTE2dEcvxCdkuvbrMzjSM58JDttuZAW0P+t/WrD8vRlPRIKWZ/7NxO1SfJIoMZVcyY6XwJF3JEJDBYgf4jCNK5Exs3BRkFa3uvXOAedvfQEmrNGtBcyxLBWXPUSuSqetDSEcERcNGE7hSDUCEZ9ACmhDv9Cal6Sij64P2SjT541pMON4kBT9RLBOtzr9ziy1KMwrpXxo09gHPGniExo5g30AAAAASUVORK5CYII="},"34d4":function(t,e,i){},3728:function(t,e,i){t.exports=i.p+"7f27dcfb928c4dce0fabe1d136063e1c.png"},"37ae":function(t,e,i){"use strict";i("ce82")},"39a7":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"menu-box"},[e("div",{staticClass:"menu-wrap",class:{hide:!t.showMenu}},[e("div",{staticClass:"context-box"},[e("div",{staticClass:"scroll-title"},[e("div",{staticClass:"title-text"},[t._v(t._s(t.showTitle))]),e("div",{staticClass:"title-icon",on:{click:function(e){return t.$emit("update:showMenu",!1)}}},[e("i",{staticClass:"work-chat-icon work-chat-icon-right1",staticStyle:{"font-size":"8px"}})])]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.dataLoading&&1==t.pageNum,expression:"dataLoading && pageNum == 1"}],staticStyle:{height:"calc(100% - 20px)","overflow-x":"hidden"},attrs:{"element-loading-text":$t("s5am5t5","拼命加载中","lang"),"element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(91, 113, 136, 0.5)"}},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMoreData,expression:"loadMoreData"}],staticClass:"scroll-box",attrs:{"infinite-scroll-distance":"10","infinite-scroll-disabled":t.isAllData,"infinite-scroll-immediate":"false"}},[t._l(t.dataList,(function(i,s){return e("div",{staticClass:"scroll-item",on:{click:function(e){return t.itemClick(i,s)}}},[e("img",{class:[1==i.type?"item-img":"item-img-collection"],attrs:{src:i.img,alt:""}}),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:i.label,placement:"top"}},[e("div",{staticClass:"item-name"},[t._v(t._s(i.label))])])],1)})),t.dataLoading&&1!=t.pageNum?e("div",{staticClass:"dialog-loading-box"},[e("img",{staticClass:"dialog-loading",attrs:{src:i("2b95"),alt:"",srcset:""}})]):t._e()],2)])])])])},a=[],n=(i("6e0d"),i("13b1"),i("eb9e"),i("81c3"));const o=15;var l={props:{applyId:{type:String,default:""},sysInput:{type:Boolean,default:!1},sendMessageParam:{type:Object,default:()=>{}},tipsData:{type:Array,default:()=>[]},userId:{type:String,default:""},isMy:{type:Boolean,default:!1},showMenu:{type:Boolean,default:!1}},data(){return{menuList:[{label:this.t($t("cv1jfs4","我的关注","lang")),value:1,img:i("b393")},{label:this.t($t("1t3lqk5","TA的关注","lang")),value:1,img:i("41a6")},{label:this.t($t("j0i3pv4","采集服务","lang")),value:2,img:i("41a6")}],dataList:[],questionProps:{showQuestionTemplate:!1,questionTemplateData:null},showTitle:this.t($t("cv1jfs4","我的关注","lang")),dataLoading:!1,pageNum:1,dataValue:1,isAllData:!1}},methods:{menuMethod(t){this.$emit("update:showMenu",!1),this.showTitle=t.label,this.dataValue=t.value,this.dataLoading=!1,1===t.value?(this.pageNum=1,this.isAllData=!1,this.dataList=[],this.getFriendList()):2===t.value&&(this.$emit("setTipData"),this.dataList=this.tipsData.map(e=>({...e,type:t.value,label:e.tip,img:"QA"==e.answer?i("da01"):i("d110")})))},itemClick(t,e){if(1==t.type){if(!t.applyId)return void this.$message.warning($t("vafm5z8","该用户没有数字人","lang"));window.open("/room/#/showRoom?applyId="+t.applyId,"_blank")}else 2==t.type&&this.sendTipsMessage(e)},sendTipsMessage(t){let e=this;if(e.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));if(this.tipsData.length<=t)return this.$message.warning($t("gr8inzb","数据已更新，请刷新页面","lang"));let i=this.tipsData[t];-1!=i.type&&("Form"==i["answer"]?(i["applyId"]=this.sendMessageParam.applyId,this.$emit("sendTipsMessage",{type:4,data:i})):(this.sendMessageParam["content"]=i.tip,this.sendMessageParam["processId"]=i.qaId,this.$emit("sendTipsMessage",{type:2,data:this.sendMessageParam})))},getFriendList(){if(!this.userId)return this.$message.error($t("o6bthd7","用户信息未找到","lang"));let t={pageSize:o,pageNum:this.pageNum,group:!1,userId:this.userId};this.dataLoading=!0,Object(n["e"])(t).then(t=>{t&&200===t.code&&(t.data.list.length<o&&(this.isAllData=!0),1==this.pageNum?this.dataList=t.data.list.filter(t=>"Friend"==t._type).map(t=>({...t,type:1,label:t.friendName,img:t.avatarUrl})):this.dataList=this.dataList.concat(t.data.list.filter(t=>"Friend"==t._type).map(t=>({...t,type:1,label:t.friendName,img:t.avatarUrl}))))}).finally(()=>this.dataLoading=!1)},loadMoreData(){1!=this.dataValue||this.dataLoading||(this.pageNum++,this.getFriendList())}},mounted(){this.showTitle=this.menuList[2].label,this.dataList=this.tipsData.map(t=>({...t,type:2,label:t.tip,img:"QA"==t.answer?i("da01"):i("d110")}))}},r=l,c=(i("7ffa"),i("36f1")),d=Object(c["a"])(r,s,a,!1,null,"94e3df3e",null);e["a"]=d.exports},"3df0":function(t,e,i){t.exports=i.p+"7a2d7406ac2c73259578d1c244e8b4a5.png"},"3e74":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.shareUserInfo?e("div",{staticClass:"websiteService-page"},[e("div",{staticClass:"dialogue-box"},[e("div",{staticClass:"videoExplanation-content-name"},[t._v(t._s(t.btnName))]),e("div",{staticClass:"dialogue-list",attrs:{id:"qa"}},t._l(t.messageList,(function(i,s){return e("div",{key:s},[e("room-dialogue-item",{attrs:{index:s,"item-detail":i},on:{sendMessageList:t.sendMessageList}})],1)})),0),e("div",{staticClass:"dialogue-inputBox"},[e("div",{staticClass:"bottom-tips"},[e("div",{staticClass:"bottom-tips-type"},[e("div",{staticClass:"tips-list",staticStyle:{width:"calc(100% - 30px)","overflow-x":"auto",display:"flex"},on:{wheel:t.handleScroll}},t._l(t.tipsData,(function(i,s){return e("div",{key:s,staticClass:"bottom-tips-btn",style:-1==i.type?"color:#C4CADC":"",on:{click:function(e){return e.stopPropagation(),t.sendTipsMessage(s)}}},[t._v(" "+t._s(i.tip)+" ")])})),0)])]),e("div",{staticStyle:{width:"100%"}},[t.sysInput?t._e():e("div",{staticStyle:{height:"32px"}}),t.sysInput?e("div",{staticClass:"bottom-stopBox",on:{click:t.stopSysInput}},[e("div",{staticClass:"bottom-stop"},[e("img",{staticClass:"bottom-stop-logo",attrs:{src:i("d422")}}),e("div",{staticClass:"bottom-stop-text"},[t._v($t("al0wa54","停止响应","lang"))])])]):t._e(),e("div",{staticClass:"flex y_center",staticStyle:{width:"100%"}},[e("el-input",{attrs:{placeholder:$t("nfyu98","点击输入聊天信息","lang")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.seachEnter.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),e("div",{staticClass:"send-btn",style:"zh_CN"==t.languageType?`background: url(${i("d824")}) no-repeat;`:`background: url(${i("f565")}) no-repeat;`,on:{click:t.doSendMessage}})],1)])])]),0!==t.dataList.length?e("div",{staticClass:"contentSharing-page-list"},[e("div",{staticClass:"contentSharing-page-name"},[t._v($t("gkl6n04","网站服务","lang"))]),e("div",{staticClass:"dataList"},t._l(t.dataList,(function(s,a){return e("div",{key:a,staticClass:"contentSharing-page-item",on:{click:function(e){return t.selectItem(a)}}},[e("div",{staticClass:"contentSharing-page-item-left"},[e("img",{attrs:{src:i("e370")}}),e("div",{class:t.dataIndex==a?"contentSharing-page-item-contentActive":"contentSharing-page-item-content"},[e("div",{staticClass:"item-content-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"item-content-info"},[t._v(t._s(s.url))])])]),e("div",{staticClass:"contentSharing-page-item-right"}),e("img",{staticClass:"contentSharing-page-itemShare",attrs:{src:i("670b")},on:{click:function(e){return t.shareUrl(s)}}})])})),0)]):t._e(),e("questionTemplate",{attrs:{showDialog:t.showQuestionTemplate,dialogData:t.questionTemplateData},on:{closeDialog:t.showQuestionTemplateHide}})],1):t._e()},a=[],n=(i("6e0d"),i("13b1"),i("eb9e"),i("832b")),o=i("81c3"),l=(i("8327"),i("d3f4")),r=i("5742"),c=i("ed08"),d=i("d761"),u=i("010c"),h=i("73e3"),p={components:{BackBtns:d["a"],RoomDialogueItem:l["a"],LeftButtons:n["a"],questionTemplate:r["a"],Footer:u["a"]},data(){return{messageList:[],dataList:[],content:"",shareUserInfo:null,sendMessageParam:{dialogId:"",content:"",type:"1",websiteId:"",timer:""},chatId:"",tipsData:[],showQuestionTemplate:!1,questionTemplateData:null,share:!0,rightSta:!0,icon:"",name:"",messageTimeLine:[],applyId:"",dataIndex:0,companyAbilityId:null,stopId:null,sysInput:!1,languageType:""}},props:{itemId:{type:String,default:null},applyIds:{type:String,default:null},btnName:{type:String,default:null}},watch:{sysInput(t){this.$emit("flushSysInput",t)}},mounted(){let t=this;this.languageType=localStorage.getItem("lang"),this.applyId=this.applyIds,this.companyAbilityId=this.itemId;let e=window.localStorage.getItem("shareUserInfo-"+this.applyId);e&&(this.shareUserInfo=JSON.parse(e)),t.chatId=(Math.floor(999999999*Math.random())+1).toString(),window.localStorage.getItem("dialogId")&&(t.chatId=window.localStorage.getItem("dialogId")),this.sendMessageParam.dialogId=t.chatId,this.getWebsiteByUserId()},methods:{stopSysInput(){let t=this;Object(h["m"])({chatRecordId:t.stopId}).then(t=>{}),t.sysInput=!1;let e=-1;for(let i=0;i<t.messageList.length;i++)if(-1==t.messageList[i].type){e=i;break}e>-1&&(t.messageList=c["a"].deleteArrByIndex(t.messageList,e))},shareUrl(t){window.open(t.url)},getWebsiteByUserId(){let t=this;Object(o["k"])({createUserId:this.applyId,companyAbilityId:this.companyAbilityId}).then(e=>{if(e&&200==e.code){if(t.dataList=e.data.list,t.dataList&&t.dataList.length>0){let e=window.localStorage.getItem("message-list-website-"+t.applyId+"-"+(t.dataList.length>0?t.dataList[t.dataIndex].id:0));e?t.messageList=JSON.parse(e):t.dataList[t.dataIndex].head&&t.messageList.push({type:1,isSeaner:!1,content:t.dataList[t.dataIndex].head})}this.messageList.length>0&&this.$nextTick((function(){let t=this.messageList[this.messageList.length-1],e=document.getElementById(t.chatRecordId+"_item");e&&e.scrollIntoView(!1)}))}else this.$message.error(e.msg?e.msg:e.errMsg)})},selectItem(t){let e=this;if(e.dataIndex!=t){e.dataIndex=t;let i=window.localStorage.getItem("message-list-website-"+e.applyId+"-"+(e.dataList.length>0?e.dataList[e.dataIndex].id:0));i?e.messageList=JSON.parse(i):(e.messageList=[],e.dataList[e.dataIndex].head&&e.messageList.push({type:1,isSender:!1,content:e.dataList[e.dataIndex].head}))}},goShowRoom(){this.$router.push({path:"/showRoom",query:{applyId:this.applyId}})},sendMessageList(t,e){let i=this,s=this.messageList[t],a=s.extend,n={content:a[e].tip,type:a[e].type,knowledgeType:a[e].knowledgeType};i.sendToolsMessage(n)},sendToolsMessage(t){let e=this;if("qa"==t.code);else if("tools"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("ib1n72g","你好，我能提供以下工具辅助办公～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("bp6nl44","天气查询","lang")},{tip:$t("vylj2i5","火车票查询","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else if("gen"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("2tnlz6g","你好，我能提供以下图形绘制工具～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("arf2r74","创意作画","lang")},{tip:$t("bjl8g84","图表绘制","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else{if(-1==t.type)return;if(3==t.type){let e=t.content;this.content=e}if(1==t.type){if(this.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));e.isInputVal=!1,e.content=t.content,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}}},doSendMessage(){var t=this;if(0==t.dataList.length)return void t.$message.error($t("c9d5i16","网站列表为空","lang"));if(!t.content&&0!==t.content)return void this.$message.error($t("7z4sop8","发送消息不能为空","lang"));if(t.sysInput)return void t.$message.error($t("3dvwff7","系统正在回复中","lang"));let e=(new Date).getTime();if(t.sendClick){const i=Object.keys(t.sendClick),s=i[i.length-1],a=t.sendClick[s];let n=e-a;if(n<1e3)return;t.sendClick[e]=e}else t.sendClick={},t.sendClick[e]=e;this.sendMessageParam.timer=(new Date).getTime();const i=(new Date).getTime()+"_";t.messageList.push({type:1,chatRecordId:i,content:t.content,isSender:!0}),t.stopId=i.slice(0,-1),t.sysInput=!0;let s=!1;for(let n=0;n<t.messageList.length;n++)if(-1==t.messageList[n].type){s=!0;break}if(t.messageList.push(t.messageList.splice(t.messageList.findIndex(t=>-1==t.type),1)[0]),!s){let i=e+"_temp";t.messageList.push({content:$t("r320196","输入中...","lang"),chatRecordId:i,isSender:!1,type:"-1"}),t.$nextTick((function(){let t=document.getElementById(i+"_item");t&&t.scrollIntoView(!0)}))}this.sendMessageParam.content=t.content,this.sendMessageParam["websiteId"]=t.dataList[t.dataIndex].id;let a=JSON.parse(JSON.stringify(this.sendMessageParam));t.content="",c["a"].ajax({url:"/chat/company/website/send",type:"post",data:a},(function(e,i){if(e&&e.length>0){let i=-1;for(let e=0;e<t.messageList.length;e++)if(202==t.messageList[e].type){i=e;break}for(let a=0;a<e.length;a++){if(e[a].hasOwnProperty("wordIndex")){let t={wordIndex:e[a].wordIndex};if(e[a].hasOwnProperty("extend")){let i=JSON.parse(e[a]["extend"]);for(let e in i)t[e]=i[e];e[a]["extend"]=t}else e[a]["extend"]=t}if(i>-1&&202==e[a].type)try{e[a].chatRecordId=t.messageList[i].chatRecordId}catch(s){}t.receiveMessage(e[a])}}t.sendMessageParam.content=""})),t.content=""},receiveMessage(t){let e=this;t.content&&t.content.endsWith("\n\n")&&(t.content=t.content.replace(/\n\n$/,""));let i=-1;for(let n=0;n<e.messageList.length;n++)if(-1==e.messageList[n].type){i=n;break}if(i>-1&&(e.messageList=c["a"].deleteArrByIndex(e.messageList,i)),e.spellTipsData=null,e.tipsData=null,e.sendClick=null,t["openRecord"]=!1,t["openTips"]=!1,t["hasLoading"]=1==t.type,t["extend"]){let e=t["extend"];"string"===typeof e&&(t["extend"]=JSON.parse(e))}if(t["tips"]&&(e.tipsData=JSON.parse(t["tips"])),t["spellTips"]&&(e.spellTipsData=JSON.parse(t["spellTips"])),t["createTime"]){if(e.messageTimeLine.length>0){let i=e.messageTimeLine[e.messageTimeLine.length-1],s=new Date(i),a=new Date(t.createTime),n=a.getTime()-s.getTime();n>3e5&&(t["showTime"]=!0)}else t["showTime"]=!0;t.createTime&&-1==e.messageTimeLine.indexOf(t.createTime)&&(t.createTime=t.createTime.replace(/-/g,"/"),e.messageTimeLine.push(t.createTime))}102==t.type&&t.isRefresh&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel(),108==t.type&&(t["showAll"]=!1),2!=t.type&&3!=t.type&&109!=t.type||(t["isRecive"]=!0);let s=!1,a=-1;for(let n=0;n<e.messageList.length;n++)if(e.messageList[n].chatRecordId==t.chatRecordId){s=!0,a=n;break}if(t.extend&&t.extend.hasOwnProperty("wordIndex")){let e={content:t.content,wordIndex:t.extend["wordIndex"]};t.letter=e,t.letters=[e]}if(s||-1!=a||114==t.type||202==t.type||(t.dialogId==e.chatId&&e.messageList.push(t),113!=t.type&&t.type,-3==t.type&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()),s&&a>-1&&112==t.type&&t.dialogId==e.chatId)if(t.letter&&t.letter["wordIndex"]||0===t.letter["wordIndex"]){let i=e.messageList[a],s=i.letters.filter(e=>e.wordIndex==t.letter.wordIndex);s.length<1&&i.letters.push(t.letter),i.letters.sort((function(t,e){return t.wordIndex-e.wordIndex}));let n=i.letters.map(t=>t.content).join("");i.content=n}else e.messageList[a].content=e.messageList[a].content+t.content;if(202==t.type&&t.dialogId==e.chatId)if(t.extend["section"]["sectionIndex"]=t.extend["sectionIndex"],a>-1){let i=e.messageList[a].writeContent.sections,s=-1;for(let e=0;e<i.length;e++)if(i[e].sectionIndex==t.extend["section"].sectionIndex){s=e;break}s>-1?e.messageList[a].writeContent.sections.splice(s,1,t.extend["section"]):e.messageList[a].writeContent.sections.push(t.extend["section"])}else{t["writeContent"]={sections:[]};let e={sections:[]};if(this.$refs.templatePreview){let t=this.$refs.templatePreview.getAttribute("template");e["id"]=t}t["writeContent"]=e,t["isCanEdit"]=!0,t["writeContent"]["sections"].push(t.extend["section"]),this.messageList.push(t)}114==t.type&&(localStorage.setItem("message-list-website-"+this.applyId+"-"+e.dataList[e.dataIndex].id,JSON.stringify(e.messageList)),e.sysInput=!1,t["state"]=1,t["chatRecordId"]=(new Date).getTime(),e.messageList.push(t),setTimeout((function(){let t=-1;for(let i=0;i<e.messageList.length;i++)if(114==e.messageList[i].type&&1==e.messageList[i].state){t=i;break}if(t>-1){let i=JSON.parse(JSON.stringify(e.messageList[t]));i.state=-1,e.$set(e.messageList,t,i)}}),3e3)),1!=t.type&&112!=t.type&&113!=t.type&&114!=t.type&&202!=t.type&&(e.sysInput=!1),e.$nextTick((function(){if(202==t.type){let t=document.querySelector(".writing-template-container");t&&(t.scrollTop=99999999999)}else{let i=document.getElementById(t.chatRecordId+"_item");i&&i.scrollIntoView(!1),5!=t.type&&6!=t.type&&2!=t.type||e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()}}))},seachEnter(t){var e=window.event?t.keyCode:t.which;13==e&&this.doSendMessage()},handleScroll(){event.preventDefault();const t=event.currentTarget;t.scrollLeft+=event.deltaY},sendTipsMessage(t){let e=this;if(e.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));let i=this.tipsData[t];if(-1!=i.type){if(1==i.type){let t=i.tip;e.isInputVal=!1,e.content=t,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}2==i.type&&(this.showQuestionTemplate=!0,i["applyId"]=this.sendMessageParam.applyId,this.questionTemplateData=i),3==i.type&&(this.content=i.tip)}},showQuestionTemplateHide(t){this.showQuestionTemplate=!1},sendMessageList(t,e){let i=this,s=i.messageList[t],a=s.extend,n={content:a[e].tip,type:a[e].type,knowledgeType:a[e].knowledgeType};i.sendToolsMessage(n)},sendToolsMessage(t){let e=this;if("qa"==t.code);else if("tools"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("ib1n72g","你好，我能提供以下工具辅助办公～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("bp6nl44","天气查询","lang")},{tip:$t("vylj2i5","火车票查询","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else if("gen"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("2tnlz6g","你好，我能提供以下图形绘制工具～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("arf2r74","创意作画","lang")},{tip:$t("bjl8g84","图表绘制","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else{if(-1==t.type)return;if(3==t.type){let e=t.content;this.content=e}if(1==t.type){if(this.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));e.isInputVal=!1,e.sendMessageParam.content=t.content,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}}},changePage(t){this.$router.push({path:t.path,query:{applyId:this.shareUserInfo.applyId}})}}},g=p,m=(i("1817"),i("36f1")),f=Object(m["a"])(g,s,a,!1,null,"4d047457",null);e["default"]=f.exports},"3fdf":function(t,e,i){},4072:function(t,e,i){"use strict";i("d3b7")},"41a0":function(t,e,i){},"41a6":function(t,e,i){t.exports=i.p+"62a0d31341a3106faf3d53207136353c.png"},"42e4":function(t,e,i){t.exports=i.p+"217e75e34cc8227ed2349a8327cfefd8.png"},4606:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAeCAYAAABaKIzgAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRDMDNDRUQwOEFBOTExRUVBNTJFQTRBNUU1QzdCNTAxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRDMDNDRUQxOEFBOTExRUVBNTJFQTRBNUU1QzdCNTAxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REMwM0NFQ0U4QUE5MTFFRUE1MkVBNEE1RTVDN0I1MDEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REMwM0NFQ0Y4QUE5MTFFRUE1MkVBNEE1RTVDN0I1MDEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4LpsQ5AAADY0lEQVR42tSYXUgUURTHW/MjKygsWDY/KLUgKlvB1iKCqJeKHjehl6KEtpcehOqpwHpZIQh6iIggKoQgCvqAwAiqF0sSs0QpKpYitDRTkcpWc/sfOAOnw72zM+v44IWfs8w9c+9/7j1zzrmGMpnMvLnQ8ulPKBQKZDC89EJcSnjcMYw7EqjQGQirwSUO6kEMLFX9U7h0g5fgIWiD+MlcJ/NrXwiOgp6M/zYMzoOIX50hEupl62FHRodAMyhX3dOgF/SBHyDNLlAB6sAiZT8BLoMznt3Dy4rCZg14qlZnCtwD+8BitguDKBPme/NBDFwAQ2qMryAeiFD0HwC/lcBroJr7IyAJUoatTnFfhG2LQRP4ruxuUF9OQtkXL6oBu2i1hE0CjHvwTbJJiOeWgCvKphus8iWUwgxoUwOdBfnCpiWHj6lFzbMTfBP9Q3IhXIXy27aLh0fBXmWTUAJGwGvwx4PYhBqrHHSI/jGwzVUoi+wUD30B65V9RG33dce/cC0Frzy4QUSNuQDcFza/wFajUN7uJ8L4A6gyvFhSrWSx6q/3sKpJw7gUHVrVytb8J5RiJLgrjD6BMouryK/7jaG/xIPQlC1WK7GDYKUUekQ5dLVloLCakHyyVNnEPX5YYcscBeCBsHskhbaLGFnnEiGihgnJJzfzSsY5TXppUbfihnZL2JY54cZZwR6ktE6faZgmfJ5DmWHN29BAH9NN/NzAt6ry+MegcwMGy1wGHwiwxOzP0h8Tv4edrZdf8jNQ5LItqczMWypLtmwStu9BniOU4udH0XmbwoVlkGQAQpMuIvcLu79gl46jq1V102oSawj4ftu4rR7F/QaQNmYxlZk2gZ/CkGJroWHAxAyEJiwiD/MKOq05W67fwSnMaS9MwT+IokRkpHPZ7GzV0xblBpQh9lhW1neZJ56vUGmb2im/9WgV14iy3QIrDD7rqXBW2ee4cjN6mYacKnyuyK+qyanavwQqLSmWsletKUXSkQUcA5/VmL1gbRBnpt0qfEn/PUElmXNuMvjfOnAQ3FFHGmoT4LRb3PZ9XObVPQkGLH44zX5NAboP9LMQU0vzTlXO5rm+CDSCx2DS51f/lo805bN2rreIprP7dlALNoLl/N+SAjDKvANdoAPz9OZaGITmyj/J/gkwANSXl/vk0fDiAAAAAElFTkSuQmCC"},"47c5":function(t,e,i){"use strict";i.d(e,"d",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return r})),i.d(e,"f",(function(){return c}));var s=i("b775");function a(t){return Object(s["b"])({url:"/live/"+t.id,method:"get"})}function n(t){return Object(s["b"])({url:"/liveing/"+t.id,method:"get"})}function o(t){return Object(s["b"])({url:`/live/online/${t.roomId}/${t.count}`,method:"post",data:t})}function l(t){return Object(s["b"])({url:"/live/count/"+t.id,method:"get"})}function r(t){return Object(s["b"])({url:"/live/like",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/live/history/"+t.dialogId,method:"post",data:t})}},4920:function(t,e,i){"use strict";i.d(e,"i",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"f",(function(){return o})),i.d(e,"h",(function(){return l})),i.d(e,"b",(function(){return r})),i.d(e,"c",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return u})),i.d(e,"j",(function(){return h})),i.d(e,"g",(function(){return p}));var s=i("b775");function a(t){return Object(s["b"])({url:"thirdApp/auto/login",method:"post",data:t})}function n(t){return Object(s["b"])({url:"user/email/login/pass",method:"post",data:t})}function o(t){return Object(s["b"])({url:"getUserInfo",method:"get",data:t})}function l(t){return Object(s["b"])({url:"user/email/sms/getRandomNum",method:"post",data:t})}function r(t){return Object(s["b"])({url:"user/email/sms/check",method:"post",data:t})}function c(t){return Object(s["b"])({url:"user/email/login/code",method:"post",data:t})}function d(t){return Object(s["b"])({url:"user/email/forgotPasswordByEmail",method:"post",data:t})}function u(t){return Object(s["b"])({url:"user/email/sms/getRandomNum",method:"post",data:t})}function h(t){return Object(s["b"])({url:"user/email/sms/check",method:"post",data:t})}function p(t){return Object(s["b"])({url:"auth/google-callback",method:"post",data:t})}},"49c7":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOCAYAAAASVl2WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEXSURBVHgBfZA/S8NgEMafy9+m2jZBqV2kcXEuODr5DXR1cXP3E9hvYr5JVhEhgnRxaYZmEoyItY1J3se3FQra0lvu4H5399wDp+AttkUzJ3dy3vk5/Y1AMCHbL4o6J/6Y4f++4UyB8r6iZPXA/UbcS/5ChvMFSKGkeC2p8jJ0iDh84GAFtCvA0YUnFGNewpxV/ZYgPnnk1QKw+i4wNQVNW+jaEKIUTynfb9jR+TPDJZCZWqwj8PQq0VO7tiBoALWCWH1djCzgwBK0NLTnmfBd871QuBkeSbQEOvpEV08fd4wFkH4KLq678vSrQQM9T3C6b8hhYKQfCmeXgaSrP7M5OXpTnBRMxrN1o6BIVjUjnTZbrRtDbIkfUBRuv+6tXSQAAAAASUVORK5CYII="},"4ef6":function(t,e,i){"use strict";i("9a05")},5079:function(t,e,i){"use strict";i("c8d1")},"51e0":function(t,e,i){"use strict";i("75c4")},"537e":function(t,e,i){},"55d8":function(t,e,i){"use strict";i("e7d3")},"56ce":function(t,e,i){t.exports=i.p+"1c0da8abe4474664a1ddeb5a6e0923fd.png"},5742:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.dialogData?e("div",{staticClass:"questionTemplate-page"},[e("el-dialog",{attrs:{title:t.t($t("jju3ex4","问题采集","lang")),visible:t.showDialog,"close-on-click-modal":!1,"before-close":t.closeDialog,width:t.isMobile()?"90%":"40%",center:""},on:{"update:visible":function(e){t.showDialog=e}}},[e("div",{staticClass:"dialog-header"},[e("div",{staticClass:"dialog-header-top"},[e("div",{staticClass:"dialog-header-top-text"},[t._v(t._s(t.dialogData.tip))]),e("div",{staticClass:"close-logo",on:{click:t.closeDialog}})]),e("div",{staticClass:"dialog-header-bottom",attrs:{title:t.t($t("os5ih5n","为了给你提供更好的服务，请配合我们填写相关信息","lang"))}},[t._v(" "+t._s(t.t($t("os5ih5n","为了给你提供更好的服务，请配合我们填写相关信息","lang")))+" ")])]),e("el-form",{ref:"form",attrs:{"label-position":"top","label-width":"100px"}},t._l(t.list,(function(i,s){return e("el-form-item",{key:s,attrs:{label:i.question}},[e("el-input",{model:{value:i.answer,callback:function(e){t.$set(i,"answer",e)},expression:"item.answer"}})],1)})),1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{staticClass:"sure-btn",attrs:{type:"primary",loading:t.loading},on:{click:t.submitForm}},[t._v(t._s(t.t($t("frrfwq4","确认提交","lang"))))])],1)],1)],1):t._e()},a=[],n=i("ed08"),o=i("73e3"),l={name:"questionTemplate",data(){return{list:[],loading:!1}},props:{showDialog:{type:Boolean,default:!1},dialogData:{type:Object,default:()=>{}}},watch:{showDialog(t){t&&this.getData()}},methods:{closeDialog(t){this.$emit("closeDialog",t)},getData(){let t=this;Object(o["f"])({processId:t.dialogData.qaId}).then(e=>{t.list=e.data})},submitForm:n["a"].debounce((function(){let t=this,e={processId:t.dialogData.qaId,items:t.list};t.dialogData.applyId&&(e["id"]=t.dialogData.applyId),this.loading=!0,Object(o["l"])(e).then(e=>{200==e.code&&(t.$message.success(this.t($t("aghf564","保存成功","lang"))),t.closeDialog(!0)),this.loading=!1})}),300),isMobile(){let t=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);return t}}},r=l,c=(i("ae8b"),i("36f1")),d=Object(c["a"])(r,s,a,!1,null,"5687a1b2",null);e["a"]=d.exports},"57e8":function(t,e,i){},"58d3":function(t,e,i){},"5a46":function(t,e,i){},"5aa8":function(t,e,i){"use strict";i("6850")},"5b7b":function(t,e,i){},"5c29":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALPSURBVHgBvVbPTxNBFH6zgPWA2mjAHzHSaPCgUYqJ4gFUTIwXDnD0JCao8WR61TTWEPFYPZkoifoXyEEOxhhRGtOmSFsVDxBNSzSKxmRBDrRExvdNZ9ZGAmzTLl+y3dndyfv6fsz7niAX6I8+OGWR6CZBJwVRgF/59SdbEqVJUmaJ5FA4dHFkLVtitY+3ovd7hbBuUJHEDbJsMXLtat9jKofwdvReQIq6J7wM4tnn20DHggdpz+6dtGVzPV+b1L6FfIF+/PxFk59yNPk5R7Nz8w5xQS52RkJXsmsSDtwdPM8husNLP4x3nTmhiNzg/ccpGk2MG2L7j6QL4VDf0IqEA9FB5Ame0VH2qP34EdrI3pUDeB2Lj1MyPWEYektD7BDqMKbgWUdbqyKrBCAdTcAc2RzeVhNey2xgspcgM55VCtiALdisK9YDOYSoRr4FkLNqkJWSwiaHMahqwxDq0qeOtvJzthpgC0WnICmiCHGoSXt36EAzVRuocF/RiYBqIKqDMPbvbSKvoHNJ4OKLWhThPu8Im/Q5FtwaLaG7SWPDNvIKpjMxAiga1YirWSzLCevN0m/ROgOENhazc7/JK6DdadggzBYJ58krzLCiANBOS0p6hYfcl2/kFaZYvjRjxoJSYz1mursHgFYC4LL0WJBFnKc98PIda6ROVxZcqkqlXLqJ+9Pnr0sTXDEW8nmKsSArCN1L8XM9dOkR39L4J86GKiCWSDveGRF2zqGQiz18s5OpCSOcFQE2kqkPWEKAO837GrN48WzYPn22a0YI0Y1c5gsF2rWjkWpra6gcIIwjb95SfCxTfCHpXDh0OW6+Lxui+nmuqRH0kPQQ1c4aedilbOFoDXMdmCGKayOk00UrEgJ6vsHIEcAziKEmzSxh2xu2ct/1qX02dycYn/76XYUv/6/g0hzGHldjYinWbRD+HyWjfouWM2fUBwm6ldtR/y9wcypxRcwo/gAAAABJRU5ErkJggg=="},"5e8b":function(t,e,i){"use strict";i("7caf")},"5f85":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"viewer-fade"}},[e("div",{ref:"el-image-viewer__wrapper",staticClass:"el-image-viewer__wrapper",style:{"z-index":t.viewerZIndex},attrs:{tabindex:"-1"}},[e("div",{staticClass:"el-image-viewer__mask",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleMaskClick.apply(null,arguments)}}}),e("span",{staticClass:"el-image-viewer__btn el-image-viewer__close",on:{click:t.hide}},[e("i",{staticClass:"el-icon-close"})]),t.isSingle?t._e():[e("span",{staticClass:"el-image-viewer__btn el-image-viewer__prev",class:{"is-disabled":!t.infinite&&t.isFirst},on:{click:t.prev}},[e("i",{staticClass:"el-icon-arrow-left"})]),e("span",{staticClass:"el-image-viewer__btn el-image-viewer__next",class:{"is-disabled":!t.infinite&&t.isLast},on:{click:t.next}},[e("i",{staticClass:"el-icon-arrow-right"})])],e("div",{staticClass:"el-image-viewer__btn el-image-viewer__actions"},[e("div",{staticClass:"el-image-viewer__actions__inner"},[e("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){return t.handleActions("zoomOut")}}}),e("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){return t.handleActions("zoomIn")}}}),e("i",{staticClass:"el-image-viewer__actions__divider"}),e("i",{class:t.mode.icon,on:{click:t.toggleMode}}),e("i",{staticClass:"el-image-viewer__actions__divider"}),e("i",{staticClass:"el-icon-refresh-left",on:{click:function(e){return t.handleActions("anticlocelise")}}}),e("i",{staticClass:"el-icon-refresh-right",on:{click:function(e){return t.handleActions("clocelise")}}})])]),e("div",{staticClass:"el-image-viewer__canvas"},t._l(t.urlList,(function(i,s){return s===t.index?e("img",{key:i,ref:"img",refInFor:!0,staticClass:"el-image-viewer__img",style:t.imgStyle,attrs:{src:t.currentImg},on:{load:t.handleImgLoad,error:t.handleImgError,mousedown:t.handleMouseDown}}):t._e()})),0)],2)])},a=[],n=i("bfad"),o=i("77c8"),l=i("a716");const r={CONTAIN:{name:"contain",icon:"el-icon-full-screen"},ORIGINAL:{name:"original",icon:"el-icon-c-scale-to-original"}},c=Object(o["a"])()?"DOMMouseScroll":"mousewheel";var d={name:"elImageViewer",props:{urlList:{type:Array,default:()=>[]},zIndex:{type:Number,default:2e3},onSwitch:{type:Function,default:()=>{}},onClose:{type:Function,default:()=>{}},initialIndex:{type:Number,default:0},appendToBody:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0}},data(){return{index:this.initialIndex,isShow:!1,infinite:!1,loading:!1,mode:r.CONTAIN,transform:{scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}},computed:{isSingle(){return this.urlList.length<=1},isFirst(){return 0===this.index},isLast(){return this.index===this.urlList.length-1},currentImg(){return this.urlList[this.index]},imgStyle(){const{scale:t,deg:e,offsetX:i,offsetY:s,enableTransition:a}=this.transform,n={transform:`scale(${t}) rotate(${e}deg)`,transition:a?"transform .3s":"","margin-left":i+"px","margin-top":s+"px"};return this.mode===r.CONTAIN&&(n.maxWidth=n.maxHeight="100%"),n},viewerZIndex(){const t=l["a"].nextZIndex();return this.zIndex>t?this.zIndex:t}},watch:{index:{handler:function(t){this.reset(),this.onSwitch(t)}},currentImg(t){this.$nextTick(t=>{const e=this.$refs.img[0];e.complete||(this.loading=!0)})}},methods:{hide(){this.deviceSupportUninstall(),this.onClose()},deviceSupportInstall(){this._keyDownHandler=t=>{t.stopPropagation();const e=t.keyCode;switch(e){case 27:this.hide();break;case 32:this.toggleMode();break;case 37:this.prev();break;case 38:this.handleActions("zoomIn");break;case 39:this.next();break;case 40:this.handleActions("zoomOut");break}},this._mouseWheelHandler=Object(o["b"])(t=>{const e=t.wheelDelta?t.wheelDelta:-t.detail;e>0?this.handleActions("zoomIn",{zoomRate:.015,enableTransition:!1}):this.handleActions("zoomOut",{zoomRate:.015,enableTransition:!1})}),Object(n["e"])(document,"keydown",this._keyDownHandler),Object(n["e"])(document,c,this._mouseWheelHandler)},deviceSupportUninstall(){Object(n["d"])(document,"keydown",this._keyDownHandler),Object(n["d"])(document,c,this._mouseWheelHandler),this._keyDownHandler=null,this._mouseWheelHandler=null},handleImgLoad(t){this.loading=!1},handleImgError(t){this.loading=!1,t.target.alt=$t("b0mmk14","加载失败","lang")},handleMouseDown(t){if(this.loading||0!==t.button)return;const{offsetX:e,offsetY:i}=this.transform,s=t.pageX,a=t.pageY;this._dragHandler=Object(o["b"])(t=>{this.transform.offsetX=e+t.pageX-s,this.transform.offsetY=i+t.pageY-a}),Object(n["e"])(document,"mousemove",this._dragHandler),Object(n["e"])(document,"mouseup",t=>{Object(n["d"])(document,"mousemove",this._dragHandler)}),t.preventDefault()},handleMaskClick(){this.maskClosable&&this.hide()},reset(){this.transform={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}},toggleMode(){if(this.loading)return;const t=Object.keys(r),e=Object.values(r),i=e.indexOf(this.mode),s=(i+1)%t.length;this.mode=r[t[s]],this.reset()},prev(){if(this.isFirst&&!this.infinite)return;const t=this.urlList.length;this.index=(this.index-1+t)%t},next(){if(this.isLast&&!this.infinite)return;const t=this.urlList.length;this.index=(this.index+1)%t},handleActions(t,e={}){if(this.loading)return;const{zoomRate:i,rotateDeg:s,enableTransition:a}={zoomRate:.2,rotateDeg:90,enableTransition:!0,...e},{transform:n}=this;switch(t){case"zoomOut":n.scale>.2&&(n.scale=parseFloat((n.scale-i).toFixed(3)));break;case"zoomIn":n.scale=parseFloat((n.scale+i).toFixed(3));break;case"clocelise":n.deg+=s;break;case"anticlocelise":n.deg-=s;break}n.enableTransition=a}},mounted(){this.deviceSupportInstall(),this.appendToBody&&document.body.appendChild(this.$el),this.$refs["el-image-viewer__wrapper"].focus()},destroyed(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},u=d,h=i("36f1"),p=Object(h["a"])(u,s,a,!1,null,null,null);e["a"]=p.exports},6028:function(t,e,i){},"60c4":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ai-generate"},[t._v($t("go3ehz6"," AI生成 ","lang"))])},a=[],n=(i("e29d"),i("36f1")),o={},l=Object(n["a"])(o,s,a,!1,null,"11daa6a6",null);e["a"]=l.exports},6158:function(t,e,i){t.exports=i.p+"f1face71db5374aa7778a15a2c88aaa9.png"},"616f":function(t,e,i){"use strict";i("58d3")},"631b":function(t,e,i){t.exports=i.p+"static/img/t_close.25f3cb42.svg"},"64ec":function(t,e,i){t.exports=i.p+"636f97bada56cecb384bb14b8ae3300c.png"},"651c":function(t,e,i){t.exports=i.p+"3b1ef38ba75dfe06509bc2044566fa9b.png"},"657c":function(t,e,i){"use strict";i("7fed")},"665a":function(t,e,i){},"66c8":function(t,e,i){},"670b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAoCAYAAACFFRgXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgxREM2ODczODg0ODExRUU5RjMxRTNDQjBGMDg0MTc1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgxREM2ODc0ODg0ODExRUU5RjMxRTNDQjBGMDg0MTc1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODFEQzY4NzE4ODQ4MTFFRTlGMzFFM0NCMEYwODQxNzUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODFEQzY4NzI4ODQ4MTFFRTlGMzFFM0NCMEYwODQxNzUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5g86G3AAADMElEQVR42tSYa4hNURTH953u4IMSEqFJKEqGlLw/GPPN4wOTN7eYMEM0mGnK+ICExFBT5C2pmTBJUxQl7y/GW5K8MlFiug3TMI17/VetU7vVPq/7Ouf+69e9e51z7/nfc/dZe60dSSaTKoPqD86Ab6DS4bxFYA64BG77uUAkw4bHgvP8/hlYbzhnEGjRxtXgrtcLFKjMqlt7PxEcMZzzB/Ro44NgclCGpaaBehH7BSpErAGMD4Nh0nSwV8RegCoROwXGhcEwqRTsFLGHYJuInQajcmk44XBsHtghYvdBnZ4EwFkwLFeGf7gcXwBqRewm2KWNe4MLYEgm0xrl28GcoorAQNCXY1M9fL4JHDbk5hpt/BMsB/FUDdMvngJKwCTQK81/g/764yJWxnnZ0newFHT6MTwUrAQLeY5lUufAMRGLiVXyI9/phBfD8/lBiWQxgzTwnNVVycYtvQblZNrJcB0bzoVocWkUsc1ghTZ+SabtDO8Hs1VutUfUGJbpxaDQSoMmw5vAKpV7fQJLbDLKCLs8XByQWStrSFVz2lR2d7jZaZXJoqhiu2wwW6aN34LV+h2eEZDZeoPZKmH2HVgjp0RNAGZPGLLDOl4sLH1hsz264VK7tTuLOsnVmS5aINaK2iSmNwZRfl2WxoX/gg5ePgs9TqtGrn91UYbYoo3bOQ936idFuSYY49NkG3gC7oBXbJiWzuHgistnrxm6ECo9t2rj3zwN4vLDZHi0lpjdRL/6KLiRQj1slZKy+ygxFPcx7ryVyXCxR7NNXKh0OZzTx+HYLVGsk2aCfYaHrs3uS6L6KuIg+tKraczze4Zug3q9QyK2ATx3a5H6uVzsQJpmH4PtIjbBMI+pQnvqpQntdrkzzWmYpQdzo4gN4PwrF4pWr21+u8Px3T4N6g/vG8P+g2me13IH7Uk0hz/bHGvhdOVH9OM/cDqqsDnnK2eKuanurVFau2g4RqvOexUyFbApmaq6uJdSYTSc5J5JbiUlwmpYGVqTVhVSWYYf+dzBCdxwXBQtibAbVqI2TeaDYdrLus7v/+WDYZK1QVeUL4Y7OGOMDKthu52fWeBBGB++/wIMAOiSw8kVHGB3AAAAAElFTkSuQmCC"},6850:function(t,e,i){},"6a31":function(t,e,i){},"6eaf":function(t,e,i){},"6eba":function(t,e,i){t.exports=i.p+"2dc7453305fb774ca7b87493632b5456.gif"},"6fa4":function(t,e,i){"use strict";i("9516")},7069:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.classTestShow,"show-close":!1,"custom-class":"quiz-dialog","close-on-click-modal":!1,title:$t("jd25h04","随堂测验","lang")},on:{"update:visible":function(e){t.classTestShow=e}}},[e("img",{staticClass:"bk-img",attrs:{src:i("9e44")}}),t._l(t.anserList,(function(i,s){return e("div",{key:i.id,staticClass:"box-body"},[e("div",{staticClass:"quiz-content"},[t._v(" "+t._s(s+1)+"."+t._s(i.quesContent)+" ")]),"1"===i.quesType?e("div",t._l(i.quesRemarkArr,(function(s){return e("div",{class:{"quiz-item-list":!0,active:i.userAnswer===s},on:{click:function(e){return t.testClick(s,i)}}},[t._v(" "+t._s(s.key)+". "+t._s(s.value)+" ")])})),0):t._e(),"2"===i.quesType?e("div",t._l(i.quesRemarkArr,(function(s){return e("div",{class:{"quiz-item-list":!0,active:i.userAnswer&&i.userAnswer.includes(s)},on:{click:function(e){return t.testClickDx(s,i)}}},[t._v(" "+t._s(s.key)+". "+t._s(s.value)+" ")])})),0):t._e(),"3"===i.quesType?e("div",[e("div",{staticClass:"quiz-item-input"},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:5,maxRows:10},placeholder:$t("2jbrwj5","请输入内容","lang")},model:{value:i.userAnswer,callback:function(e){t.$set(i,"userAnswer",e)},expression:"item.userAnswer"}})],1)]):t._e(),"4"===i.quesType?e("div",t._l(i.fillInTheBlanks,(function(s,a){return e("div",{staticClass:"quiz-item-input"},[e("el-input",{attrs:{placeholder:$t("2jbrwj5","请输入内容","lang")},model:{value:i.qktList[a],callback:function(e){t.$set(i.qktList,a,e)},expression:"item.qktList[i]"}})],1)})),0):t._e(),"8"===i.quesType?e("div",[e("div",{staticClass:"quiz-item-input"},[e("el-radio-group",{model:{value:i.userAnswer,callback:function(e){t.$set(i,"userAnswer",e)},expression:"item.userAnswer"}},[e("el-radio",{attrs:{label:$t("ixd72","正确","lang")}},[t._v($t("ixd72","正确","lang"))]),e("el-radio",{attrs:{label:$t("q4mu2","错误","lang")}},[t._v($t("q4mu2","错误","lang"))])],1)],1)]):t._e()])})),e("div",{staticClass:"quiz-actions"},[e("el-button",{staticClass:"btn-wrong btn",on:{click:function(e){return t.answerClick(!1)}}},[e("div",{staticClass:"btn-text"},[t._v($t("dd4ni4"," 取消 ","lang"))])]),e("el-button",{staticClass:"btn-correct btn",attrs:{type:"primary"},on:{click:function(e){return t.answerClick(!0)}}},[e("div",{staticClass:"btn-text"},[t._v($t("in1ck4"," 确定 ","lang"))])])],1)],2)},a=[],n=(i("6e0d"),i("13b1"),i("264f"),i("eb9e"),i("e726")),o={props:["anserList","classTestShow"],data(){return{userAnswer:{},anserAll:[]}},methods:{answerClick(t){t?(this.anserList.forEach(t=>{var e,i;(null===(e=t.userAnswer)||void 0===e?void 0:e.length)>0&&"2"===t.quesType&&(t.userAnswer=JSON.stringify(t.userAnswer.map(t=>t.key))),t.userAnswer&&"1"===t.quesType&&(t.userAnswer=t.userAnswer.key),"4"===t.quesType&&(null===(i=t.qktList)||void 0===i?void 0:i.length)>0&&(t.userAnswer=JSON.stringify(t.qktList))}),Object(n["I"])(this.anserList),this.$emit("update:classTestShow",!1)):this.$emit("update:classTestShow",!1),this.$parent.handleOutTask()},testClick(t,e){e.userAnswer=t},testClickDx(t,e){e.userAnswer||(e.userAnswer=[]),e.userAnswer.includes(t)?e.userAnswer=e.userAnswer.filter(e=>e!=t):e.userAnswer.push(t)}}},l=o,r=(i("29cb"),i("36f1")),c=Object(r["a"])(l,s,a,!1,null,"52286eac",null);e["a"]=c.exports},"72b5":function(t,e,i){},"73b6":function(t,e,i){},"73e3":function(t,e,i){"use strict";i.d(e,"n",(function(){return r})),i.d(e,"m",(function(){return c})),i.d(e,"p",(function(){return g})),i.d(e,"f",(function(){return m})),i.d(e,"l",(function(){return f})),i.d(e,"g",(function(){return v})),i.d(e,"i",(function(){return y})),i.d(e,"b",(function(){return b})),i.d(e,"q",(function(){return w})),i.d(e,"h",(function(){return I})),i.d(e,"o",(function(){return C})),i.d(e,"d",(function(){return k})),i.d(e,"j",(function(){return S})),i.d(e,"k",(function(){return x})),i.d(e,"c",(function(){return A})),i.d(e,"e",(function(){return L})),i.d(e,"a",(function(){return T}));var s=i("b775"),a=i("a016");const n=a["a"].CancelToken;function o(t){return Object(s["b"])({url:"dialog/get",method:"post",data:t})}function l(t){return Object(s["b"])({url:"chat/record",method:"post",data:t})}function r(t){return Object(s["b"])({url:"smalltalk/stop",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/smalltalk/enterprise/stop",method:"post",data:t})}function d(t){return Object(s["b"])({url:"knowledge/guess",method:"post",data:t})}function u(t){return Object(s["b"])({url:"tip/getTipRandom",method:"post",data:t})}function h(t){return Object(s["b"])({url:"chat/send",method:"post",data:t})}function p(t){return Object(s["b"])({url:"chat/websocket/listenById",method:"post",data:t})}function g(t){return Object(s["b"])({url:"user/companyDigitalPerson/upload",method:"post",data:t})}function m(t){return Object(s["b"])({url:"mmflow/process/flowQaForm",method:"post",data:t})}function f(t){return Object(s["b"])({url:"mmflow/process/saveFlowQaFormData",method:"post",data:t})}function v(t,e){return Object(s["b"])({url:"chat/recommendQues",method:"get",params:t,cancelToken:new n((function(t){e.cancelRecommendQuesRequest=t}))})}function y(t){return Object(s["b"])({url:"knowledgeKeywords/knowledgeRecomTourist",method:"post",data:t})}function b(t){return Object(s["b"])({url:"knowledgeGoods/addClickSize",method:"post",data:t})}function w(t){return Object(s["b"])({url:"/music/get/userMusics",method:"post",data:t})}function I(t){return Object(s["b"])({url:"knowledgeKeywords/knowledgeRecomTouristByPersion",method:"post",data:t})}function C(t){return Object(s["b"])({url:"/tweets/"+t,method:"post"})}function k(t){return Object(s["b"])({url:"/knowledge/qa/relation/updateSort",method:"post",data:t})}function S(t){return Object(s["b"])({url:"/chat/send/mark",method:"post",data:t})}function x(t){return Object(s["b"])({url:"/chat/record/report",method:"post",data:t})}function A(t){return Object(s["b"])({url:"/live/space/create/list/"+t.id,method:"get"})}function L(t){return Object(s["b"])({url:"/chat/prologue",method:"get",params:t})}const T={getDialog:o,stopMessageStream:r,getKnowGuess:d,getRandomTips:u,getMessage:l,sendMessage:h,messageRead:p,mark:S,crateList:A,getOpening:L}},"75c4":function(t,e,i){},7765:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return 0!=t.dataList.length?e("div",{staticClass:"customerService-page"},[e("div",{staticClass:"customerService-page-title"},[t._v($t("c0h8zl4","岗位客服","lang"))]),t.dataList.length>4?e("img",{staticClass:"icon-arrow",attrs:{src:i("6158")},on:{click:t.arrowCustomer}}):t._e(),e("div",{staticClass:"customerService-page-list",attrs:{id:"customerList"}},t._l(t.dataList,(function(s,a){return e("div",{key:a,staticClass:"customerService-page-item",on:{click:function(e){return t.changeActive(a)}}},[e("div",{staticClass:"customerService-page-item-imgBox",style:t.itemActive==a?`background: url(${i("2c9b")}) no-repeat;`:`background: url(${i("db02")}) no-repeat;`},[e("img",{staticClass:"customerService-page-item-img",attrs:{src:s.headIcon}})]),e("div",{staticClass:"customerService-page-item-name"},[t._v(t._s(s.name))])])})),0),t.dataList.length>4?e("img",{staticClass:"icon-next",attrs:{src:i("01c8")},on:{click:t.nextCustomer}}):t._e()]):t._e()},a=[],n=i("81c3"),o={props:{applyIds:{type:String,default:null},index:{type:Number,default:null},sysInput:{type:Boolean,default:!1}},data(){return{dataList:[],itemActive:null,top:0}},mounted(){null!=this.index&&(this.itemActive=this.index),this.getRoleCompanyList()},methods:{getRoleCompanyList(){let t={createUser:this.applyIds,pageNum:1,pageSize:8};Object(n["h"])(t).then(t=>{t&&200==t.code?this.dataList=t.data.list:this.$message.error(t.msg?t.msg:t.errMsg)})},changeActive(t){this.sysInput?this.$message.error($t("3dvwff7","系统正在回复中","lang")):(this.itemActive=t,this.$emit("changeActive",t,this.dataList[t].name))},nextCustomer(){let t=document.getElementById("customerList"),e=t.scrollHeight;this.top>e||(this.top+=t.offsetHeight,t.scrollTo({top:this.top,behavior:"smooth"}))},arrowCustomer(){let t=document.getElementById("customerList");0!=this.top&&(this.top-=t.offsetHeight,t.scrollTo({top:this.top,behavior:"smooth"}))}}},l=o,r=(i("199c"),i("36f1")),c=Object(r["a"])(l,s,a,!1,null,"4c563930",null);e["a"]=c.exports},7790:function(t,e,i){"use strict";i("bca8")},"7acd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAYAAAA+stv/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkRCN0ZCNDk3OEFBOTExRUVBNzA1RkRFNkUxQTMwMzIwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkRCN0ZCNDk4OEFBOTExRUVBNzA1RkRFNkUxQTMwMzIwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6REI3RkI0OTU4QUE5MTFFRUE3MDVGREU2RTFBMzAzMjAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6REI3RkI0OTY4QUE5MTFFRUE3MDVGREU2RTFBMzAzMjAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7qezd/AAABc0lEQVR42mL8//8/w0ACJgr1NwDxISBWItsEUAiQiQX/I8BUcs2hJARYgfjPQEbBPyQH/BqoNDDgiXDUAaMOoIkDeGloHzMQM+JzQAwQPwbiKTSwXBGIHwDxPSDmgwmyoCnyAWJ+IM6GujaTSpaD6ooLSKErCMSfsNUF4kB8F6mMn46nHBcB4u9Qdf141CkB8SckM8uQ5bFp4CbSEcQ4AK/luBwAc8QdAo4g5ACCluNzAAhzEXAEPgcQZTkhB8AccRuHI8SRHDCBHMuJcQDMEbewOIIdiH9DxSZBxeRJsZxYB8Ac8QTJ4Bqo+GsoPwPKf4GkppoYs0lpPgkD8U0kCxYh5ZYlQLyfVMtJdQAIc6I5AhsoI8VMchqSHEB8A4flVaSaR26LGOSI62iWV5NjFiXNcpAjTkETYim55jBSoWfEAcQ/yNXMONS7ZkPfAcgNEmGog+gRJ6Bm2XtwzwqaGjv/0x+8RO6ceg5A6IsMilwAEGAA4ybZHMLdSuoAAAAASUVORK5CYII="},"7ad1":function(t,e,i){"use strict";i("34d4")},"7bd6f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return t.shareUserInfo?e("div",{staticClass:"expertAssistant-page"},[e("div",{staticClass:"expertAssistant-page-contentBox"},[e("div",{staticClass:"videoExplanation-content-name"},[t._v(t._s(t.copyBtnName))]),e("div",{staticClass:"expertAssistant-content-leftBox"},[e("div",{staticClass:"expertAssistant-content-dialogueList"},[e("div",{staticClass:"dialogue-list"},t._l(t.messageList,(function(i,s){return e("div",{key:s},[e("room-dialogue-item",{attrs:{index:s,"item-detail":i},on:{sendMessageList:t.sendMessageList}})],1)})),0)]),e("div",{staticClass:"expertAssistant-content-inputList"},[e("div",{staticClass:"bottom-tips"},[e("div",{staticClass:"bottom-tips-type"},[e("div",{staticClass:"tips-list",staticStyle:{width:"calc(100% - 30px)","overflow-x":"auto",display:"flex"},on:{wheel:t.handleScroll}},t._l(t.tipsData,(function(i,s){return e("div",{key:s,staticClass:"bottom-tips-btn",style:-1==i.type?"color:#C4CADC":"",on:{click:function(e){return e.stopPropagation(),t.sendTipsMessage(s)}}},[t._v(" "+t._s(i.tip)+" ")])})),0)])]),e("div",{staticStyle:{width:"100%"}},[t.sysInput?t._e():e("div",{staticStyle:{height:"32px"}}),t.sysInput?e("div",{staticClass:"bottom-stopBox",on:{click:t.stopSysInput}},[e("div",{staticClass:"bottom-stop"},[e("img",{staticClass:"bottom-stop-logo",attrs:{src:i("d422")}}),e("div",{staticClass:"bottom-stop-text"},[t._v($t("al0wa54","停止响应","lang"))])])]):t._e(),e("div",{staticClass:"flex y_center",staticStyle:{width:"100%"}},[e("el-input",{attrs:{placeholder:$t("nfyu98","点击输入聊天信息","lang")},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.seachEnter.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),e("div",{staticClass:"send-btn",style:"zh_CN"==t.$i18n.locale?`background: url(${i("d824")}) no-repeat;`:`background: url(${i("f565")}) no-repeat;`,on:{click:t.doSendMessage}})],1)])])])]),e("div",{staticClass:"customerService-box"},[e("customer-service",{attrs:{sysInput:t.sysInput,"apply-ids":t.applyIds,index:t.changeIndex},on:{changeActive:t.changeActive}})],1),e("questionTemplate",{attrs:{showDialog:t.showQuestionTemplate,dialogData:t.questionTemplateData},on:{closeDialog:t.showQuestionTemplateHide}})],1):t._e()},a=[],n=(i("6e0d"),i("13b1"),i("eb9e"),i("832b")),o=i("d3f4"),l=i("81c3"),r=i("5742"),c=(i("8327"),i("ed08")),d=i("d761"),u=i("010c"),h=i("7765"),p=i("73e3"),g={components:{CustomerService:h["a"],RoomDialogueItem:o["a"],LeftButtons:n["a"],questionTemplate:r["a"],BackBtns:d["a"],Footer:u["a"]},data(){return{content:"",shareUserInfo:null,rightList:[],rightActive:0,dataList:[],dataIndex:0,sendMessageParam:{dialogId:"",content:"",type:"1",timer:""},tipsData:[],sendClick:null,messageTimeLine:[],messageList:[],applyId:"",showQuestionTemplate:!1,questionTemplateData:null,companyAbilityId:null,stopId:null,sysInput:!1,copyBtnName:null}},props:{itemId:{type:String,default:null},applyIds:{type:String,default:null},changeIndex:{type:Number,default:null},btnName:{type:String,default:null}},watch:{sysInput(t){this.$emit("flushSysInput",t)}},mounted(){let t=this;this.copyBtnName=this.btnName,this.applyId=this.applyIds,this.companyAbilityId=this.itemId,t.chatId=(Math.floor(999999999*Math.random())+1).toString(),window.localStorage.getItem("dialogId")&&(t.chatId=window.localStorage.getItem("dialogId"));let e=null;e&&(t.messageList=JSON.parse(e),this.messageList.length>0&&t.$nextTick((function(){let e=t.messageList[t.messageList.length-1],i=document.getElementById(e.chatRecordId+"_item");i&&i.scrollIntoView(!1)})));let i=window.localStorage.getItem("shareUserInfo-"+this.applyId);i&&(this.shareUserInfo=JSON.parse(i)),this.sendMessageParam.dialogId=this.chatId,this.getRoleCompanyList()},methods:{stopSysInput(){let t=this;Object(p["m"])({chatRecordId:t.stopId}).then(t=>{}),t.sysInput=!1;let e=-1;for(let i=0;i<t.messageList.length;i++)if(-1==t.messageList[i].type){e=i;break}e>-1&&(t.messageList=c["a"].deleteArrByIndex(t.messageList,e))},sendMessageList(t,e){let i=this,s=this.messageList[t],a=s.extend,n={content:a[e].tip,type:a[e].type,knowledgeType:a[e].knowledgeType};i.sendToolsMessage(n)},sendToolsMessage(t){let e=this;if("qa"==t.code);else if("tools"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("ib1n72g","你好，我能提供以下工具辅助办公～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("bp6nl44","天气查询","lang")},{tip:$t("vylj2i5","火车票查询","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else if("gen"==t.code){let t=(new Date).getTime();e.messageList.push({chatRecordId:t,content:$t("2tnlz6g","你好，我能提供以下图形绘制工具～","lang"),type:102,showChangeBtn:!1,extend:[{tip:$t("arf2r74","创意作画","lang")},{tip:$t("bjl8g84","图表绘制","lang")}]}),e.$nextTick((function(){let e=document.getElementById(t+"_item");e&&e.scrollIntoView(!1)}))}else{if(-1==t.type)return;if(3==t.type){let i=t.content;this.content=i,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}if(1==t.type){if(this.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));e.isInputVal=!1,e.content=t.content,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}}},getRoleCompanyList(){let t={createUser:this.applyId,pageNum:1,pageSize:8,companyAbilityId:this.companyAbilityId};Object(l["h"])(t).then(t=>{if(t&&200==t.code){if(this.dataList=t.data.list,null!=this.changeIndex&&this.changeActive(this.changeIndex),0==this.messageList.length&&this.dataList.length>0){let t=this.dataList[0];if(t.title){var e={extend:{tip:{title:"",content:t.title}},type:-4,chatRecordId:(new Date).getTime()};this.messageList.push(e)}for(let e=0;e<t.tips.length;e++)t.tips[e]["type"]=t.tips[e].textType;let i={content:"",extend:t.tips,isSender:!1,type:102};this.messageList.push(i)}}else this.$message.error(t.msg?t.msg:t.errMsg)})},changeActive(t,e){let i=void 0;if(i)this.messageList=JSON.parse(i);else if(this.dataList.length>0){let e=this.dataList[t],i=[];if(e.title){var s={extend:{tip:{title:"",content:e.title}},type:-4,chatRecordId:(new Date).getTime()};i.push(s)}for(let t=0;t<e.tips.length;t++)e.tips[t]["type"]=e.tips[t].textType;let a={content:"",extend:e.tips,isSender:!1,type:102};i.push(a),this.messageList=i}this.dataIndex=t,this.copyBtnName=this.dataList[t].name,this.messageList.length>0&&this.$nextTick((function(){let t=this.messageList[this.messageList.length-1],e=document.getElementById(t.chatRecordId+"_item");e&&e.scrollIntoView(!1)}))},goShowRoom(){this.$router.push({path:"/showRoom",query:{applyId:this.applyId}})},seachEnter(t){var e=window.event?t.keyCode:t.which;13==e&&this.doSendMessage()},handleScroll(){event.preventDefault();const t=event.currentTarget;t.scrollLeft+=event.deltaY},receiveMessage(t){let e=this;t.content&&t.content.endsWith("\n\n")&&(t.content=t.content.replace(/\n\n$/,""));let i=-1;for(let n=0;n<e.messageList.length;n++)if(-1==e.messageList[n].type){i=n;break}if(i>-1&&(e.messageList=c["a"].deleteArrByIndex(e.messageList,i)),e.spellTipsData=null,e.tipsData=null,e.sendClick=null,t["openRecord"]=!1,t["openTips"]=!1,t["hasLoading"]=1==t.type,t["extend"]){let e=t["extend"];"string"===typeof e&&(t["extend"]=JSON.parse(e))}if(t["tips"]&&(e.tipsData=JSON.parse(t["tips"])),t["spellTips"]&&(e.spellTipsData=JSON.parse(t["spellTips"])),t["createTime"]){if(e.messageTimeLine.length>0){let i=e.messageTimeLine[e.messageTimeLine.length-1],s=new Date(i),a=new Date(t.createTime),n=a.getTime()-s.getTime();n>3e5&&(t["showTime"]=!0)}else t["showTime"]=!0;t.createTime&&-1==e.messageTimeLine.indexOf(t.createTime)&&(t.createTime=t.createTime.replace(/-/g,"/"),e.messageTimeLine.push(t.createTime))}102==t.type&&t.isRefresh&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel(),108==t.type&&(t["showAll"]=!1),2!=t.type&&3!=t.type&&109!=t.type||(t["isRecive"]=!0);let s=!1,a=-1;for(let n=0;n<e.messageList.length;n++)if(e.messageList[n].chatRecordId==t.chatRecordId){s=!0,a=n;break}if(t.extend&&t.extend.hasOwnProperty("wordIndex")){let e={content:t.content,wordIndex:t.extend["wordIndex"]};t.letter=e,t.letters=[e]}if(s||-1!=a||114==t.type||202==t.type||(t.dialogId==e.chatId&&e.messageList.push(t),113!=t.type&&t.type,-3==t.type&&e.$refs.rightPage&&e.$refs.rightPage.flushRightPanel()),s&&a>-1&&112==t.type&&t.dialogId==e.chatId)if(t.letter&&t.letter["wordIndex"]||0===t.letter["wordIndex"]){let i=e.messageList[a],s=i.letters.filter(e=>e.wordIndex==t.letter.wordIndex);s.length<1&&i.letters.push(t.letter),i.letters.sort((function(t,e){return t.wordIndex-e.wordIndex}));let n=i.letters.map(t=>t.content).join("");i.content=n}else e.messageList[a].content=e.messageList[a].content+t.content;114==t.type&&(localStorage.setItem("message-list-assistant"+this.copyBtnName+"-"+this.applyId,JSON.stringify(e.messageList)),e.sysInput=!1,t["state"]=1,t["chatRecordId"]=(new Date).getTime(),e.messageList.push(t),setTimeout((function(){let t=-1;for(let i=0;i<e.messageList.length;i++)if(114==e.messageList[i].type&&1==e.messageList[i].state){t=i;break}if(t>-1){let i=JSON.parse(JSON.stringify(e.messageList[t]));i.state=-1,e.$set(e.messageList,t,i)}}),3e3)),1!=t.type&&112!=t.type&&113!=t.type&&114!=t.type&&202!=t.type&&(e.sysInput=!1),e.$nextTick((function(){let e=document.getElementById(t.chatRecordId+"_item");e&&e.scrollIntoView(!1)}))},doSendMessage(){let t=this;if(""==t.content)return void this.$message.error($t("7z4sop8","发送消息不能为空","lang"));if(0==t.dataList.length)return void t.$message.error($t("uka3906","专家列表为空","lang"));if(t.sysInput)return void t.$message.error($t("3dvwff7","系统正在回复中","lang"));let e=(new Date).getTime();if(t.sendClick){const i=Object.keys(t.sendClick),s=i[i.length-1],a=t.sendClick[s];let n=e-a;if(n<1e3)return;t.sendClick[e]=e}else t.sendClick={},t.sendClick[e]=e;const i=e+"_my";t.messageList.push({type:1,chatRecordId:i,content:t.content,isSender:!0}),t.stopId=i.slice(0,-3),t.sysInput=!0;let s=!1;for(let n=0;n<t.messageList.length;n++)if(-1==t.messageList[n].type){s=!0;break}if(t.messageList.push(t.messageList.splice(t.messageList.findIndex(t=>-1==t.type),1)[0]),!s){let i=e+"_temp";t.messageList.push({content:$t("r320196","输入中...","lang"),chatRecordId:i,isSender:!1,type:"-1"}),t.$nextTick((function(){let t=document.getElementById(i+"_item");t&&t.scrollIntoView(!0)}))}t.sendMessageParam.timer=e,t.sendMessageParam["content"]=t.content,t.sendMessageParam["roleId"]=t.dataList[t.dataIndex].id;let a=JSON.parse(JSON.stringify(t.sendMessageParam));c["a"].ajax({url:"/chat/company/role/send",type:"post",data:a},(function(e,i){if(e&&e.length>0){let i=-1;for(let e=0;e<t.messageList.length;e++)if(202==t.messageList[e].type){i=e;break}for(let a=0;a<e.length;a++){if(e[a].hasOwnProperty("wordIndex")){let t={wordIndex:e[a].wordIndex};if(e[a].hasOwnProperty("extend")){let i=JSON.parse(e[a]["extend"]);for(let e in i)t[e]=i[e];e[a]["extend"]=t}else e[a]["extend"]=t}if(i>-1&&202==e[a].type)try{e[a].chatRecordId=t.messageList[i].chatRecordId}catch(s){}t.receiveMessage(e[a])}}})),t.content=""},sendTipsMessage(t){let e=this;if(e.sysInput)return void e.$message.error($t("3dvwff7","系统正在回复中","lang"));let i=this.tipsData[t];if(-1!=i.type){if(1==i.type){let t=i.tip;e.isInputVal=!1,e.content=t,e.doSendMessage(),setTimeout((function(){e.isInputVal=!0}),300)}2==i.type&&(this.showQuestionTemplate=!0,i["applyId"]=this.applyId,this.questionTemplateData=i),3==i.type&&(this.content=i.tip)}},showQuestionTemplateHide(t){this.showQuestionTemplate=!1},changePage(t){this.$router.push({path:t.path,query:{applyId:this.applyId}})}}},m=g,f=(i("da4f"),i("36f1")),v=Object(f["a"])(m,s,a,!1,null,"cc08844a",null);e["default"]=v.exports},"7caf":function(t,e,i){},"7f02":function(t,e,i){},"7f70":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE7SURBVHgBvda/SwMxFAfwl/fOwUVwEHRwEhxEcPL//wOchCKoOAmCLoKL0OaS9nsQSNtrfryEfpc2udz7cJeQi7m5f7w2MtyxJzs6+/axePqkjtmtz56HW0N04g2dsgwPGECdglqoGepPMBsa4kG90IDFfeLNiv1oX3YHt6JzGGLd6l1+f77+zi+u/g3zZXwRbfTjOlXkEOZG+4z1IWj0QnMY/kvobEVLsC2wBS3F9kANWoPNgjVoLTbVoERSBfFbi2XBFDqXHIYIZXLo9WqwIrAELcUQpiOn6Alz81izI2XB0kVTiooGw5x5774126BoMCwQ7TYoGiy0NahoMS0qLZgGlVasFpUeWA1qemFxUjWnc2lPDMG94RMWZ/Zc2oqlUJxLZfNul97IGb6MmzPqoudRP8xpqO+cfV0DRSaBIUk+AIgAAAAASUVORK5CYII="},"7fed":function(t,e,i){},"7ffa":function(t,e,i){"use strict";i("d6e5")},"81c3":function(t,e,i){"use strict";i.d(e,"h",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"k",(function(){return o})),i.d(e,"j",(function(){return l})),i.d(e,"g",(function(){return r})),i.d(e,"f",(function(){return c})),i.d(e,"e",(function(){return d})),i.d(e,"b",(function(){return u})),i.d(e,"d",(function(){return h})),i.d(e,"i",(function(){return p})),i.d(e,"a",(function(){return g}));var s=i("b775");function a(t){return Object(s["b"])({url:"/role/company/list",method:"post",data:t})}function n(t){return Object(s["b"])({url:"/tool/query/draw/company/companyHistoryByVideo",method:"post",data:t})}function o(t){return Object(s["b"])({url:"/website/getWebsiteByUserId",method:"post",data:t})}function l(t){return Object(s["b"])({url:"/doc/share/getdoc/shareList",method:"post",data:t})}function r(t){return Object(s["b"])({url:"/user/company/ability/isAbilityExpand",method:"post",data:t})}function c(t){return Object(s["b"])({url:"/tools/getWeather",method:"get",params:t})}function d(t){return Object(s["b"])({url:"/friend/list",method:"post",data:t})}function u(t){return Object(s["b"])({url:"/user/room/voice/state",method:"post",data:t})}function h(t){return Object(s["b"])({url:"/ability/company/use",method:"post",data:t})}function p(t){return Object(s["b"])({url:"/user/apply/set/ability",method:"post",data:t})}function g(t){return Object(s["b"])({url:"/room/automatic/config",method:"post",data:t})}},"832b":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"leftButtons-page"},[t.isIntelligent?t._e():e("div",{staticClass:"intelligent",class:{intelligentWid:"ms"==t.langs||"vi"==t.langs||"id"==t.langs},on:{click:t.handleIntelligent}},[e("span",[t._v(t._s(t.t($t("fkcaan7","创建同款智能体","lang"))))])]),t._l(t.dataList,(function(s,a){return e("div",{key:a,staticClass:"leftButton-item-new",on:{click:function(e){return t.goOther(a)}}},[e("img",{staticClass:"btnImg",attrs:{src:s.buttonNotSelectedIcon,alt:""}}),e("div",{staticClass:"item-box"},[t.btnActive==a?e("img",{staticClass:"item-img",staticStyle:{cursor:"pointer"},attrs:{src:i("ea4c"),alt:""}}):e("div"),e("div",{staticClass:"btnTxt",attrs:{title:s.menuName}},[t._v(t._s(s.menuName))]),t.btnActive==a?e("img",{staticClass:"item-img",staticStyle:{cursor:"pointer"},attrs:{src:i("49c7"),alt:""}}):e("div")])])}))],2)},a=[],n=(i("8b03"),i("6e0d"),i("7b27"),i("2142"),i("81c3")),o=i("8327"),l={props:{isReadText:{type:Boolean,default:!1},applyId:{type:String,default:null},active:{type:Number,default:null},dataList:{type:Array,default:null}},data(){return{btnList:[{img:i("c47b"),path:"/expertAssistant",activeImg:i("e48f"),name:$t("a8cdmt4","专家助手","lang"),key:"expertAssistant",isClick:!1},{img:i("651c"),path:"/videoExplanation",activeImg:i("3df0"),name:$t("i0lr984","视频讲解","lang"),key:"studyVideo",isClick:!1},{img:i("9a08"),path:"/contentSharing",activeImg:i("42e4"),name:$t("d8opb54","文档分享","lang"),key:"docSharing",isClick:!1},{img:i("acc6"),path:"/websiteServices",activeImg:i("abf2"),name:$t("gkl6n04","网站服务","lang"),key:"website",isClick:!1}],pathList:[{key:1,path:""},{key:2,path:"/expertAssistant"},{key:3,path:""},{key:4,path:"/videoExplanation"},{key:5,path:"/contentSharing"},{key:6,path:"/websiteServices"},{key:7,path:"/photoShare"}],btnActive:null,paramsRouer:{},isIntelligent:!1,langs:localStorage.getItem("lang")}},computed:{...Object(o["c"])(["userInfo"])},mounted(){null!=this.active&&(this.btnActive=this.active),this.getInit()},methods:{goOther(t){this.btnActive=t,this.$emit("changePage",this.dataList[t],t)},getIsAbilityExpand(){Object(n["g"])({applyId:this.userInfo.tuzaiInfo.applyId}).then(t=>{if(t&&200==t.code)for(let e in t.data)for(let i of this.btnList)e==i.key&&(i.isClick=t.data[e]);else this.$message.error(t.msg?t.msg:t.errMsg)})},getInit(){var t;const e=window.location.href,i=e.split("?")[1],s=i?i.split("&").reduce((t,e)=>{const[i,s]=e.split("=");return t[i]=decodeURIComponent(s.replace(/\+/g," ")),t},{}):{};this.paramsRouer=s;let a=JSON.parse(localStorage.getItem("user")),n=null===(t=a.userInfo)||void 0===t||null===(t=t.agents)||void 0===t?void 0:t.list;if(a.userInfo){let t=n.some(t=>t.applyId===s.applyId);this.isIntelligent=t}},handleIntelligent(){let t=JSON.parse(localStorage.getItem("user"));if(t.userInfo){const{origin:t}=window.location,{BASE_URL:e}=Object({NODE_ENV:"production",VUE_APP_PREVIEW:"true",VUE_APP_BEI_AN_NUMBER:"蜀ICP备16012621号-6",VUE_APP_BASE_API:"https://mingto.ai",VUE_APP_TARGET_SOCKET_API:"wss://mingto.ai/wss/ws-table/notify/",VUE_APP_BASE_SOCKET_API:"wss://mingto.ai/backend-api/tuzai",VUE_APP_MOBILE:"https://mingto.ai/mobile/",VUE_APP_COUNT_ID:"r9fnwze94f",VUE_APP_BARRAGE_SOCKET_API:"wss://mingto.ai/backend-api/edu/chat/barrage",VUE_APP_TASK_SOCKET_API:"wss://mingto.ai/backend-api/tuzai/room/socket",VUE_APP_AMAP_URL:"https://workbrain.cn/_AMapService",VUE_APP_AMAP_KEY:"61e45b99dd30cb7bdcf478e78fb2a146",BASE_URL:"/room/"});window.open(`${t}${e}#/chat?applyId=${this.paramsRouer.applyId}&type=intelligent`)}else this.$emit("handleLogin",!0)}}},r=l,c=(i("8617"),i("36f1")),d=Object(c["a"])(r,s,a,!1,null,"2305ce12",null);e["a"]=d.exports},8593:function(t,e,i){},8617:function(t,e,i){"use strict";i("c1c6")},8972:function(t,e,i){},"89c0":function(t,e,i){},"8a21":function(t,e,i){"use strict";var s,a=function(){var t=this,e=t._self._c;return e("div",{ref:"textRef",staticClass:"markdown",class:{tableBgd:1==t.bgd},style:t.getWidthStyle,attrs:{id:"virtually"},domProps:{innerHTML:t._s(t.content)},on:{click:function(e){return e.stopPropagation(),t.openTips.apply(null,arguments)},wheel:function(e){return e.stopPropagation(),t.getVirtually.apply(null,arguments)}}})},n=[],o=(i("6e0d"),i("264f"),i("2443")),l=i.n(o),r=i("accd"),c=i.n(r);function d(t="",e=""){var i;return s&&(i="bgd"),`<pre class="code-block-wrapper ${i}"><div class="code-block-header"><span class="code-block-header__lang">${e}${$t("wzjj612o",'</span><span class="code-block-header__copy">复制代码</span></div><code class="hljs code-block-body ',"lang")}${e}">${t}</code></pre>`}const u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(t){return t.replace(/[&<>"]/g,(function(t){return u[t]}))}const p=new l.a({html:!0,highlight(t,e){const i=!(!e||!c.a.getLanguage(e));if(i){const i=e||"";return d(c.a.highlight(t,{language:i}).value,i)}return d(c.a.highlightAuto(t).value,"")}}),g=(t,e,i,s,a)=>{const n=t[e],o=n.attrIndex("href");return o>=0&&(n.attrs[o][0]="javascript:void(0)",n.attrs[o][1]="",n.attrPush(["rel","noopener noreferrer"])),a.renderToken(t,e,i)},m=(t,e,i,s,a)=>{const n=t[e];if(n.content){const t=/<br>/g;n.content=n.content.replace(t,"\n")}let o=h(n.content);return"<code"+a.renderAttrs(n)+">"+o+"</code>"};p.renderer.rules.code_inline=m,p.renderer.rules.link_open=g;var f={name:"MessageText",props:{value:{type:String,default:""},inputDivWidth:{type:Number,default:null},bgd:{type:Boolean,default:!1}},created(){s=this.bgd},methods:{openTips(){this.$emit("openTips","openTips")},copyText(t){return new Promise((e,i)=>{try{const i=document.createElement("textarea");i.setAttribute("readonly","readonly"),i.value=t,document.body.appendChild(i),i.select(),document.execCommand("copy")&&(document.execCommand("copy"),document.body.removeChild(i)),e(t)}catch(s){i(error)}})},addCopyEvents(){let t=this;const e=t.$refs.textRef.querySelectorAll(".code-block-header__copy");e.forEach(e=>{e.addEventListener("click",()=>{const i=e.parentElement?e.parentElement.nextElementSibling.textContent:e.textContent;i&&t.copyText(i).then(()=>{e.textContent=$t("bkv2mw4","复制成功","lang"),setTimeout(()=>{e.textContent=$t("bks0lj4","复制代码","lang")},1e3)})})}),t.getVirtually()},getVirtually(){let t=document.querySelectorAll("table");for(var e=0;e<t.length;e++){let i=t[e];i.addEventListener("wheel",(function(t){let e=-t.wheelDelta||t.deltaY/2;i.scrollLeft=i.scrollLeft+e,t.preventDefault()}))}}},computed:{content(){return p.render(this.value)},getWidthStyle(){const t=this.inputDivWidth?this.inputDivWidth:"";return{"max-width":t-24+"px"}}},mounted(){this.addCopyEvents()}},v=f,y=(i("a5a7"),i("36f1")),b=Object(y["a"])(v,a,n,!1,null,"5d99591b",null);e["a"]=b.exports},"8be0":function(t,e,i){"use strict";i("6e0d"),i("eb9e"),i("2142");var s=i("e7dc"),a=i.n(s),n=i("bcba");const o={ALL:null,DOC:0,TEXT:1,IMAGE:2,VIDEO:3,PPT:4};var l=i("0e9a");const r={DOC:"doc",DOCX:"docx",PDF:"pdf",PPT:"ppt",PPTX:"pptx",XLS:"xls",XLSX:"xlsx",JPG:"jpg",PNG:"png",JPEG:"jpeg",WEBP:"webp",MP4:"mp4",AVI:"avi",FLV:"flv",MKV:"mkv",TXT:"txt",HTML:"html",GIF:"gif"},c=new RegExp(`\\.(${Object.values(r).join("|")})$`,"i"),d=new RegExp("([^/]*)$","i");e["a"]={methods:{getFileSuffix(t=""){let e="";const i=t.match(c);return i&&(e=i[1]),e},getFileType(t){const e=this.getFileItemSuffix({title:t}),i=[{condition:()=>[r.DOC,r.DOCX].includes(e),content:"word"},{condition:()=>[r.PDF].includes(e),content:"pdf"},{condition:()=>[r.PPT,r.PPTX].includes(e),content:"ppt"},{condition:()=>[r.XLS,r.XLSX].includes(e),content:"excel"},{condition:()=>[r.JPEG,r.PNG,r.JPG,r.WEBP,r.GIF].includes(e),content:"image"},{condition:()=>[r.MP4,r.AVI,r.FLV,r.MKV].includes(e),content:"video"},{condition:()=>[r.TXT].includes(e),content:"txt"}];let s="other";const a=i.find(t=>t.condition());return a&&(s=a.content),s},getFileIcon(t){let e=()=>i("dee5");const s=[{condition:()=>[r.DOC,r.DOCX].includes(t),content:()=>i("d475")},{condition:()=>[r.PDF].includes(t),content:()=>i("0a04")},{condition:()=>[r.PPT,r.PPTX].includes(t),content:()=>i("ead8")},{condition:()=>[r.XLS,r.XLSX].includes(t),content:()=>i("fcce")},{condition:()=>[r.JPEG,r.PNG,r.JPG,r.WEBP,r.GIF].includes(t),content:()=>i("665f")},{condition:()=>[r.MP4,r.AVI,r.FLV,r.MKV].includes(t),content:()=>i("473e")},{condition:()=>[r.TXT].includes(t),content:()=>i("ce49")}],a=s.find(t=>t.condition());return a&&(e=a.content),e()},getFileTitle(t=""){t=t.replace(c,"");let e="";const i=t.match(d);return i&&(e=i[1]),e},getFileItemSuffix(t){const{title:e,url:i,viewUrl:s,videoUrl:a}=t;let o="";return[e,i,s,a].filter(Boolean).some(t=>{if(!Object(n["isEmpty"])(this.getFileSuffix(t)))return o+=""+this.getFileSuffix(t),!0}),o},getFileItemIcon(t){const e=this.getFileItemSuffix(t),i=this.getFileIcon(e);return i},getFileItemTitle(t,e=!1){const{title:i}=t;let s=this.getFileTitle(i),a=this.getFileItemSuffix(t);return e&&(s+="_"+Object(n["random"])(0,Number.MAX_SAFE_INTEGER)),a&&(s+="."+a),s},getFileItemDownloadUrl(t){const{viewUrl:e,imgUrl:i,videoUrl:s,feedType:a}=t;let n=e;return[o.IMAGE].some(t=>Number(t)===Number(a))?n=i:[o.VIDEO].some(t=>Number(t)===Number(a))&&(n=s),n},downloadFileItem(t){if(0===Object.keys(t).length)return;const e=this.getFileItemDownloadUrl(t),i=this.getFileItemTitle(t);a.a.saveAs(""+e,i)},async batchDownloadFile(t,e){await Object(l["b"])(t.map(t=>({url:this.getFileItemDownloadUrl(t),name:this.getFileItemTitle(t,!0)})),e)}}}},"8cf0":function(t,e,i){t.exports=i.p+"aaffd0285a6ab126be953cfac1a513b1.png"},"8f01":function(t,e,i){"use strict";i("b66c")},"91d7":function(t,e,i){"use strict";i("e575")},9516:function(t,e,i){},"99da":function(t,e,i){},"9a05":function(t,e,i){},"9a08":function(t,e,i){t.exports=i.p+"c2b635930e9688312dfbfa5d97a9ebed.png"},"9bd9":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return o}));var s=i("523d");let a;function n(t="/backend-api/tuzai/chat/send/response/v2",e={},i){"EventSource"in window&&(a=new AbortController,e["signal"]=a.signal,Object(s["a"])(t,{openWhenHidden:!0,...e,onopen(){},onmessage(t){i(t)},onclose(){},onerror(t){i(null,t)}}))}function o(){a&&a.abort()}},"9e44":function(t,e,i){t.exports=i.p+"c1d292951a6e301f697f258bd4f4b8bf.png"},a1c6:function(t,e,i){},a3391:function(t,e,i){},a5a7:function(t,e,i){"use strict";i("b77d")},a8d4:function(t,e,i){"use strict";i("41a0")},ab0a:function(t,e,i){"use strict";i("bee2")},abd7:function(t,e,i){"use strict";i("25b4")},abf2:function(t,e,i){t.exports=i.p+"4fcfd4686c05703d2ed8612ee03c2220.png"},acc6:function(t,e,i){t.exports=i.p+"ee55c4bece5dffd062bb62ec9280e45f.png"},ae8b:function(t,e,i){"use strict";i("7f02")},b09b:function(t,e,i){t.exports=i.p+"4cce436cdb4fe3cfcd0bd4a591da2f3b.png"},b393:function(t,e,i){t.exports=i.p+"e65254a34401442accc92f3ab0065c91.png"},b455:function(t,e,i){"use strict";i("026e")},b66c:function(t,e,i){},b73a:function(t,e,i){},b77d:function(t,e,i){},b84a:function(t,e,i){t.exports=i.p+"a8922bb49128e0d6168629866b49ea6e.gif"},b877:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFCSURBVHgB7ZJBTsMwEEVnakdJpQqFGyQnIF2xYJPuWBSpPQFX4AalR+EGLBBbsitSF8kRygmIVNQWGnsYA5GSkjrZw5csS57v5++xAf7VpPfleLZ5vrrp4sU2w3ZxGYBwntjou846xGGS2/y9NmBPymueAmLg5uOkNSV2SWeAP+a8LWUNuF6OYyQdSBRnoDkVQlTCKlohQcZ3W2kFL1qpZHDxmJVFWXVKghmAiInAlt0cFAB7kBsmeiLhtVFZrPVw58gpAWbQUQiUeY6Y1tcO9JpOfHev+VUpaoO5jhzh8D63Akuot1cp/O5fuYkfR4SHMKPGb3PKRvNNwJawAXYUaBKiBWgOozT2OwO9oogqm3Mgmn+Nit52g6gzUBU6+KbRvM+96p8/3JoBSoSa6M6UBNofrSZzZeJxrL5dTAJb/Y/pE7ZmdDWJ7BblAAAAAElFTkSuQmCC"},bb24:function(t,e,i){"use strict";i("22dc")},bb56:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return t.isShow?e("footer",{staticClass:"foot-containt"},[e("div",{staticClass:"foot-main"},[e("i",{staticClass:"icon-person"}),e("div",[e("h1",[t._v(t._s(t.t($t("wqjf6oi","立即注册数字人，免费创建你的数字分身","lang"))))]),e("section",[t._v(t._s(t.t($t("vlcvzgo","专属数字人IP，赋予其独有的角色形象、能力和技能","lang"))))])]),e("el-button",{attrs:{type:"primary"},on:{click:t.handleExpress}},[t._v(t._s(t.t($t("fu6dup4","立即体验","lang"))))])],1),e("i",{staticClass:"el-icon-close",on:{click:function(e){t.isShow=!1}}})]):t._e()},a=[],n={data(){return{isShow:!0}},methods:{handleExpress(){location.replace("/")}}},o=n,l=(i("f3a0"),i("36f1")),r=Object(l["a"])(o,s,a,!1,null,"0716013d",null);e["a"]=r.exports},bbde:function(t,e,i){},bca8:function(t,e,i){},bee2:function(t,e,i){},c070:function(t,e,i){"use strict";i("665a")},c1c6:function(t,e,i){},c303:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFIAAAAjCAYAAAAHUl3/AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGNSURBVHgB7dqxTsJAGAfw/1eRzUR8gvoAJrBrgm/AaGSpT6Ark3QiToYnAAeNI28gib4H3dxsBzUkWs47CAZsIb2r4/+XQL+76/TP1zZpT6CpXtMHvgcQ1KGwDypGMMK0ciHdceItQkyf9HSTIVpSaKH6FZjSg6TXesYHuREvMQdPh9gCOZII2BmbyuPlXIa6k844MpUHciSRdF66yxGDdBeuDhikE9ONz8PVGQbpJvw7wSCtZbvRYJD2wrxJBmklvxsNBmkn3LTAIAvb3I0GgyxKVLJtmUEWpVBfvCnLxyCtmDdl+RikFRWo3nEzb4VB2svtSgZpr5nXlQzSTaYrGaSbTFcySHdrXckg3a11JYMsRQbLikGWonx1czL/Cssgy0pnvjlUQCXo79pSGZmq8vE66c+m75ebTt07PDoFZe3MEnxWI7PvxwzF/MXnCJTgVpeZzQIH94tzaLv5PbL2gKGkaOgyAjn5fdjUHhHJLhq6M/ug/xG3cfXWhjI/UDnxGXwd5ARUXhxwp1pRP6JzaLIxq1eEAAAAAElFTkSuQmCC"},c47b:function(t,e,i){t.exports=i.p+"1da37bc3b9bf68c5689b614ebbd63c7b.png"},c60c:function(t,e,i){},c841:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAOCAYAAAAbvf3sAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGWSURBVHgBrVFNSyNBEH0105mkJ9ndmXV3nf3IGmHjwq6HCCKCN/UgKHjyrqLgTQUv3uYPiEcF8ST+CS/6DxT1IlFiPGgQxRgSEs3MlJ0EJQFvWvCa6sd71V1VwHvFYf+P4aOUtXvQY68386L5wswi3Wd369IYN9vu3aAaQe5OLDdr6Dm5didilbPMltSQk/JkLhovoZh1sLJjyKWJr1b032iFptz8i6Ew83+DSLPCscuRUKoYq3He8UcEVemCaCG8mrVrnFY7LhYHeoV2MxMyrv6ILiVOSsDUocfuEYRu50T4Ot/Sg6Ofz9OXAkhHgpIG+LsBihCo4CPyUHW8HHItBiFuflGCwT4sOBLkCJUz8DcC5H2g9Ng6pbLhW2Zc1qsiqr6j/QbZSsRZQOoQJToFGqZ6D2a7POc25U2qitHPgD4NfFpU+ADYOnw72Hx+oW7Az/ZtMmrVO5VoVrGDDZid9ebR8a1lX42lHcXXuDikdldWeFTwmCtjzPmOdDmTSuC18ArOJHt7u0qd4SC9z+Uulzlh4S3xBJLHiJb0teeQAAAAAElFTkSuQmCC"},c8d1:function(t,e,i){},c99c:function(t,e,i){t.exports=i.p+"6d8ae252c9941d939a9204c6dc6fa99e.png"},cc0f:function(t,e,i){"use strict";i("6028")},ce82:function(t,e,i){},d110:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQ8SURBVHgB7Ve9axRBFH9vdjeb8+tEERQUL5EEY0QELTSN2ttaCvkHLOwUwa9CsbS20UYxlY29WtiFdCIIphBNJAQCCrl83I7vzby3O3cRM0eusNhHJrPzcTO/+b2vGYBaaqmlllp2Ihgz6dpbexjW7bMC4HTHAhRUuN7sAFAFm9xHg/Tn+gvq73A/4E9bwNO5aXwFO5Q0alIBDzsGrzIqpGKoz9IRTUKACF3Ck6jTWjm58b+juS36fnnuuW3NTuNj2IGYmEkJ2LGEZiaEIiFUhr5TKkM0NiTfKY1lWNUZjeXg22jso/MvOvdhBxLFKKKcyFHp68n9AONNYRB9zUOOdfR9RoHTR57ivcZXe6uRwExm4PbZY/gd+pBIRj2buvGRXQAnm77NoNgcwAYgwZsB2zLZqDOPTV9yqq6TRma+LNt90IdEAc0IpRH1MrjdiZiBFB5DNg0xD5R5jLnQUnin2/RON1VswNynH/Y4REoco8IkA9LCwDAApYxbbYMvahIMVlnmQgOjwym8W1iwh2IwRAFlUKr2JACFfyk65lbG6kC2XCxkAFqdYXgNERIFNDWVilNTgTTiZFpQ1F2q3kgbBLwUdTb0JFxZ+GUnt8UAEcLgnLaElkTAqnD3UhtgZU18ypa+5dSskYF/M3EQYE/WbceUGbZVfxRQxxizU/i2qtk3PJiPi0DJyzsNZyWXqdQmpY+9f3bRwp2LqD+NzI2xcZRVzxtKHE1MBVTNceIAwHK7Sq8lq9aD1NA11kTnZGoazgEjUEQBTTQ9ij41BKEAsDR+6gCULq6BvzwJcNAHGCaEuwK1q82mdnsMcTaKVYhxe2PlhSj2y/Fxlai0go4Pxr9rpIE9BhlLHSzKm6HPFKokaARQ4dj54RvA7w0sVa83qanDAK1md5RA7I7DMChGWfXsEG69YENVK4MzkpnU3ZnRJFC/qtqYIIzJWAyIOEYVrIBQR1Dh29LlowDtjk85jLJwCQKdXZbawO5Y2xU9BgE0FabcwkU3oxovMwI0RDbhWUfneOFtCntss+yDOOnf64OLhw1VKILBRxgnMchoaKpxx+jAwpMwV8b4wM56/UD7LASx1la2WbIarGMHGp5QGC0khfboLDyItlWMvg5M9e1uYXKYBAYEVDOTAxBs6sZ6QJVog04G454pprpdmTB6DEr1BHTRlNHev5tyswVPGROtCcxEwDAo73AVs2qzEZqPdab1B7TFBfeqpFVzWpwuvVvUDdDjQPIPRQOZgM3S6roYK1HR4caZ/PPKGzix17Zbu9faI+PN4ia/Poclf+eprzld8gEa8t3IpJY+nseMpklgp5EBv48zVTK/ZC8hPSPcAhKfesOUjoUX6Cx4KaDYq6NqDUYbDZz/156x8bZLRg7he9rkCbHTycRec7E/Zi1XNqnkmTAu6nZgk5LNVboD3t0OZC211FLLfyx/AFkhIN4cx8ltAAAAAElFTkSuQmCC"},d1e8:function(t,e,i){"use strict";i("a3391")},d2e2:function(t,e,i){"use strict";i("8593")},d3b7:function(t,e,i){},d3f4:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dialogue-item"},[e("div",{class:t.itemDetail.isSender?"item-user-news":"item-robot-news",staticStyle:{position:"relative"}},[t.itemDetail.isSender||-1!=t.itemDetail.type?t._e():e("div",{staticStyle:{"font-size":"12px",display:"flex","flex-direction":"column"}},[t._m(0),e("span",{staticStyle:{color:"#242e3a",opacity:"0.4"}},[t._v($t("irpx08","正在思考中...","lang"))])]),-4==t.itemDetail.type&&t.itemDetail.extend.tip?e("div",{staticClass:"message-content-box"},[e("div",{staticClass:"message-content",domProps:{innerHTML:t._s(t.contentFilter(t.itemDetail.extend.tip.content))}})]):t._e(),1==t.itemDetail.type||-3==t.itemDetail.type||112==t.itemDetail.type?e("div",{staticClass:"dialogue-item-content"},[e("markdown",{attrs:{bgd:!0,value:t.itemDetail.content}})],1):t._e(),102==t.itemDetail.type&&t.itemDetail.extend?e("div",{staticClass:"dialogue-item-tipList",staticStyle:{"flex-direction":"column",display:"block"},attrs:{getMessageInfo:""}},t._l(t.itemDetail.extend,(function(i,s){return e("div",{key:s,staticClass:"dialogue-item-tipItem",on:{click:function(e){return t.sendMessageList(s)}}},[e("div",{staticClass:"dialogue-item-tipName"},[t._v(t._s(i.tip))])])})),0):t._e(),300==t.itemDetail.type&&t.itemDetail.extend?e("div",{staticClass:"dialogue-item-tipList",staticStyle:{"flex-direction":"column",display:"block"}},t._l(t.itemDetail.extend,(function(i,s){return e("div",{key:s,staticClass:"dialogue-item-tipItem",on:{click:function(e){return t.sendMessageList(s)}}},[e("div",{staticClass:"dialogue-item-tipName"},[t._v(t._s(i.tip))])])})),0):t._e(),998==t.itemDetail.type?e("div",{staticClass:"dialogue-item-QATipList"},[e("div",{staticClass:"item-qa-title"},[t._v(t._s(t.itemDetail.title))]),t._l(t.itemDetail.extend,(function(i,s){return e("div",{key:s,staticClass:"dialogue-item-qaItem"},[t._v(" "+t._s(i.name)+" ")])}))],2):t._e()]),t.itemDetail.extend&&t.itemDetail.extend.name&&1==t.itemDetail.type?e("div",{staticStyle:{width:"max-content","background-color":"#5d89f7",cursor:"pointer",padding:"5px 10px","margin-top":"-5px",color:"#ffffff","font-size":"12px"},on:{click:t.sendMessageItem}},[t._v(" "+t._s(t.itemDetail.extend.name)+" ")]):t._e(),e("div",{staticStyle:{width:"0px",height:"0px",background:"rgba(0, 0, 0, 0)"},attrs:{id:t.itemDetail.chatRecordId+"_item"}})])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"systemContent",staticStyle:{"align-self":"flex-start"}},[e("img",{staticClass:"dot-message",attrs:{src:i("15ad"),alt:""}})])}],n=i("8a21"),o={components:{markdown:n["a"]},props:{index:{type:Number,default:null},itemDetail:{type:Object,default:null}},methods:{contentFilter(t){if(t){t=t.replace(/(\r?\n){1,}|(\\[rn])+|\\n/g,"<br>");let i=/\【(.*?)\】/gi;var e=t.match(i);if(e){let i=t.substring(0,t.indexOf("【")),s=t.substring(t.lastIndexOf("】")+1,t.length),a=e[0];return a=a.replace(/\【/g,"“"),a=a.replace(/\】/g,"”"),i+"<span style='color:#5D89F7'>"+a+"</span>"+s}return t}return""},sendMessageList(t){this.$emit("sendMessageList",this.index,t)},sendMessageItem(){this.$emit("sendMessageItem",this.index)}}},l=o,r=(i("5e8b"),i("36f1")),c=Object(r["a"])(l,s,a,!1,null,"144c8852",null);e["a"]=c.exports},d422:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ4OCwgMjAyMC8wNy8xMC0yMjowNjo1MyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQxRUI5MEI3ODM4NTExRUU5RjU0RTgwMDM1QTVDMEUyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQxRUI5MEI4ODM4NTExRUU5RjU0RTgwMDM1QTVDMEUyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDFFQjkwQjU4Mzg1MTFFRTlGNTRFODAwMzVBNUMwRTIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDFFQjkwQjY4Mzg1MTFFRTlGNTRFODAwMzVBNUMwRTIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5ZGdVPAAADHUlEQVR42sSYS2wNURjH545HvJ+3KEJCqVfQNCX1jgWNSNqKJhLv2FSwIWkiHguqCQuEYGGBoIliw6ILJB4lNIKq92PhkQYXRcNCLtf/S/4nOZnMvXNmzPR+ya93zunMmf895zvn+74bSyQSlk+bAyaDiWAcyAU2+AiegfvgEbgM/pgOGjMUMhSsBRVglOHY78FFcAQ0/6+QzqAGbOC1sp+gAbwBv9jXFQwB00FfxzhHwQ6K8y2kGJwCI9j+C06AWnAPfE3zXA8u3VKwAnRjvwheDer8CFnIaVV2HmziDPixgWAPBSnbCPY5b7RdHi51iJBBFgcQYdGBV4Jy8J19e0Gl14wUcNqVH8h6N1nh2HBwHQxjewk44yYkBj6AASAJJoEnVrgmY78AvdkW525xLs0B3ii2LAIRYp9AidY+6fSROFjP63p9yiKw25qAuaBQF1KlbdEKK3qr1Jy3WgkR31jDzmN00qhNzpTdvJalyhFnlem5ws5Cbdeks9NgNGfPzWyeoOUGYeMdr1d1xJ8pbLQyYHnZfNDf454Cw1gkwXECmCXqi/gP2eMpwwG87K3hEt1QK2HzvLDUfm5nU4dYH1ub5h9ZEKK+fHdb28KpLAhRiZMtIr6x0TMLQgap7SxCnrORkwUh6p1tIuQWGzMMH477eIGXTeVns5wjD9gYDMaDxx4PP6VfpTvQYobbN64JaRAhl8Bv5qQSdTd7DFDCl6UyCDFx/EXadb3N2FLLjnWGnp7kpxtJwzJiCz/vgle2HgG5cw63g5NWa5naNmeGdpa5qdhsHvlRWD4LMbGH6mTXhUgt8pmOKAEwL0PJENQ6gNfMXy2WHU3OVLFVC90i6g7oF6KITgxySsRWPTF3lhMXNCfK443TQhBRxBSjmG2pa3Z51TU1LKZU8nIT7AddAoqQFzbyjBI7yCLLuORcDo5rYiWbOgTOcZ0zmeyIMhbuY7T+7WBnkCI8n5XZAkd/Iyv8FpJiAMvlTxUzXTL3Ki0RCvyzxDx+uzKfy3KN51JdWL+PKBvJI14C5FjGi1481tvAF/CSAq76KVf/CTAAWbTJmEH/Oe0AAAAASUVORK5CYII="},d6e5:function(t,e,i){},d761:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"backBtns-page"},[e("div",{staticClass:"btn-item",on:{click:t.goHome}},[e("img",{attrs:{src:i("03a7")}})])])},a=[];i("8327");const n="xun-fei-news";var o={data(){return{shareUserInfo:null}},mounted(){let t=window.localStorage.getItem("shareUserInfo");t&&(this.shareUserInfo=JSON.parse(t))},methods:{goHome(){this.stopXunFeiRead(),this.$emit("goShowRoom")},backUp(){this.stopXunFeiRead(),this.$emit("goShowRoom")},stopXunFeiRead(){this.$root.$emit("xunFeiPost",{eventType:"xun-fei-stop",eventName:n})}}},l=o,r=(i("cc0f"),i("36f1")),c=Object(r["a"])(l,s,a,!1,null,"a913507e",null);e["a"]=c.exports},d824:function(t,e,i){t.exports=i.p+"993fa2c34f20b37177fcbef926972f38.png"},d8c1:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",[t.faceItemUrlV2?[e("aside",{staticClass:"person-number-middle",style:{"background-image":`url('${t.faceItemUrlV2}')`}})]:t.info.apply&&t.info.apply.image&&t.info.apply.gif?[e("aside",{directives:[{name:"show",rawName:"v-show",value:!t.optionsStop.isShow,expression:"!optionsStop.isShow"}],staticClass:"person-number-middle",style:{"background-image":`url('${t.info.apply.image}')`}}),e("aside",{directives:[{name:"show",rawName:"v-show",value:t.optionsStop.isShow,expression:"optionsStop.isShow"}],staticClass:"person-number-middle",style:{"background-image":`url('${t.info.apply.gif}')`}})]:t.info.apply&&t.info.apply.video?[e("div",{staticClass:"person-number-avatar-wrapper"},[e("video",{ref:"avatarVideoRef",staticClass:"person-number-avatar",attrs:{height:"100%",src:t.info.apply.video,autoplay:"",loop:"",muted:"",disablePictureInPicture:""},domProps:{muted:!0},on:{timeupdate:t.onTimeupdate}})])]:[e("div",{staticClass:"person-number-avatar-wrapper"},[t.dynamicStyles?[e("el-image",{directives:[{name:"show",rawName:"v-show",value:-1===t.abilityId,expression:"abilityId === -1"}],staticStyle:{width:"100%",height:"100%"},attrs:{src:t.dynamicStyles}}),e("el-image",{directives:[{name:"show",rawName:"v-show",value:-1!==t.abilityId,expression:"abilityId !== -1"}],staticStyle:{width:"100%",height:"100%"},attrs:{src:t.dynamicStyles}})]:t._e()],2)]],2)},a=[],n={props:{faceItemUrlV2:{type:String,default:""},abilityId:{type:String|Number,default:-1},info:{type:Object,default:()=>{}},optionsStop:{type:Object,default:()=>{}}},data(){return{}},computed:{dynamicStyles(){var t;return this.info.apply?(null===(t=this.info.apply.personalCenterImg)||void 0===t?void 0:t.trim())||"":"#"}},methods:{onTimeupdate(t){this.optionsStop.isShow?(t.target.currentTime>7||t.target.currentTime<3)&&(this.$refs.avatarVideoRef.currentTime=5):t.target.currentTime>2&&(this.$refs.avatarVideoRef.currentTime=0)}}},o=n,l=(i("2d6e"),i("36f1")),r=Object(l["a"])(o,s,a,!1,null,"fd735e8e",null);e["a"]=r.exports},da01:function(t,e,i){t.exports=i.p+"ce07a8832a6e538caba798c741f2adf5.png"},da4f:function(t,e,i){"use strict";i("1462")},db02:function(t,e,i){t.exports=i.p+"0ade6c11c4cf353990897c0433714fa3.png"},db92:function(t,e,i){"use strict";i("537e")},dc64:function(t,e,i){"use strict";i("66c8")},ddd5:function(t,e,i){t.exports=i.p+"9ab5d780906a8188e262cb25577a7046.png"},e29d:function(t,e,i){"use strict";i("33c7")},e370:function(t,e,i){t.exports=i.p+"3c48d7fad258e2b2a51a52dc9ab9603e.png"},e40e:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-content"},[e("aside",[e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"my-preview-file"},[t.keyWordsListItem.id&&"docx"===t.keyWordsListItem.suffix||t.keyWordsListItem.id&&"pdf"===t.keyWordsListItem.suffix?void 0:t.keyWordsListItem.id&&t.keyWordsListItem.previewUrl?[e("iframe",{attrs:{src:t.keyWordsListItem.previewUrl}})]:t.keyWordsListItem.id?t._e():[e("div",[t._v(t._s(t.t($t("k86stq6","暂无文件分享","lang"))))])]],2),e("section",[e("div",{staticClass:"share-title"},[e("i",{staticClass:"left-icon"}),e("span",[t._v(t._s(t.keyWordsListItem.title))]),e("i",{staticClass:"right-icon"})]),e("span",{staticClass:"pointer",on:{click:function(e){return t.down()}}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"}},[e("path",{attrs:{d:"M5.36806 6.73031V0H6.63122V6.73098L8.41793 4.94427L9.31112 5.83746L5.99998 9.1486L2.68884 5.83746L3.58202 4.94427L5.36806 6.73031ZM1.57859 10.7368V9.47368H0.31543V12H11.6839V9.47368H10.4207V10.7368H1.57859Z",fill:"white"}})]),t._v(" "+t._s(t.t($t("e28i2","下载","lang")))+" ")])])])])},a=[],n=i("ed08"),o=(i("e726"),i("1e36")),l=i("8be0"),r=i("f88f");var c={mixins:[l["a"]],components:{},props:{keyWordsListItem:{type:Object,default:{}}},data(){return{dataList:[],activeIndex:0,loading:!1,isExpand:!1,svgPath:o["a"]}},methods:{down(){var t=document.createElement("a");t.setAttribute("href",this.keyWordsListItem.viewUrl),t.setAttribute("download",this.keyWordsListItem.title),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},filters:{fileTypeIcon(t){return n["a"].fileTypeIcon(t.suffix)},previewURL(t){let e="http://172.168.80.30:30177/onlinePreview?url=";return e="https://mingto.ai/preview/onlinePreview?url=",e+=r["a"].encode(t.viewUrl),t.previewURL?t.previewURL:e}}},d=c,u=(i("37ae"),i("7ad1"),i("36f1")),h=Object(u["a"])(d,s,a,!1,null,"317dfaf0",null);e["a"]=h.exports},e48f:function(t,e,i){t.exports=i.p+"1323c62c74c978216eaf1a992fd7f392.png"},e575:function(t,e,i){},e620:function(t,e,i){"use strict";i("6eaf")},e726:function(t,e,i){"use strict";i.d(e,"m",(function(){return n})),i.d(e,"D",(function(){return o})),i.d(e,"h",(function(){return l})),i.d(e,"i",(function(){return r})),i.d(e,"C",(function(){return c})),i.d(e,"a",(function(){return d})),i.d(e,"k",(function(){return u})),i.d(e,"x",(function(){return h})),i.d(e,"f",(function(){return p})),i.d(e,"g",(function(){return g})),i.d(e,"w",(function(){return m})),i.d(e,"l",(function(){return f})),i.d(e,"q",(function(){return v})),i.d(e,"B",(function(){return y})),i.d(e,"J",(function(){return b})),i.d(e,"j",(function(){return w})),i.d(e,"t",(function(){return I})),i.d(e,"A",(function(){return C})),i.d(e,"y",(function(){return k})),i.d(e,"z",(function(){return S})),i.d(e,"e",(function(){return x})),i.d(e,"d",(function(){return A})),i.d(e,"u",(function(){return L})),i.d(e,"F",(function(){return T})),i.d(e,"E",(function(){return O})),i.d(e,"G",(function(){return _})),i.d(e,"H",(function(){return $})),i.d(e,"s",(function(){return D})),i.d(e,"b",(function(){return j})),i.d(e,"c",(function(){return R})),i.d(e,"v",(function(){return F})),i.d(e,"p",(function(){return E})),i.d(e,"I",(function(){return P})),i.d(e,"n",(function(){return N})),i.d(e,"r",(function(){return M})),i.d(e,"K",(function(){return B})),i.d(e,"o",(function(){return U}));var s=i("b775"),a=i("ed08");function n(t){return Object(s["b"])({url:"website/addOrEdit",method:"post",data:t})}function o(t){return Object(s["b"])({url:"website/getWebsiteList",method:"post",data:t})}function l(t){return Object(s["b"])({url:"website/remove",method:"post",data:t})}function r(t){return Object(s["b"])({url:"website/company/removeBatch",method:"post",data:t})}function c(t){return Object(s["b"])({url:"website/detail",method:"post",data:t})}function d(t){return Object(s["b"])({url:"mmflow/process/quickCreate",method:"post",data:t})}function u(t){return Object(s["b"])({url:"mmflow/process/quickUpdate",method:"post",data:t})}function h(t){return Object(s["b"])({url:"mmflow/process/allQuickProcess",method:"post",data:t})}function p(t){return Object(s["b"])({url:"mmflow/process/quickDel",method:"post",data:t})}function g(t){return Object(s["b"])({url:"mmflow/process/quickDelAll",method:"post",data:t})}function m(t){return Object(s["b"])({url:"mmflow/process/quickDetails",method:"post",data:t})}function f(t){return Object(s["b"])({url:"tool/company/video/addOrEdit",method:"post",data:t})}function v(t){return Object(s["b"])({url:"tool/getPictureExplanation",method:"post",data:t})}function y(t){return Object(s["b"])({url:"tool/video/info",method:"post",data:t})}function b(t){return Object(s["b"])({url:"/user/company/task/binding",method:"post",data:t})}function w(t){return Object(s["b"])({url:"doc/share/addOrEdit",method:"post",data:t})}function I(t){return Object(s["b"])({url:"knowledge/company/base/all",method:"post",data:t})}function C(t){return Object(s["b"])({url:"mmflow/process/getProcessTableColums",method:"post",data:t})}function k(t){return Object(s["b"])({url:"mmflow/process/pageProcessTableData",method:"post",data:t})}function S(t){return Object(s["b"])({url:"mmflow/process/export",method:"post",data:t,responseType:"blob"})}function x(t){return Object(s["b"])({url:"knowledge/relation/removeByMenuIdAndQaId",method:"post",data:t})}function A(t){return Object(s["b"])({url:"/knowledge/relation/menu/clear/"+t,method:"get"})}function L(t){return Object(s["b"])({url:"knowledge/relation/ability/knowledgeQa/list",method:"post",data:t})}function T(t){return Object(s["b"])({url:"knowledge/importDoc",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function O(t){return Object(s["b"])({url:"knowledge/importDoc2ByPicAndVideo",method:"post",data:{...t,agentId:a["a"].getQueryVariable(window.location.href,"applyId")}})}function _(t,e){return Object(s["b"])({url:"mmflow/process/deploy/"+t,method:"post",data:e})}function $(t){return Object(s["b"])({url:"/task/serverList",method:"get",params:t})}function D(t){return Object(s["b"])({url:"/edu/barrage/history_list",method:"get",params:t})}function j(t){return Object(s["b"])({url:"/task/step/start",method:"post",data:t})}function R(t){return Object(s["b"])({url:"/task/step/ended",method:"post",data:t})}function F(t){return Object(s["b"])({url:"edu/company/getQuizzes",method:"get",params:t})}function E(t){return Object(s["b"])({url:"/edu/company/generate",method:"get",params:t})}function P(t){return Object(s["b"])({url:"/edu/company/saveAnswerRecord",method:"post",data:t})}function N(t){return Object(s["b"])({url:"/task/flow/ended",method:"post",data:t})}function M(t){return Object(s["b"])({url:"/menu/knowledge/relation/getBaseBoundList/"+t,method:"get"})}function B(t){return Object(s["b"])({url:"/menu/knowledge/relation/baseCancelBound",method:"post",data:t})}function U(t){return Object(s["b"])({url:"/task/flow/start",method:"post",data:t})}},e7d3:function(t,e,i){},e964:function(t,e,i){"use strict";i("2fe6")},e9a0:function(t,e,i){},ea4c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOCAYAAAASVl2WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAESSURBVHgBfZCxSsNQGIXPf+9NqgmtEUQcHO4iOBbcfArfQN+kxRfwEeobdOzYXYQOIgUHC9JaUWzHJuYmxxsHDRj9t5/z/f/hHOCfCTP2GoVkxiR+5yBak9IgWjEYlim7KhLoungwodUK42JRHLs3h+1Y/wD2xl9ojNK5sy7LobeASBmoSjy55XkbGPPZWaNzxhEQe/MdB8jZHXubnP2Xpd/aDlL9FGEgIvtxC2bPQJQWMBSWSiQMAXrE+N+H3uYrxeWMF4HC1eOiSNLAoYICJbCdEN8xB6/stojh9KmwqSnQjoRHu96oHnO0pu0Ixg/L0q4+Spxa87vF6YZ2nnFyvyq5yMjGqkkmruB1yT+AGtj/BIB3c3y30kFNAAAAAElFTkSuQmCC"},f3a0:function(t,e,i){"use strict";i("b73a")},f3fa:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOcSURBVHgBpVVdbBRVFD73zp2ZnVl2s1Q3a10TULFBNCoxurRSiFSCEC3yYOuDNRpf0DT64IsPYmIiQTSSaDA+GOtvYmIiUYi1m2is2EZjwNI20gqlLAv9gQIp3e3uzs7ce7gzXbbLMgUCX3Ie7p1zv/Odnz1LwB/0xUgk/PoDS3ffbRrN3OEhSyAQ+cG1IFPwHMLQwdNn39wyMLLP9ZcmKglINaHrMPlkfa/Gsd52HOlByALBgUurNQOw68joQ28cGRuQR/QjZm2xmN6RWJ49l8lxSafAdUKj1J5iZGdd19/bqonJw5J4/1Ori9lZy825HNCVoMgoBlO8dGzOIc8RSclH5u/cGjS4um9/AKpS994f2Ly2mKkgdQkZpUJV2fCX6fFVawdSwU3Jv9S2Q6Px8WJxZ9jUwUG0okHDKpFeVjLvkG5o6NB0u02qYCWZuNgMkM+PnbzzleFUGqoaUxIkpjY91h/t7H0QfOARO0ManmlJgBLLS3cCZkCHpzt71O454RxuAPTn7UqLnUaMfvOnpCCuWBw6P/1c902QeopH96r/xA14xDssEqB23QPknWG/EbtiVq8GJknvvXTALIXjDSO/LuArNncUZqyMEoJrANHOuc0KVl6mh8UvCz2wZoRlZYvXJJZF1Gn1ncKAwE0DKUUCs5VXS5aQDQD+5FpI0/WQAdVGaJU+QopsIov/3R4kCfdMCYc90fr1AL3ow0v3vvxEjV/Ade991QVicVNZr8iN04P9+BFHghqzYdXUM/DtSEys+HDd8/J79a6QE9Ht+Jkerm2arwKClRn73Us5PxjA+KFWWMZm5GsCWo0J4zt6jFR3yoarzzJb/8GJ75x8eAtQRZmrAsP/v9+63C0Oua+v+ZO7lBkuSqUtns9h/O3GfG3b/XUwv08uq6JrG96f/tgpRMqkLoyIgWP9Xx8tN2lN70uYS19AqGgc1ShXNHVwLHm0Xfw4+e+p8Ckeqo2H7misa73l8aW7cqcPs8jh3xRkjhefUoWfOPDFoyN72vvKaxNWgLp69wtW4UxW/qqvnAoW1NzugrAcz6C0/wWbgkXp7UAzK7leM9uRfO22reBtnHkosHEZW/NWYyGXmuaS5LoXPRCbB5SNP/U8+2oLlHri+9eU6GxNEk6anKxFy9J8IAdAGPEQzQxOtva3J3+AikYv9IhALGau3JH4TIuazVgUQVFw5sLKLiimioSRiQt9E+8ObfvjU/BZUBcB6U9u5/KGRekAAAAASUVORK5CYII="},f47d:function(t,e,i){"use strict";i("99da")},f50b:function(t,e,i){},f565:function(t,e,i){t.exports=i.p+"c80a9036bc9ffedfc1063466f87472f1.png"},f982:function(t,e,i){t.exports=i.p+"e9dde7f35b826738049d1e10765f48e8.png"},f9bc:function(t,e,i){"use strict";i("73b6")},fd38:function(t,e,i){t.exports=i.p+"79960c690fb4d2c865ca9e16c4d47fc8.png"},ff80:function(t,e,i){"use strict";i("5b7b")}}]);